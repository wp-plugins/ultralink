(function(){function Ob(a,b,c){if(a){var d=/pre/i,e=/[^\d]+/g;b=b||"==";c=c||jQuery().jquery;var k=a.replace(e,""),e=c.replace(e,""),h=k.length,g=e.length;a=d.test(a);c=d.test(c);k=g>h?parseInt(k)*10*(g-h):parseInt(k);e=h>g?parseInt(e)*10*(h-g):parseInt(e);switch(b){case "==":return!0==(k==e&&a==c);case ">=":return!0==(k>=e&&(!a||a==c));case "<=":return!0==(k<=e&&(!c||c==a));case ">":return!0==(k>e||k==e&&c);case "<":return!0==(k<e||k==e&&a)}}return!1}function oc(a){"undefined"!=typeof jQuery&&(jQuery.isVersion=
Ob,jQuery.isVersion("1.7",">")||(f=jQuery,void 0!=Pb&&(jQuery.noConflict(),window.jQuery=Pb,Pb=void 0)));"undefined"!=typeof f&&("undefined"!=typeof Raphael&&void 0!=Qb)&&Pc(Qb)}function Qc(a,b){a==Ca+"ultralinkLibraries/jquery+patch-min.js"?kb(aa+"ultralinkLibraries/jquery+patch-min.js",b):a==Ca+"ultralinkLibraries/raphael+patch-min.js"&&kb(aa+"ultralinkLibraries/raphael+patch-min.js",b)}function kb(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";
d.async=!0;d.src=a;Ya(10)?d.onreadystatechange=function(){"loaded"==d.readyState||"complete"==d.readyState?b&&b(a):"uninitialized"==d.readyState&&Qc(a,b)}:(d.onload=function(){b&&b(a)},d.onerror=function(){Qc(a,b)});c.appendChild(d)}function Rc(a,b){void 0==b&&(b=80);return a&&a.length>b?a.substr(0,b)+"...":a}function Sc(a,b){"intelark"==b&&(a=a.replace("/Processors/","/"),a=a.replace("/SSDs/","/"),a=a.replace("/DesktopBoards/","/"));return a}function pc(){Rb=0.25;I=C=3;qa=12;Z=V=4.5;S=W=5.5;ub=4;
vb=1;Sb=0.8;Tb=2.5;Ub=8;Za=7;ba=Vb=45;X=25;P=5;N=8;lb=6;Wb=4;wa=10}function Md(a){pc();Rb*=a;C*=a;I*=a;qa*=a;V*=a;Z*=a;W*=a;S*=a;ub*=a;vb*=a;Sb*=a;Tb*=a;Ub*=a;Za*=a;Vb*=a;X*=a;P*=a;N*=a;lb*=a;Wb*=a;wa*=a}function Tc(){z=document.createElement("iframe");z.id="ULinlineIframe";z.type="content";z.frameBorder=0;z.width="100px";z.height="100px"}function Nd(a){for(var b=(new Date).getTime();(new Date).getTime()<b+a;);}function qc(a){var b=a.match(/:\/\/(www[0-9]?.)?(.[^/:]+)/);return null!=b&&2<=b.length?
b[2]:a}function Ya(a){var b;if(b=wb)b=Infinity,"Microsoft Internet Explorer"==window.navigator.appName?null!=Od.exec(window.navigator.userAgent)&&(b=parseFloat(RegExp.$1)):"Netscape"==window.navigator.appName&&null!=Pd.exec(window.navigator.userAgent)&&(b=parseFloat(RegExp.$1)),b=b<a;return b?!0:!1}function Uc(a){!0==rc?n.setOptions(a):setTimeout(function(){Uc(a)},2E3)}function Ga(a){try{if(void 0!=a.contentDocument)return a.contentDocument;if(void 0!=a.contentWindow.document)return a.contentWindow.document}catch(b){}}
function Xb(a,b){var c,d=(new Date).getTime(),e="style-"+b;if(void 0==a[e]||5E3<d-a[e+"_ts"]){if(c=(c=document.defaultView)&&c.getComputedStyle?c.getComputedStyle(a,"")[b]:a.currentStyle?a.currentStyle[b]:a.style[b],"fontSize"==b||"color"==b)a[e]=c,a[e+"_ts"]=d}else c=a[e];return c}function sc(){var a=f("body")[0];if(void 0!=a){var b=Xb(a,"position");null!=b&&"relative"==b&&(a.style.position="static")}}function $a(a){if(a.getBoundingClientRect){a=a.getBoundingClientRect();var b=document.body,c=document.documentElement,
d=a.top+(window.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||0),b=a.left+(window.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||0);return[Math.round(b),Math.round(d)]}for(b=d=0;a;)d+=parseInt(a.offsetTop,10),b+=parseInt(a.offsetLeft,10),a=a.offsetParent;return[b,d]}function ab(a,b,c){if(void 0==a.umoffset||void 0==a.umoffsetHit||100==a.umoffsetHit||!0==c){var d=f(a).offset();c=d.top;var d=d.left,e=a.offsetWidth,k=a.offsetHeight;!b||(void 0==a.umoffset||c==a.umoffset.top&&d==a.umoffset.left&&
e==a.umoffset.width&&k==a.umoffset.height)||f("uword",a).each(function(){ab(this,!1,!0)});a.umoffset={};a.umoffset.top=c;a.umoffset.left=d;a.umoffset.width=e;a.umoffset.height=k;a.umoffsetHit=0}a.umoffsetHit+=1;return a.umoffset}function bb(a,b,c){a=ab(a,b,c);return a.top>xa+Ha||a.top+a.height<=xa?!1:!0}function Yb(a,b,c){a=ab(a,b,c);return a.top>xa+2*Ha||a.top+a.height<=xa?!1:!0}function Vc(a,b){var c="source scheme authority userInfo user pass host port relative path directory file query fragment".split(" "),
d=this.php_js&&this.php_js.ini||{},e=d["phpjs.parse_url.mode"]&&d["phpjs.parse_url.mode"].local_value||"php";parser={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};
for(var k=parser[e].exec(a),h={},g=14;g--;)k[g]&&(h[c[g]]=k[g]);if(b)return h[b.replace("PHP_URL_","").toLowerCase()];if("php"!==e){var l=d["phpjs.parse_url.queryKey"]&&d["phpjs.parse_url.queryKey"].local_value||"queryKey";parser=/(?:^|&)([^&=]*)=?([^&]*)/g;h[l]={};h[c[12]].replace(parser,function(a,b,c){b&&(h[l][b]=c)})}delete h.source;return h}function Wc(a,b){var c=String(a).replace(/^&/,"").replace(/&$/,"").split("&"),d=c.length,e,k,h,g,l,f,s,m,r;b||(b=this.window);for(e=0;e<d;e++){k=c[e].split("=");
h=decodeURIComponent(k[0].replace(/\+/g,"%20"));for(s=2>k.length?"":decodeURIComponent(k[1].replace(/\+/g,"%20"));" "===h.charAt(0);)h=h.slice(1);-1<h.indexOf("\x00")&&(h=h.slice(0,h.indexOf("\x00")));if(h&&"["!==h.charAt(0)){m=[];for(k=f=0;k<h.length;k++)if("["===h.charAt(k)&&!f)f=k+1;else if("]"===h.charAt(k)&&f&&(m.length||m.push(h.slice(0,f-1)),m.push(h.substr(f,k-f)),f=0,"["!==h.charAt(k+1)))break;m.length||(m=[h]);for(k=0;k<m[0].length;k++){f=m[0].charAt(k);if(" "===f||"."===f||"["===f)m[0]=
m[0].substr(0,k)+"_"+m[0].substr(k+1);if("["===f)break}f=b;k=0;for(r=m.length;k<r;k++)if(h=m[k].replace(/^['"]/,"").replace(/['"]$/,""),l=f,""!==h&&" "!==h||0===k)void 0===f[h]&&(f[h]={}),f=f[h];else{h=-1;for(g in f)f.hasOwnProperty(g)&&+g>h&&g.match(/^\d+$/g)&&(h=+g);h+=1}l[h]=s}}}function ra(a,b,c,d,e){return"M "+(a+c)+","+(b+e)+"L "+(a+c)+","+(b+d-e)+"Q "+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+"L "+(a+e)+","+(b+d)+"Q "+a+","+(b+d)+","+a+","+(b+d-e)+"L "+a+","+(b+e)+"Q "+a+","+b+","+(a+e)+","+b+
"L "+(a+c-e)+","+b+"Q "+(a+c)+","+b+","+(a+c)+","+(b+e)+"z"}function Ra(a,b,c,d,e){return"M "+(a+c)+","+(b+e)+"Q "+(a+c)+","+b+","+(a+c-e)+","+b+"L "+(a+e)+","+b+"Q "+a+","+b+","+a+","+(b+e)+"L "+a+","+(b+d-e)+"Q "+a+","+(b+d)+","+(a+e)+","+(b+d)+"L "+(a+c-e)+","+(b+d)+"Q "+(a+c)+","+(b+d)+","+(a+c)+","+(b+d-e)+"L "+(a+c)+","+(b+e)+"z"}function Zb(a,b,c,d,e,k,h,g){d/2-h/2+g<b+e&&(g+=-(d/2-h/2+g)+b+e);return"M"+(a+c)+","+(b+e)+" L"+(a+c)+","+(b+d/2-h/2+g)+" L"+(a+c+k)+","+(b+d/2+g)+" L"+(a+c)+","+
(b+d/2+h/2+g)+" L"+(a+c)+","+(b+d-e)+" Q"+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+" L"+(a+e)+","+(b+d)+" Q"+a+","+(b+d)+","+a+","+(b+d-e)+" L"+a+","+(b+e)+" Q"+a+","+b+","+(a+e)+","+b+" L"+(a+c-e)+","+b+" Q"+(a+c)+","+b+","+(a+c)+","+(b+e)+" z"}function $b(a,b,c,d,e,k,h,g){d/2-h/2+g<b+e&&(g+=-(d/2-h/2+g)+b+e);return"M"+(a+c)+","+(b+e)+" L"+(a+c)+","+(b+d-e)+" Q"+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+" L"+(a+e)+","+(b+d)+" Q"+a+","+(b+d)+","+a+","+(b+d-e)+" L"+a+","+(b+d/2+h/2+g)+" L"+(a-k)+","+(b+d/
2+g)+" L"+a+","+(b+d/2-h/2+g)+" L"+a+","+(b+e)+" Q"+a+","+b+","+(a+e)+","+b+" L"+(a+c-e)+","+b+" Q"+(a+c)+","+b+","+(a+c)+","+(b+e)+"z"}function mb(a,b,c,d,e,k,h,g){return"M"+(a+c)+","+(b+e)+" L"+(a+c)+","+(b+d-e)+" Q"+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+" L"+(a+e)+","+(b+d)+" Q"+a+","+(b+d)+","+a+","+(b+d-e)+" L"+a+","+(b+e)+" Q"+a+","+b+","+(a+e)+","+b+" L"+(a+c/2-k/2+g)+","+b+" L"+(a+c/2+g)+","+(b-h)+" L"+(a+c/2+k/2+g)+","+b+" L L"+(a+c-e)+","+b+" Q"+(a+c)+","+b+","+(a+c)+","+(b+e)+" z"}function Xc(a,
b,c){"ultralinkme"==a&&Yc();b.remove();f(E).hide();setTimeout(function(){if(!ka){var a=Ga(z);a&&(a.body.innerHTML="")}z.setAttribute("src","about:blank");z.removeAttribute("width");z.removeAttribute("height");f(z).css({width:"",height:""});f(E).css({top:"-1000px",left:"-1000px",width:"",height:""}).show()},1);delete c.inlinePaper;!0==c.expanded&&delete c.expanded;nb=!1}function na(){if(void 0!=D){var a=D;if(void 0!=a.inlinePaper){var b=a.inlinePaper,c=b.linkType;if("videovlc"==c){var d=Ga(z);if(d){var e=
d.getElementById("vlc");e.playlist.items.clear();var k=setInterval(function(){0==e.playlist.items.count&&(clearInterval(k),Xc(c,b,a))},1E3)}}else Xc(c,b,a)}}}function Zc(a){if(void 0!=a&&void 0!=D){var b=D,c=b.inlinePaper;if(void 0==c||c.ULAnchor!=a)n.restorePreviousInlineButton(b),n.createInlinePopup(a.linkType,a.URL,a)}}function xb(a){a.style.textShadow="none";Ya(10)&&(a=a.ieSpan)&&(a.style.filter="",a.style.display="none")}function Da(a,b){var c=n.getDataUl(a);if(c){var d="hit";c&&c.status&&(d=
c.status);var e=0;c&&c.needsReview&&(e=c.needsReview);if("hit"==d||"true"==l.editorStyle){var k=7;if(sa||ka)k=5;var h=Xb(a,"fontSize"),h=parseFloat(h);h<yb&&(h=yb);var h=h/16,g="51, 51, 255",c=c.callout;"insight"==c?(g="255, 0, 0",b=1):"search"==c?(g="255, 0, 0",b=1):"normal"==c?b=1:"hit"!=d?g="255, 51, 255":0!=e&&"true"==l.editorStyle?g="0, 255, 0":l.blurColor?g=l.blurColor:(d=Xb(a,"color"),d=Raphael.color(d),150<=(299*d.r+587*d.g+114*d.b)/1E3&&(g="255, 255, 255"));a.style.textShadow="0px "+1*h+
"px "+k*h+"px rgba("+g+", "+b+")";Ya(10)&&(k=a.ieSpan,0.99<b&&(b=1),k.style.filter="progid:DXImageTransform.Microsoft.Blur(makeshadow='true', ShadowOpacity="+b+", pixelradius="+10*b+")",k.style.display="inline-block",k.style["margin-top"]=-10*b+"px",k.style["margin-left"]=-10*b+"px",a.style.display="inline-block")}}}function $c(a,b){var c="";ad&&(c="-webkit-");a.style[c+"transition"]="";Da(a,b);setTimeout(function(){a.style[c+"transition"]="text-shadow 0.75s ease-in";Da(a,0);Ia||setTimeout(function(){a.style[c+
"transition"]=""},1000.75)},1E3)}function tc(){f("uword").each(function(){var a=n.getDataUl(this);a&&a.callout&&("normal"==a.callout||"insight"==a.callout||"search"==a.callout)||xb(this)})}function Qd(){xa=Sa.scrollTop();Ha=window.innerHeight||document.documentElement.clientHeight;for(var a=K.length;a--;){var b=K[a];bb(b)&&f("uword",b).each(function(){Da(this,1)})}}function bd(a){if("undefined"!=typeof a&&void 0!=a.paper){var b=$a(a),c=b[0]-a.trueOffsetLeft,d=b[1]-a.trueOffsetTop;if(!(0!=b[0]&&0!=
b[1]||0==c&&0==d))n.closeUltralinkPopup();else if(c||d){var b=a.paper,e=a.inlinePaper,k=function(a){a.style.left=parseFloat(a.style.left)+c+"px";a.style.top=parseFloat(a.style.top)+d+"px"};k(b.canvas);void 0!=e&&(k(e.canvas),k(E));for(ia=0;ia<b.ULLabels.length;ia++)k(b.ULLabels[ia]);for(ia=0;ia<b.ULImages.length;ia++)k(b.ULImages[ia]);for(ia=0;ia<b.ULImageBacks.length;ia++)k(b.ULImageBacks[ia]);b.umLink&&(k(b.umLink),k(b.umLink.outline));a.trueOffsetLeft+=c;a.trueOffsetTop+=d;a.popupX=a.trueOffsetLeft-
W-V-C;a.popupY=a.trueOffsetTop-S-Z-I-a.thumbnailH}}}function cd(a,b){void 0!=D&&D==a&&setTimeout(function(){bd(a);cd(a,b+250)},b)}function dd(a){for(var b=void 0,c=0;c<l.userLanguageOrder.length;c++){for(var d=l.userLanguageOrder[c],e=0;e<a.length;e++)if(d==a[e].language){for(var k=0;k<l.userCountryOrder.length;k++){for(var h=l.userCountryOrder[k],g=0;g<a.length;g++)if(d==a[g].language&&h==a[g].country){b=a[g];break}if(void 0!=b)break}if(void 0!=b)break;else for(k=0;k<a.length;k++)if(d==a[k].language&&
void 0==a[k].country){b=a[g];break}if(void 0!=b)break;b=a[e];break}if(void 0!=b)break}return b}function ed(a){for(var b,c,d=0;d<a.length;d++){var e=a[d];if(b&&b!=e.language)return!1;b=e.language;if(c&&c!=e.country)return!1;c=e.country}return!0}function Rd(a){a.baseMatches=document.querySelectorAll("base[href]");a.baseParents=[];a.baseHrefs=[];for(var b=0;b<a.baseMatches.length;b++)a.baseHrefs[b]=a.baseMatches[b].getAttribute("href"),a.baseMatches[b].removeAttribute("href"),a.baseParents[b]=a.baseMatches[b].parentNode,
a.baseParents[b].removeChild(a.baseMatches[b])}function Sd(a){if(void 0!=a.baseMatches&&void 0!=a.baseParents){for(var b=0;b<a.baseMatches.length;b++)a.baseMatches[b].setAttribute("href",a.baseHrefs[b]),a.baseParents[b].appendChild(a.baseMatches[b]);delete a.baseMatches;delete a.baseParents;delete a.baseHrefs}}function Td(){Ja=document.querySelectorAll("base[href]");ac=[];uc=[];for(var a=0;a<Ja.length;a++)uc[a]=Ja[a].getAttribute("href"),Ja[a].removeAttribute("href"),ac[a]=Ja[a].parentNode,ac[a].removeChild(Ja[a])}
function Ud(){for(var a=0;a<Ja.length;a++)Ja[a].setAttribute("href",uc[a]),ac[a].appendChild(Ja[a])}function ta(a,b){a=a.node;for(var c in b)a.setAttribute(c,b[c])}function bc(a,b){ja=400>=cb?!0:!1;b||(b=0);l.previewCallback&&l.previewCallback(a,b);if(a&&Ka==a){tc();xb(a);Ka=void 0;n.removeOldPopup();D=a;0<l.hoverRecoverTime&&(Ea=!0);var c=Xb(a,"fontSize");F=parseFloat(c);F<yb&&(F=yb,c=yb+"px");var d=F*Vd;Md(F/16);c="";0<b&&(c="_"+b);var e=n.getDataUl(a,"data-ul"+c),k=a.offsetWidth,c=a.offsetHeight,
h=F+N+N;ba=Vb+h;var g=k;e?(g+=h,n.getDataUl(a,"data-ul_1")?(g+=F+N,a.multipleUltralinks=!0):a.multipleUltralinks=!1):a.multipleUltralinks=!1;for(var h=n.ultralinkLinks(e,a.textContent),J=h.Links,u=h.numOfLinks,s=h.numOfButtons,m=Q=h=0;m<O.length;m++)"drawer"==O[m].categoryType&&0<u[m]&&Q++,"true"==l.combineLikeButtons&&1<u[m]&&(s-=u[m]-1),u[m]>h&&(h=u[m]);ya=qa;ya>(c+2*Z)/2&&(ya=(c+2*Z)/2);var r=(s-0.5)/(s+1);0==s&&(r=0.1);var q=ba;a.thumbnailH=0;a.actualThumbnailH=0;var t=W+C+2,v=S+c+2*Z+I+a.thumbnailH+
P+6,R=v+X/2,p=0,h=s;if(!1==ja){for(var y=[],ca=function(a,b,c,g){function k(){var a=f("<span>",{"class":"ultralinkLink"}).text(c).css({"font-size":d+"px",top:"-1000px",left:"-1000px"})[0];a.numLinks=b;document.body.appendChild(a);"drawer"==g&&f(a).attr("data-drawerlink","true");y.push(a)}if(1<b&&"true"==l.combineLikeButtons)k();else for(type in a){a=!1;for(var h=0;h<O.length;h++){var m=O[h];if(void 0!=m.linkTypes[type]){c=m.linkTypes[type];a=!0;break}}!0==a&&("href"==type||"href2"==type||"href3"==
type?c=1<e.URLS[type].length&&ed(e.URLS[type])?"Links":qc(e.URLS[type][0].URL):-1!=type.indexOf("annotation")&&(a={},Wc(Vc(e.URLS[type][0].URL,"PHP_URL_QUERY"),a),a.label&&(c=a.label)),k())}},m=0;m<O.length;m++){var A=O[m];"normal"==A.categoryType&&0!=u[m]&&ca(J[m],u[m],A.category)}for(m=0;m<O.length;m++)A=O[m],"drawer"==A.categoryType&&0!=u[m]&&ca(J[m],u[m],A.category,"drawer");for(m=0;m<y.length;m++){var A=y[m],ca=A.textContent,L=void 0,B=vc[ca];B?B[d]&&(L=B[d]):vc[ca]={};void 0==L&&(L=A.offsetWidth,
vc[ca][d]=L);ca=2*N+L+(F+N)*A.numLinks;ca>q&&(q=ca,p=A.numLinks)}}else for(m=0;m<O.length;m++)u[m]&&(ca=N+(F+N)*u[m],ca>q&&(q=ca,p=u[m]));U=ba=q;g+2*V>U&&(ba=g+2*V,U=g+2*V,p=Math.floor((ba-N)/(F+N)));U+=2*W+4;var T=0,x=[];if(!0==ja){for(m=Q=h=0;m<O.length;m++)A=O[m],"normal"==A.categoryType&&u[m]&&(T+=u[m],T>p?(T=u[m],h++):0==h&&(h=1),x[h-1]=T);for(m=T=0;m<O.length;m++)A=O[m],"drawer"==A.categoryType&&u[m]&&(T+=u[m],T>p?(T=u[m],Q++):0==Q&&(Q=1),x[h+Q-1]=T);h+=Q}la=S+c+2*Z+P+(X+P)*h+12;0<Q&&(la+=lb+
wa+P);0<u[0]&&(a.thumbnailH=3+ba+S+I/2);g=ab(a,!1,!0);a.trueOffsetLeft=Math.round(g.left);a.trueOffsetTop=Math.round(g.top);a.popupX=a.trueOffsetLeft-W-V-C;a.popupY=a.trueOffsetTop-S-Z-I-a.thumbnailH;a.popupX-1+U+2*C>cb?(a.popupX-=U-(k+2*V)-W-V-C,La=!0):La=!1;Rd(a);a.paperW=La?cb-(a.popupX-1):U+2*C;a.paperH=la+I+a.thumbnailH+C;a.paper||(a.paper=new Raphael(a.popupX-1,a.popupY,a.paperW,a.paperH));var w=a.paper;w.ULButtons=[];w.ULLabels=[];w.ULImages=[];w.ULImageBacks=[];v=S+c+2*Z+I+a.thumbnailH+P+
6;R=v+X/2;if(!1==ja){g=-2;if(cc||sa)g=-3;q=!1;for(m=0;m<y.length;m++)A=y[m],"true"!=f(A).attr("data-drawerlink")||q||(v+=lb+wa+P,R=v+X/2,q=!0),f(A).css({top:Math.round(a.popupY+R-d/2+g)+"px",left:Math.round(a.popupX+t+N-2)+"px"}),f(document.body).append(A),v+=X+P,R=v+X/2,w.ULLabels.push(A)}var v=S+c+2*Z+I+a.thumbnailH+P+6,R=v+X/2,H;H=La?w.path(ra(C,I+a.thumbnailH,U,la,qa)+Ra(U-C-2*(W+C+1)-k+2*V,S+I+a.thumbnailH,k+2*V,c+2*Z,ya)):w.path(ra(C,I+a.thumbnailH,U,la,qa)+Ra(W+C+1,S+I+a.thumbnailH,k+2*V,c+
2*Z,ya));w.myRrect=H;ta(H,{opacity:0.9,"stroke-opacity":wc,stroke:fd,"stroke-width":Rb});H.attr("fill","90-"+dc+":"+100*r+"-"+Fa);H.node.style.stroke=fd;H.node.style.fill=H.node.getAttribute("fill");H.node.parentNode.setAttribute("class","ultralinkSVG");H.node.parentNode.style.zIndex=l.zIndexMax-2;s&&(Ma=S+c+2*Z+I+a.thumbnailH+P+2,Na=(h-Q)*(X+P)-P+8,s=w.path(ra(t-0.5,Ma+0.5,ba,Na,Za)),g=w.path(ra(t,Ma,ba,Na,Za)),ta(s,{opacity:0,"stroke-opacity":0}),ta(g,{"stroke-opacity":0}),s.attr("fill","60-"+Fa+
":0.9-#eee"),g.attr("fill","60-"+dc+":0.9-"+Fa),s.node.style.fill=s.node.getAttribute("fill"),g.node.style.fill=g.node.getAttribute("fill"),0<Q&&(w.dbOutline2=w.path(ra(t-0.5,Ma+Na+2*wa-0.5,ba,Q*(X+P)-P+8,Za)),w.dbOutline=w.path(ra(t,Ma+Na+2*wa,ba,Q*(X+P)-P+8,Za)),ta(w.dbOutline2,{opacity:0,"stroke-opacity":0}),ta(w.dbOutline,{"stroke-opacity":0}),w.dbOutline2.attr("fill","330-"+Fa+":0.9-#eee"),w.dbOutline.attr("fill","330-"+dc+":0.9-"+Fa),w.dbOutline2.node.style.fill=w.dbOutline2.node.getAttribute("fill"),
w.dbOutline.node.style.fill=w.dbOutline.node.getAttribute("fill"),w.drawerButton=w.rect(C,Ma+Na+wa,U,1),ta(w.drawerButton,{opacity:1,"stroke-opacity":0}),w.drawerButton.attr("fill","0-#c3c3c3-#aaa:40-#aaa:60-#c3c3c3"),w.drawerCircle=w.circle(U/2,Ma+Na+wa,Wb),ta(w.drawerCircle,{opacity:1,"stroke-opacity":1,"stroke-width":1,stroke:"#aaa"}),w.drawerCircle.attr("fill","#ccc"),w.drawerCircle.animate(gd),a.drawerIn=!1));var db=h-Q,z=T=0,G=-1,E=N;ja&&(E+=(ba-x[z]*(F+N)-N)/2);s=function(c,d,g,k){function h(c,
d){var g=w.rect(t+1,v-4,ba-2,1);if(G<z&&0<z){var m=238,q=221;z<db&&1<z?(m-=12*(z/(db-2)),q-=12*(z/(db-2))):z>=db&&2<z-db&&(m-=12*((Q-(z-db))/(Q-2)),q-=12*((Q-(z-db))/(Q-2)));ta(g,{opacity:1,"stroke-opacity":0});g.attr("fill","0-rgb("+q+","+q+","+q+")-#aaa:40-#aaa:60-rgb("+m+","+m+","+m+")");G=z}else ta(g,{opacity:1,"stroke-opacity":0});g.bX=t;g.bY=v;g.bW=ba;g.bH=X;for(var p in c)break;var m=w.ULImages.length,q=0,r;for(r in c){p=r;var s=c[p],y=0;if(ob||ka)y=1;else if(cc||sa)y=0.5;var B,A;B=a.popupX+
t+E;A=a.popupY+R-F/2+y;!1==ja&&(B+=ba-d*(F+N)-N);y=f("<div>",{"class":"ultralinkLinkImageBackNoPreview"}).css({top:A-1+"px",left:B-1+"px",width:F+2+"px",height:F+2+"px","border-radius":0.17742*F+"px"})[0];"drawer"==k&&jQuery(y).attr("data-drawerlink","true");document.body.appendChild(y);B=f("<a>",{"class":"ultralinkLinkImageLink"}).css({top:A+"px",left:B+"px"})[0];"drawer"==k&&jQuery(B).attr("data-drawerlink","true");A=n.linkTypeImage(p,F);A=f("<img>",{"class":"ultralinkLinkImage",src:A}).css({width:F+
"px",height:F+"px"})[0];B.appendChild(A);document.body.appendChild(B);B.outline=y;B.image=A;B.linkType=r;B.URL=s;B.nuButton=g;n.setAsLinkAnchor(B,s,p,e.category,a.textContent,e.database,e.ID);if("true"!=l.inlinePopups||"buyamazon"==B.linkType&&s.match(n.amazonSearchRegExp)||!(-1!=f.inArray(B.linkType,n.supportedInlineTypes)||B.linkType==l.customExperience||"href"==B.linkType&&1<e.URLS.href.length&&ed(e.URLS.href)))B.UMActionType="blueShadow",B.setAttribute("title",n.linkTooltip(r,"blue")),y.previewAvailable=
!1,y.className="ultralinkLinkImageBackNoPreview";else if(B.UMActionType="blackShadow",B.setAttribute("title",n.linkTooltip(r,"black")),y.previewAvailable=!0,a[B.linkType+"_insightInfo"]&&0==b?(y.insightAvailable=!0,y.className="ultralinkLinkImageBackInsightPreview"):y.className="ultralinkLinkImageBackPreview",B.setAttribute("href",""),B.removeAttribute("href"),a.autoPopup==B.linkType){var x=B.linkType,L=B.URL,ca=B,H=k;setTimeout(function(){"drawer"==H&&ec(a,"out");ca.UMActionType="blackShadowAuto";
za()&&fc(void 0,ca);ca.UMActionType="blueShadow";n.createInlinePopup(x,L,ca)},100)}else if(void 0==a.autoPopup)if("wikipedia"==B.linkType||"intelark"==B.linkType||"comicvine"==B.linkType){if((1==u[5]||2==u[5]&&void 0!=J[5].freebase||"comicvine"==B.linkType&&"www.comicvine.com"==window.location.host)&&0==u[1]&&0==u[2]&&0==u[3]&&0==u[4]&&0==u[6]&&0==u[7]){var eb=B.linkType,C=B.URL,D=B;setTimeout(function(){D.UMActionType="blackShadowAuto";za()&&fc(void 0,D);D.UMActionType="blueShadow";D.setAttribute("title",
n.linkTooltip(eb,"blue"));D.outline.className="ultralinkLinkImageBackNoPreview";n.createInlinePopup(eb,C,D)},100)}}else if(-1!=B.linkType.indexOf("annotation")&&(p={},Wc(Vc(B.URL,"PHP_URL_QUERY"),p),p.auto)){var I=B.linkType,M=B.URL,K=B;setTimeout(function(){K.UMActionType="blackShadowAuto";za()&&fc(void 0,K);K.UMActionType="blueShadow";K.setAttribute("title",n.linkTooltip(I,"blue"));K.outline.className="ultralinkLinkImageBackNoPreview";n.createInlinePopup(I,M,K)},100)}hd(B);w.ULImages[m]=B;w.ULImageBacks[m]=
y;m++;q++;E+=F+N;ja&&T++}return g}function m(a,b){ja&&T+b>p&&(T=0,v+=X+P,R=v+X/2,E=N,z++,E+=(ba-x[z]*(F+N)-N)/2);var c=h(a,b);c.ulLabel=c;w.ULButtons.push(c);!1==ja&&(v+=X+P,R=v+X/2,E=N,z++)}if(1<d&&"true"==l.combineLikeButtons)m(c,d);else for(type in c)d={},d[type]=c[type],m(d,1)};for(m=0;m<O.length;m++)A=O[m],"normal"==A.categoryType&&0!=u[m]&&s(J[m],u[m],A.category);!0==ja&&h-Q&&(v+=X+P,R=v+X/2);z++;E=N;ja&&(E+=(ba-x[z]*(F+N)-N)/2);T=0;v+=lb+wa+P;R=v+X/2;for(m=0;m<O.length;m++)A=O[m],"drawer"==
A.categoryType&&0!=u[m]&&s(J[m],u[m],A.category,"drawer");if(e.ID){g=0;if(ob||ka)g=1;g=a.popupY+S+I+a.thumbnailH+(c+2*Z-F)/2+g;r=a.popupX+U-F-P/2-N-2;La&&(r=a.popupX+P/2+N+2);h=f("<div>",{"class":"ultralinkLinkImageBackPreview"}).css({top:g-1+"px",left:r-1+"px",width:F+2+"px",height:F+2+"px","border-radius":0.17742*F+"px"})[0];document.body.appendChild(h);s="";e.database&&(s=e.database+"/");g=f("<a>",{"class":"ultralinkLinkImageLink"}).css({top:g+"px",left:r+"px"})[0];r=aa+"link/"+s+e.ID+"?word="+
encodeURIComponent(a.textContent);s=f("<img>",{"class":"ultralinkLinkImage",src:n.linkTypeImage("ultralinkme",F)}).css({width:F+"px",height:F+"px"})[0];g.appendChild(s);g.outline=h;g.image=s;g.linkType="ultralinkme";g.URL=r;document.body.appendChild(g);w.umLink=g;n.setAsLinkAnchor(w.umLink,r,"ultralinkme",e.category,a.textContent,e.database,e.ID);"true"==l.inlinePopups?(w.umLink.UMActionType="blackShadow",w.umLink.setAttribute("title",n.linkTooltip("ultralinkme","black")),h.previewAvailable=!0,h.className=
"ultralinkLinkImageBackPreview",w.umLink.setAttribute("href",""),w.umLink.removeAttribute("href")):(w.umLink.UMActionType="blueShadow",w.umLink.setAttribute("title",n.linkTooltip("ultralinkme","blue")),h.previewAvailable=!1,h.className="ultralinkLinkImageBackNoPreview");hd(w.umLink);if(!0==a.multipleUltralinks){h=W+C+k+2*V+F/2+0.87*N;c=S+I+a.thumbnailH+(c+2*Z)/2;La&&(h=U-C-2*(W+C+1)-k+2*V-(F/2+0.87*N));w.nextUltralink=w.circle(h,c,F/2);ta(w.nextUltralink,{opacity:wc,cursor:"pointer",stroke:id,"stroke-width":Sb});
w.nextUltralink.attr("fill","90-#ddd:50-#eee");w.nextUltralink.click(function(c){jd(a,b)});w.nextUltralink.node.style.stroke=id;w.nextUltralink.node.style.fill=w.nextUltralink.node.getAttribute("fill");s=w.nextUltralink.glow({color:xc,width:Ub,opacity:Wd,offsety:0});for(g=0;g<s.length;g++)s[g].node.style.stroke=s[g].node.getAttribute("stroke");w.nextArrow=w.path("M"+(h-F/4+F/8)+","+(c-F/4)+" L"+(h+F/8)+","+c+" L"+(h-F/4+F/8)+","+(c+F/4));ta(w.nextArrow,{stroke:kd,"stroke-width":Tb,cursor:"pointer"});
w.nextArrow.click(function(c){jd(a,b)});w.nextArrow.node.style.stroke=kd;w.nextArrow.node.style.fill=w.nextArrow.node.getAttribute("fill")}}H.rectShadow=H.glow({color:xc,width:ub,opacity:ld,offsety:vb});for(c=0;c<H.rectShadow.length;c++)H.rectShadow[c].node.style.stroke=H.rectShadow[c].node.getAttribute("stroke");0<Q&&ec(a);if(0<u[0]){var K=e.URLS.image,eb=0,M=function(){var b=K[eb];if(void 0!=b){var c=b.URL,d=new Image;d.roundedCorners="true";b.roundedCorners&&(d.roundedCorners=b.roundedCorners);
var g=function(b){if(a==D){Td();var c=0,d=0,e=b.width,h=b.height,m=ba+3;a.actualThumbnailH=a.thumbnailH;e>h?(h*=m/e,e=m,d=m-h,a.actualThumbnailH=h+S+I/2):(e*=m/h,h=m,c=(m-e)/2);5>a.popupY&&h>m-(5-a.popupY)&&(c=(m-(5-a.popupY))/h,h*=c,e*=c,d=m-h,c=(m-e)/2,a.actualThumbnailH=h+S+I/2);if(0.3>e/m&&0.3>h/m)a.actualThumbnailH=0;else{w.ULback&&w.ULback.remove();w.ULback=w.ellipse(W+C+c+e/2,S+I+d+h/2,e/2,h/2);ta(w.ULback,{opacity:0,"stroke-opacity":0});w.ULback.attr("fill","r"+Fa+"-"+Fa+"-"+Fa+"-"+Fa);w.ULthumbnail&&
w.ULthumbnail.remove();w.ULthumbnail=w.image(b.src,W+C+c,S+I+d,e,h);"true"==b.roundedCorners&&(f("#imageClippath",w.canvas).remove(),b=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),b.setAttribute("id","imageClippath"),w.theR=document.createElementNS("http://www.w3.org/2000/svg","rect"),w.theR.setAttribute("x",W+C+c),w.theR.setAttribute("y",S+I+d),w.theR.setAttribute("rx",md),w.theR.setAttribute("ry",md),w.theR.setAttribute("width",e),w.theR.setAttribute("height",h),b.appendChild(w.theR),
w.canvas.appendChild(b),w.ULthumbnail.node.setAttribute("clip-path","url(#imageClippath)"));w.ULthumbnail.node.setAttribute("cursor","pointer");var q=function(a){1<Oa.length&&(Ta+=a,0>Ta?Ta=Oa.length-1:Ta>=Oa.length&&(Ta=0),g(Oa[Ta]))};w.ULthumbnail.click(function(b){var c=1;b.pageX<a.popupX+U/2&&(c=-1);void 0!=Ua&&(clearInterval(Ua),Ua=void 0,gc=!1);q(c)});void 0==Ua&&gc&&(Ua=setInterval(function(){gc&&q(1)},5E3));0<Q?Xd(a):(La?H.attr("path",ra(C,I+(a.thumbnailH-a.actualThumbnailH),U,la+a.actualThumbnailH,
qa)+Ra(U-C-2*(W+C+1)-k+2*V,S+I+a.thumbnailH,a.offsetWidth+2*V,a.offsetHeight+2*Z,ya)):H.attr("path",ra(C,I+(a.thumbnailH-a.actualThumbnailH),U,la+a.actualThumbnailH,qa)+Ra(W+C+1,S+I+a.thumbnailH,a.offsetWidth+2*V,a.offsetHeight+2*Z,ya)),nd(a,w.ULButtons.length))}Ud();eb++;M()}};d.onload=function(){0!=d.width&&0!=d.height?(Oa[Oa.length]=d,1==Oa.length&&g(d)):(eb++,M())};d.onerror=function(){eb++;M()};d.src=c}else 2>Oa.length&&w.ULthumbnail&&w.ULthumbnail.node.setAttribute("cursor","")};M()}setTimeout(function(){(e.ID&&
-1==e.ID||"ultralinkme"==a.autoPopup)&&Zc(w.umLink)},100);a.wellActive=!1;setTimeout(function(){a.wellActive=!0},1E3);f(a).parents().each(function(){"BODY"!=this.nodeName&&"HTML"!=this.nodeName&&jQuery(this).bind("scroll.ultralink",function(){bd(a)})});cd(a,250)}}function za(){return l.restrictAnalytics&&l.restrictAnalytics!=window.location.host&&-1==f.inArray(window.location.host,l.restrictAnalytics)?!1:!0}function Yd(a){a&&n.setOptions(a)}function Zd(a,b,c){console.log(b,c,a)}function Pa(a,b,c,
d){void 0==c&&(c="GET");b=l.database?b+("&analyticsDatabase="+encodeURIComponent(l.database)):b+("&analyticsDatabase="+encodeURIComponent(oa));""!=yc&&(b+="&associationType="+encodeURIComponent(yc));""!=zb&&(b+="&association="+encodeURIComponent(zb));var e="jsonp";if(sa||ka||pa)e="json";a={type:c,async:!0,url:a,data:b,xhrFields:{withCredentials:!0},success:Yd};"false"!=d&&(a.error=Zd);"GET"==c&&(a.dataType=e);f.ajax(a)}function fc(a,b){var c=b.parentNode.UMActionType;c||(c=b.parentNode.parentNode.UMActionType);
c||(c=b.UMActionType);var d=b.parentNode.UMType;d||(d=b.parentNode.parentNode.UMType);d||(d=b.UMType);var e=b.parentNode.UMDatabase;e||(e=b.parentNode.parentNode.UMDatabase);e||(e=b.UMDatabase);var k=b.parentNode.UMID;k||(k=b.parentNode.parentNode.UMID);k||(k=b.UMID);var h=b.parentNode.UMUrl;if(void 0==h||null==h)h=b.parentNode.parentNode.UMUrl;if(void 0==h||null==h)h=b.UMUrl;var g=b.parentNode.UMWord;if(void 0==g||null==g)g=b.parentNode.parentNode.UMWord;if(void 0==g||null==g)g=b.UMWord;if(0<parseInt(k)){var f=
"addClickHyperlink";d&&(f="addClick");h="ULWord="+encodeURIComponent(g)+"&ULLink="+encodeURIComponent(h)+"&ULReferrer="+encodeURIComponent(ga)+"&ULReferrerTitle="+encodeURIComponent(document.title)+"&ActionType="+encodeURIComponent(c);d&&(h+="&ULType="+encodeURIComponent(d));e&&(h+="&ULDatabase="+encodeURIComponent(e));k&&(h+="&ULID="+encodeURIComponent(k));"blackShadow"==c||"blackShadowAuto"==c?Pa(Aa+f,h):"blueShadow"==c&&(ka||pa?(b.alreadyTracked="true",Pa(Aa+f,h)):wb?(Pa(Aa+f,h),Nd(300)):(b.alreadyTracked=
"true",Pa(Aa+f,h),setTimeout(function(){var c=document.createEvent("MouseEvents");c.initMouseEvent(a.type,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);b.dispatchEvent(c)},100)));return!0}return!1}function Ab(a,b,c,d,e){0<parseInt(b)&&(void 0==d&&(d="popup"),c="ULWord="+encodeURIComponent(c)+"&ULReferrer="+encodeURIComponent(ga)+"&ULReferrerTitle="+encodeURIComponent(document.title)+"&ActionType="+encodeURIComponent(d),
a&&(c+="&ULDatabase="+encodeURIComponent(a)),b&&(c+="&ULID="+encodeURIComponent(b)),"true"==l.deepAnalytics&&("true"==l.takeScreenshots&&"undefined"!=typeof html2canvas)&&(a=$a(e),c+="&pageLocation="+encodeURIComponent(JSON.stringify({x:a[0],y:a[1],w:e.offsetWidth,h:e.offsetHeight,pw:document.body.offsetWidth,ph:document.body.offsetHeight})),c+="&screenshotUUID="+encodeURIComponent(zc)),Pa(Aa+"addClick",c))}function Va(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Ac(a){var b=
"&ULReferrer="+encodeURIComponent(ga)+"&ULReferrerTitle="+encodeURIComponent(document.title)+"&event="+encodeURIComponent(a);"enter"==a&&"true"==l.takeScreenshots&&"undefined"!=typeof html2canvas?html2canvas(document.body,{onrendered:function(a){var d=a.height*(1024/a.width),e=document.createElement("canvas");e.setAttribute("width",1024);e.setAttribute("height",d);e.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,1024,d);zc=Va()+Va()+"-"+Va()+"-"+Va()+"-"+Va()+"-"+Va()+Va()+Va();b+="&screenshotUUID="+
encodeURIComponent(zc);b+="&screenshot="+encodeURIComponent(e.toDataURL());Pa(Aa+"addPageEvent",b,"POST")}}):"exit"==a?Pa(Aa+"addPageEvent",b,"false"):Pa(Aa+"addPageEvent",b)}function hd(a){var b=a.getAttribute("href");void 0!=b&&b.match(/^#/)||(a=f(a),a.unbind(),a.bind("click",function(a){if("true"!=a.alreadySeen)if(a.alreadySeen="true","true"==a.target.alreadyTracked)delete a.target.alreadyTracked;else{a.target.UMUrl=a.target.href;a.target.UMWord=a.target.textContent;var b=!1;za()&&(b=fc(a,a.target));
if(!0==b)if("blueShadow"==a.target.parentNode.UMActionType){if(!(wb||ka||Ia))return!1}else if("blackShadow"==a.target.parentNode.UMActionType)return Zc(a.target.parentNode),!1}}))}function Yc(){if(void 0!=D){var a=D,b=n.getDataUl(a);if(b&&0>b.ID){var c=Bb+"extension/getMostRecentDescription?word="+encodeURIComponent(a.textContent);""!=l.database&&(c+="&database="+encodeURIComponent(l.database));f.ajax({type:"GET",url:c,dataType:"json",jsonp:!1,success:function(c,e,k){0<c&&(b.ID=c,""!=l.database&&
(b.database=l.database),n.setDataUl(a,b))}})}}}function jd(a,b){var c=void 0;a.inlinePaper&&(c=a.inlinePaper.linkType);n.removeOldPopup();a.autoPopup=c;b++;(c=n.getDataUl(a,"data-ul_"+b))?(za()&&Ab(c.database,c.ID,a.textContent,"popupAlternate",a),Ka=a,bc(a,b)):(c=n.getDataUl(a),za()&&Ab(c.database,c.ID,a.textContent,"popup",a),Ka=a,bc(a))}function $d(a,b){var c=fb.SHA1(a);n[c]=b;var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.async=!0;
d.src=a;c.appendChild(d)}function od(a,b,c,d){a.insight=b;for(var e=0;e<l.insights.length;e++){var k=l.insights[e];if(k.name==b){void 0==d&&(d=k.description);b=a.getAttribute("title");""!=d&&(null!=d&&"null"!=d)&&(b=void 0==b||""==b||null==b||"null"==b?d:b+("\n"+d));void 0!=b&&(""!=b&&null!=b&&"null"!=b)&&a.setAttribute("title",b);a.autoPopup=k.linkType;b=a[k.linkType+"_insightInfo"];void 0==b&&(b=[]);d={name:k.name,description:d};void 0!=c&&null!=c&&(d.data=c);b.push(d);a[k.linkType+"_insightInfo"]=
b;break}}n.getDataUl(a).callout="insight";Da(a)}function ae(a,b,c){function d(a){var c=ma[a+b];c.result="yes";0<k.length&&(c.gotInsightData=k);""!=e&&(c.gotInsightDescription=e);for(var d=0;d<c.uwords.length;d++)od(c.uwords[d],a,k,e)}var e="",k=[];if(void 0!=c){var h=function(a){return a?a.replace(/\./g,"").replace(/,/g,"").replace(/\-/g,"").replace(/\s+/g,"").toLowerCase():""},g=function(a){return a?(a=a.replace(/\./g,"").replace(/,/g," ").replace(/\-/g," ").toLowerCase(),2<=a.split(/\s+/).length?
a.match(/\b(\w)/g).join(""):a.replace(/\s+/g,"")):""},f=function(a){return a?(a=a.replace(/\./g,"").replace("of","").replace(/\s+/g,"").toLowerCase().replace("bachelors","bachelor").replace("masters","master").replace("doctorate","doctor").replace("associates","associate"),-1!=a.indexOf("bachelorscience")?a="bs":-1!=a.indexOf("bachelorarts")?a="ba":-1!=a.indexOf("masterbusiness")?a="mba":-1!=a.indexOf("masterarts")?a="ma":-1!=a.indexOf("master")?a="ms":-1!=a.indexOf("jurisdoctor")?a="jd":-1!=a.indexOf("doctor")?
a="phd":-1!=a.indexOf("associate")&&(a="aa"),a):""},u=function(a){return a?(a=a.replace(/\./g,"").replace("of","").replace(/\s+/g,"").toLowerCase(),-1!=a.indexOf("computerscience")?a="cs":-1!=a.indexOf("electricalengineering")?a="ee":-1!=a.indexOf("computerengineering")?a="ce":-1!=a.indexOf("mechanicalengineering")?a="me":-1!=a.indexOf("economics")&&(a="econ"),a):""},s=function(a){return a?a.replace(/\./g,"").replace(/\,/g,"").replace("of","").replace(/\s+/g,"").toLowerCase():""},m=function(a){return a?
a.replace(/\./g,"").replace(/,/g,"").replace(/\-/g,"").replace(/\s+/g,"").toLowerCase():""},r=function(a){return a?a.replace(/\./g,"").replace(/,/g,"").replace(/\-/g,"").replace(/\s+/g,"").toLowerCase():""},q=function(a){null!=a&&"null"!=a&&(""!=e&&(e+="\n"),e+=a)};switch(a){case "TwitterFollowing":case "TwitterFollower":c.text&&(c=ua.parse(c.text));c=c[0].connections;for(var t=0;t<c.length;t++)r=c[t],"TwitterFollowing"==a&&"following"==r?(q("You follow on Twitter."),d(a)):"TwitterFollower"==a&&"followed_by"==
r&&(q("They follow you on Twitter."),d(a));break;case "OneLinkedInHop":1==c.relationToViewer.distance&&(q("You are directly connected on LinkedIn."),d(a));break;case "TwoLinkedInHops":2==c.relationToViewer.distance&&(q("You are two hops away on LinkedIn."),d(a));break;case "LinkedInSameLocation":c.UL_thisAccount&&(c.UL_thisAccount.id!=c.id&&c.UL_thisAccount.location&&c.location&&c.UL_thisAccount.location.name==c.location.name)&&(q("Both of you are in the same location. (LinkedIn)"),d(a));break;case "CompanyHasConnection":case "CompanyHasFirstConnection":if(0<
c.numResults)for(t=0;t<c.people.values.length;t++){var v=c.people.values[t];if("private"!=v.id)if("CompanyHasConnection"==a&&0<v.relationToViewer.distance){q("You are two hops away from someone at this company on LinkedIn.");d(a);break}else if("CompanyHasFirstConnection"==a&&1==v.relationToViewer.distance){q("You are directly connected to someone at this company on LinkedIn.");d(a);break}}break;case "LinkedInSpecificPerson":for(t=0;t<l.insights.length;t++)if(v=l.insights[t],e="",k=[],v.insightType==
a){for(var m=!0,n=0;n<v.inputFields.length;n++){var p=v.inputFields[n];if("industrySearch"==p.type)"any"!=p.industry.toLowerCase()&&(-1!=c.industry.toLowerCase().indexOf(p.industry.toLowerCase())?(k.push({field:p.field}),q("This person is in the "+c.industry+" industry. (LinkedIn)")):m=!1);else if("locationSearch"==p.type)"any"!=p.location.toLowerCase()&&(-1!=c.location.name.toLowerCase().indexOf(p.location.toLowerCase())?(k.push({field:p.field}),q("This person is located in "+c.location.name+". (LinkedIn)")):
m=!1);else if("selectBox"==p.type){if("any"!=p.value.toLowerCase())switch(p.field){case "same_location":g=!1,c.UL_thisAccount.location.name==c.location.name&&(g=!0),!1==g&&"yes"==p.value?m=!1:!0==g&&"no"==p.value?m=!1:!0==g&&"yes"==p.value?(k.push({field:p.field,samePlace:"yes"}),q("Both of you are in the same location. (LinkedIn)")):!1==g&&"no"==p.value&&(k.push({field:p.field,samePlace:"no"}),q("This person and you are not in the same location. (LinkedIn)"))}}else if("titleSearch"==p.type&&("any"!=
p.title.toLowerCase()||"any"!=p.organization.toLowerCase())){for(var y=!1,x=s(p.title),A=h(p.organization),r=0;r<c.positions.values.length;r++){var g=c.positions.values[r],L=!1,B=!1,T=s(g.title),z=h(g.company.name);if("any"==x||-1!=T.indexOf(x))L=!0;if("any"==A||-1!=z.indexOf(A))B=!0;L&&B&&(y=!0,q("This person is "+g.title+" at "+g.company.name+". (LinkedIn)"))}!1==y?m=!1:k.push({field:p.field,title:p.title,organization:p.organization})}}!0==m&&(""==e&&q("This person has a LinkedIn link."),d(v.name))}break;
case "CrunchbaseInvestor":void 0!=c.data.relationships&&(void 0!=c.data.relationships.investments&&0<c.data.relationships.investments.items.length)&&(q("This person is an investor. (CrunchBase)"),d(a));break;case "CrunchbaseFundedCompany":void 0!=c.data.relationships&&(void 0!=c.data.relationships.funding_rounds&&0<c.data.relationships.funding_rounds.items.length)&&(q("This company has been funded. (CrunchBase)"),d(a));break;case "CrunchbaseUnfundedCompany":void 0==c.data.relationships||void 0!=c.data.relationships.funding_rounds&&
0!=c.data.relationships.funding_rounds.items.length||(q("This company has no record of funding. (CrunchBase)"),d(a));break;case "CrunchbaseSpecificCompany":properties=c.data.properties;relationships=c.data.relationships;for(t=0;t<l.insights.length;t++)if(v=l.insights[t],e="",k=[],v.insightType==a){m=!0;for(n=0;n<v.inputFields.length;n++)if(p=v.inputFields[n],"numericCompare"==p.type){if("any"!=p.value.toLowerCase()){h=!0;y=0;switch(p.field){case "number_of_employees":null==properties.number_of_employees?
h=!1:y=parseInt(properties.number_of_employees);break;case "years_old":null==properties.founded_on_year||null!=properties.deadpooled_on_year?h=!1:(s=1,null!=properties.founded_on_month&&(s=properties.founded_on_month),g=1,null!=properties.founded_on_day&&(g=properties.founded_on_day),y=parseFloat((new Date-new Date(properties.founded_on_year,s,g))/31558464E3));break;case "num_funding_rounds":void 0!=relationships.funding_rounds&&(y=relationships.funding_rounds.items.length);break;case "num_acquisitions":void 0!=
relationships.acquisitions&&(y=relationships.acquisitions.items.length)}if(!0==h){r=parseInt(p.value);switch(p.compare){case "<":y<r||(m=!1);break;case ">":y>r||(m=!1);break;case "<=":y<=r||(m=!1);break;case ">=":y>=r||(m=!1);break;case "=":y!=r&&(m=!1)}if(!1==m)break;else switch(p.field){case "number_of_employees":k.push({field:p.field});q("This company has "+p.compare+" "+r+" employees. (CrunchBase)");break;case "years_old":k.push({field:p.field});q("This company is "+p.compare+" "+r+" years old. (CrunchBase)");
break;case "num_funding_rounds":k.push({field:p.field});q("This company has "+p.compare+" "+r+" funding rounds. (CrunchBase)");break;case "num_acquisitions":k.push({field:p.field}),q("This company has "+p.compare+" "+r+" acquisitions. (CrunchBase)")}}else m=!1}}else if("selectBox"==p.type&&"any"!=p.value.toLowerCase())switch(p.field){case "is_public":h=!0;if(null==relationships.ipo||"null"==relationships.ipo)h=!1;!0==h&&"no"==p.value||!1==h&&"yes"==p.value?m=!1:!0==h&&"yes"==p.value?(k.push({field:p.field}),
q("This company is publicly traded. (CrunchBase)")):!1==h&&"no"==p.value&&(k.push({field:p.field}),q("No record of this company being publicly traded. (CrunchBase)"))}!0==m&&(""==e&&q("This company has a CrunchBase link."),d(v.name))}break;case "CrunchbaseSpecificPerson":properties=c.data.properties;relationships=c.data.relationships;for(t=0;t<l.insights.length;t++)if(v=l.insights[t],e="",k=[],v.insightType==a){m=!0;for(n=0;n<v.inputFields.length;n++)if(p=v.inputFields[n],"numericCompare"==p.type){if("any"!=
p.value.toLowerCase()){y=0;switch(p.field){case "num_investments":void 0!=relationships.investments&&(y=relationships.investments.items.length)}r=parseInt(p.value);switch(p.compare){case "<":y<r||(m=!1);break;case ">":y>r||(m=!1);break;case "<=":y<=r||(m=!1);break;case ">=":y>=r||(m=!1);break;case "=":y!=r&&(m=!1)}if(!1==m)break;else switch(p.field){case "num_investments":k.push({field:p.field}),q("This person has made "+p.compare+" "+r+" investments. (CrunchBase)")}}}else if("degreeSearch"==p.type){if("any"!=
p.degree.toLowerCase()||"any"!=p.study.toLowerCase()){r=!1;y=f(p.degree);x=u(p.study);if(void 0!=relationships.degrees)for(c=0;c<relationships.degrees.items.length;c++){var w=relationships.degrees.items[c],L=A=!1,B=f(w.degree_type_name),T=u(w.degree_subject);if("any"==y||y==B)A=!0;if("any"==x||x==T)L=!0;if(A&&L){r=!0;break}}!1==r?m=!1:(k.push({field:p.field,degree:p.degree,study:p.study}),p="This person has a "+w.degree_type_name,""!=w.degree_subject&&(p+=" in "+w.degree_subject),p+=". (CrunchBase)",
q(p))}}else if("schoolSearch"==p.type){if("any"!=p.school.toLowerCase()){r=!1;y=h(p.school);x=g(p.school);if(void 0!=relationships.degrees)for(c=0;c<relationships.degrees.items.length;c++)if(w=relationships.degrees.items[c],A=h(w.organization_name),L=g(w.organization_name),"any"==y||-1!=A.indexOf(y)||1<x.length&&2<L.length&&-1!=L.indexOf(x)){r=!0;break}!1==r?m=!1:(k.push({field:p.field,institution:p.school}),q("This person went to "+w.organization_name+". (CrunchBase)"))}}else if("titleSearch"==p.type&&
("any"!=p.title.toLowerCase()||"any"!=p.organization.toLowerCase())){y=!1;x=s(p.title);A=h(p.organization);if(void 0!=relationships.experience)for(r=0;r<relationships.experience.items.length;r++){var H=relationships.experience.items[r],B=L=!1,T=s(H.title),z=h(H.organization_name);if("any"==x||-1!=T.indexOf(x))L=!0;if("any"==A||-1!=z.indexOf(A))B=!0;L&&B&&(L="",!0==H.is_past&&(L="Former "),y=!0,q(L+H.title+" at "+H.organization_name+". (CrunchBase)"))}if(!1==y&&("founder"==x.toLowerCase()||"co-founder"==
x.toLowerCase()||"co founder"==x.toLowerCase())&&void 0!=relationships.founded_companies)for(r=0;r<relationships.founded_companies.items.length;r++){H=relationships.founded_companies.items[r];B=!1;z=h(H.name);if("any"==A||-1!=z.indexOf(A))B=!0;B&&(L="",!0==H.is_past&&(L="Former "),y=!0,q(L+"Founder at "+H.name+". (CrunchBase)"))}if(!1==y&&"advisor"==x.toLowerCase()&&void 0!=relationships.advisor_at)for(r=0;r<relationships.advisor_at.items.length;r++){H=relationships.advisor_at.items[r];B=!1;z=h(H.organization_name);
if("any"==A||-1!=z.indexOf(A))B=!0;B&&(L="",!0==H.is_past&&(L="Former "),y=!0,q(L+"Advisor at "+H.organization_name+". (CrunchBase)"))}!1==y?m=!1:k.push({field:p.field,title:p.title,organization:p.organization})}!0==m&&(""==e&&q("This person has a CrunchBase link."),d(v.name))}break;case "CrunchbaseCompaniesInvestedBy":case "CrunchbaseCompaniesAcquiredBy":properties=c.data.properties;relationships=c.data.relationships;for(t=0;t<l.insights.length;t++)if(v=l.insights[t],e="",k=[],v.insightType==a)for(n=
0;n<v.inputFields.length;n++)if(p=v.inputFields[n],"CrunchbaseCompaniesAcquiredBy"==a)"undefined"!=typeof relationships.acquired_by&&0<relationships.acquired_by.items.length&&("any"==p.buyer.toLowerCase()?(q("This company has been acquired. (CrunchBase)"),d(v.name)):(h=relationships.acquired_by.items[0].data.data.relationships.acquirer.items[0].name,s=r(p.buyer),-1!=r(h).indexOf(s)&&(k.push({field:p.field,acquirer:s}),q("This company has been aquired by "+h+". (CrunchBase)"),d(v.name))));else if("CrunchbaseCompaniesInvestedBy"==
a&&void 0!=relationships.funding_rounds)for(h=0;h<relationships.funding_rounds.items.length;h++){e="";k=[];s=relationships.funding_rounds.items[h].data.data.relationships;if("undefined"!=typeof s.investments)for(g=0;g<s.investments.items.length;g++)if("any"==p.investor.toLowerCase()){q("This company has been invested in. (CrunchBase)");d(v.name);break}else f=s.investments.items[g].investor,c=w=u="","Organization"==f.type?(c=r(f.name),w=r(p.investor),u=f.name):"Person"==f.type&&(c=m(f.first_name+" "+
f.last_name),w=m(p.investor),u=f.first_name+" "+f.last_name),-1!=c.indexOf(w)&&(k.push({field:p.field,investor:w}),q("This company has been invested in by "+u+". (CrunchBase)"),d(v.name));if("any"==p.investor.toLowerCase())break}break;case "OneAngelListHop":null!=c.source&&"null"!=c.source&&(q("You are directly connected on AngelList."),d(a));break;case "TwoAngelListHops":v=0;for(t in c)if(!isNaN(parseInt(t))){v=parseInt(t);break}if(0!=v){t=c[v];v=100;for(n=0;n<t.length;n++)p=t[n],p.length<v&&(v=
p.length);3==v&&(q("You are two hops away on AngelList."),d(a))}break;case "AngelListSameLocation":if(c.UL_thisAccount&&c.UL_thisAccount.id!=c.id){g=!1;for(u=0;u<c.UL_thisAccount.locations.length;u++){w=c.UL_thisAccount.locations[u];for(f=0;f<c.locations.length;f++)if(r=c.locations[f],w.id==r.id){g=!0;break}if(!0==g)break}g&&(q("Both of you are in the same location. (AngelList)"),d(a))}break;case "StartupHasConnection":case "StartupHasFirstConnection":v=0;for(t in c)if(!isNaN(parseInt(t))){v=parseInt(t);
break}if(0!=v)for(t=c[v],n=0;n<t.length;n++)if(p=t[n],"StartupHasFirstConnection"==a&&3==p.length){q("You are directly connected to someone at this company on AngelList.");d(a);break}else if("StartupHasConnection"==a&&(3==p.length||4==p.length||5==p.length)){q("You are connected to someone at this company on AngelList.");d(a);break}break;case "RaisingMoneyOnAngelList":c.fundraising&&(q("This company is publicly raising money on AngelList."),d(a));break;case "AngelListSpecificPerson":for(t=0;t<l.insights.length;t++)if(v=
l.insights[t],e="",k=[],v.insightType==a){m=!0;for(n=0;n<v.inputFields.length;n++)if(p=v.inputFields[n],"numericCompare"==p.type){if("any"!=p.value.toLowerCase()){y=0;switch(p.field){case "num_investments":for(r=y=0;r<c.UL_roles.startup_roles.length;r++)"investor"!=c.UL_roles.startup_roles[r].role&&"past_investor"!=c.UL_roles.startup_roles[r].role||y++}r=parseInt(p.value);switch(p.compare){case "<":y<r||(m=!1);break;case ">":y>r||(m=!1);break;case "<=":y<=r||(m=!1);break;case ">=":y>=r||(m=!1);break;
case "=":y!=r&&(m=!1)}if(!1==m)break;else switch(p.field){case "num_investments":k.push({field:p.field}),q("This person has made "+p.compare+" "+r+" investments. (AngelList)")}}}else if("locationSearch"==p.type){if("any"!=p.location.toLowerCase()){g=!1;w=u="";r=p.location.toLowerCase();for(f=0;f<c.locations.length;f++)if(y=c.locations[f],-1!=y.name.toLowerCase().indexOf(r)||-1!=y.display_name.toLowerCase().indexOf(r))g=!0,u=y.display_name,w=""==w?y.display_name:w+(", "+y.display_name);!0==g?(k.push({field:p.field,
location:u}),q("This person is located in "+w+". (AngelList)")):m=!1}}else if("selectBox"==p.type){if("any"!=p.value.toLowerCase())switch(p.field){case "same_location":g=!1;for(u=0;u<c.UL_thisAccount.locations.length;u++){w=c.UL_thisAccount.locations[u];for(f=0;f<c.locations.length;f++)if(r=c.locations[f],w.id==r.id){g=!0;break}if(!0==g)break}!1==g&&"yes"==p.value?m=!1:!0==g&&"no"==p.value?m=!1:!0==g&&"yes"==p.value?(k.push({field:p.field,samePlace:"yes"}),q("Both of you are in the same location. (AngelList)")):
!1==g&&"no"==p.value&&(k.push({field:p.field,samePlace:"no"}),q("This person and you are not in the same location. (AngelList)"))}}else if("titleSearch"==p.type&&("any"!=p.title.toLowerCase()||"any"!=p.organization.toLowerCase())){y=!1;x=s(p.title);"past_investor"==x&&(x="investor");A=h(p.organization);for(r=0;r<c.UL_roles.startup_roles.length;r++){H=c.UL_roles.startup_roles[r];B=L=!1;T=s(H.role);"past_investor"==T&&(T="investor");z=h(H.startup.name);if("any"==x||-1!=T.indexOf(x))L=!0;if("any"==A||
-1!=z.indexOf(A))B=!0;L&&B&&(L="is",null!=H.ended_at&&(L="was"),y=!0,q("This person "+L+" "+be(H.role,!0)+" at "+H.startup.name+". (AngelList)"))}!1==y?m=!1:k.push({field:p.field,title:p.title,organization:p.organization})}!0==m&&(""==e&&q("This person has a AngelList link."),d(v.name))}}}}function Cb(a){a.kickedOff="yes";var b=!1;for(ic in ma){var c=ma[ic];if(c.name!=a.name&&c.insightType==a.insightType&&c.URL==a.URL&&"yes"==c.kickedOff){b=!0;break}}!1==b&&n.sendExtensionMessage(a.linkType+"Query",
{command:a.insightType,URL:a.URL})}function ce(a,b,c,d){var e=ma[a+c];if(void 0==e)switch(d.inInsightCache=!0,b){case "TwitterFollowing":case "TwitterFollower":pb[a]="twitter";ma[a+c]={name:a,insightType:b,linkType:"twitter",URL:c,uwords:[d]};-1!=f.inArray("twitter",n.supportedInlineTypes)&&Cb(ma[a+c]);break;case "OneLinkedInHop":case "TwoLinkedInHops":case "LinkedInSameLocation":case "CompanyHasConnection":case "CompanyHasFirstConnection":case "LinkedInSpecificPerson":pb[a]="linkedin";ma[a+c]={name:a,
insightType:b,linkType:"linkedin",URL:c,uwords:[d]};-1!=f.inArray("linkedin",n.supportedInlineTypes)&&Cb(ma[a+c]);break;case "CrunchbaseFundedCompany":case "CrunchbaseUnfundedCompany":case "CrunchbaseSpecificCompany":case "CrunchbaseInvestor":case "CrunchbaseSpecificPerson":case "CrunchbaseCompaniesInvestedBy":case "CrunchbaseCompaniesAcquiredBy":pb[a]="crunchbase";ma[a+c]={name:a,insightType:b,linkType:"crunchbase",URL:c,uwords:[d]};-1!=f.inArray("crunchbase",n.supportedInlineTypes)&&Cb(ma[a+c]);
break;case "OneAngelListHop":case "TwoAngelListHops":case "AngelListSameLocation":case "StartupHasConnection":case "StartupHasFirstConnection":case "RaisingMoneyOnAngelList":case "AngelListSpecificPerson":pb[a]="angellist",ma[a+c]={name:a,insightType:b,linkType:"angellist",URL:c,uwords:[d]},-1!=f.inArray("angellist",n.supportedInlineTypes)&&Cb(ma[a+c])}else!0!=d.inInsightCache&&e.uwords.push(d),"yes"==e.result&&od(d,a,e.gotInsightData,e.gotInsightDescription)}function Bc(a,b,c){void 0==b&&(b=a);var d=
b.childNodes[0],e=!1;if(void 0!=c)if("uword"==b.tagName.toLowerCase())if(a=n.getDataUl(b),void 0==a)n.setDataUl(b,c.ul);else{d=0;for(e=a.database;void 0!=a;){if(a.ID==c.ul.ID){d=-1;break}d++;a=n.getDataUl(b,"data-ul_"+d)}0<d&&e==c.ul.database&&n.setDataUl(b,c.ul,"data-ul_"+d)}else{if(d.nodeType==Node.TEXT_NODE){for(var k in c.ul.URLS)for(var h=c.ul.URLS[k],g=0;g<h.length;g++){var J=h[g],u=document.createElement("a");u.href=J.URL;if(a.href&&qc(u.href)==qc(a.href)){e=!0;break}}k=c.ul;!1==e&&a.href&&
(k={},f.extend(!0,k,c.ul),k.URLS.href2||(k.URLS.href2=[]),k.URLS.href2.push({URL:a.href}));e="i";1==c.caseSensitive&&(e="");var s=!1,e=d.nodeValue.replace(RegExp("^("+c.quotedWord+")$","g"+e),function(a,b,c,d){s=!0;return b});!0==s&&(c=document.createElement("uword"),c.textContent=e,Db&&Eb&&Db==k.database&&Eb==k.ID?(k.callout="search",n.setDataUl(c,k),a.href?b.parentNode.replaceChild(c,b):d.parentNode.replaceChild(c,d),Da(c),hc.push(c),1==hc.length&&(b=$a(c),window.scrollTo(0,b[1]-250))):(n.setDataUl(c,
k),a.href?b.parentNode.replaceChild(c,b):d.parentNode.replaceChild(c,d)))}}else{a={URLS:{}};c="href";for(h in pd)if(b.href.match(RegExp(h,"i"))){c=pd[h];break}a.URLS[c]=[];a.URLS[c].push({URL:b.href});"true"==l.editorStyle&&(a.ID="-2");c=document.createElement("uword");for(d=0;d<b.childNodes.length;d++)f(b.childNodes[d]).clone().appendTo(c);b.parentNode.replaceChild(c,b);n.setDataUl(c,a)}}function qd(a,b){var c=0,d="i";1==b.caseSensitive&&(d="");var e=a.childNodes;if(e)for(var k=RegExp("(\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|^)"+
b.notgreedy+"("+b.quotedWord+")(\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|$)"+b.notgreedy,"g"+d),h=RegExp("(?:\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|^)"+b.notgreedy+"(?:"+b.quotedWord+")(?:\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|$)"+b.notgreedy,"g"+d),g=e.length;0<=--g;){var f=e[g];if(f.nodeType==Node.TEXT_NODE){var u=[],s=[],m=[];f.nodeValue.replace(k,function(a,b,c,
d,e,g){a="";void 0!=b&&(a=b);b="";void 0!=d&&(b=d);u.push(a);s.push(c);m.push(b)});if(0<s.length){for(var r=f.nodeValue.split(h),q=r.length,t=0;t<q;t++)if(""!=r[t]&&a.insertBefore(document.createTextNode(r[t]),f),t<s.length){""!=u[t]&&a.insertBefore(document.createTextNode(u[t]),f);var v=document.createElement("uword");v.textContent=s[t];var R=b.word+"___"+d;void 0==Fb[R]&&(Fb[R]=[]);Fb[R].push(v);c++;Db&&Eb&&Db==b.ul.database&&Eb==b.ul.ID?(b.ul.callout="search",n.setDataUl(v,b.ul),a.insertBefore(v,
f),Da(v),hc.push(v),1==hc.length&&(R=$a(v),window.scrollTo(0,R[1]-250))):(n.setDataUl(v,b.ul),a.insertBefore(v,f));""!=m[t]&&a.insertBefore(document.createTextNode(m[t]),f);if(l.insights)for(R=0;R<l.insights.length;R++){var p=l.insights[R],y=b.ul.URLS[p.linkType];if(void 0!=y){for(var x="",A=0;A<y.length;A++){var z=y[A];if(void 0==p.language||p.language==z.language)if(void 0==p.country||p.country==z.country)if(void 0==p.regex||z.URL.match(RegExp(p.regex))){x=z.URL;break}}""!=x&&ce(p.name,p.insightType,
x,v)}}}a.removeChild(f)}}}return c}function rd(a,b){var c=n.getDataUl(a);if(void 0==c)n.setDataUl(a,b.ul);else{for(var d=0,e=c.database;void 0!=c;){if(c.ID==b.ul.ID){d=-1;break}d++;c=n.getDataUl(a,"data-ul_"+d)}0<d&&e==b.ul.database&&n.setDataUl(a,b.ul,"data-ul_"+d)}}function Cc(a,b){var c=a.offsetWidth,d=a.offsetHeight;xa=Sa.scrollTop();Ha=window.innerHeight||document.documentElement.clientHeight;Fb={};if(void 0!=b.words&&"true"!=l.crawlerMode&&0<b.words.length){for(var e=0;e<b.words.length;e++){var k=
b.words[e],h=!0;if(0<l.categoryWhitelist.length)for(var h=!1,g=0;g<l.categoryWhitelist.length;g++){var J=l.categoryWhitelist[g];if(0==k.ul.category.indexOf(J))h=!0;else if(void 0!=k.ecategories)for(var u=0;u<k.ecategories.length;u++)if(0==k.ecategories[u].indexOf(J)){h=!0;break}if(h)break}else if(0<l.categoryBlacklist.length)for(g=0;g<l.categoryBlacklist.length;g++){J=l.categoryBlacklist[g];if(0==k.ul.category.indexOf(J))h=!1;else if(void 0!=k.ecategories)for(u=0;u<k.ecategories.length;u++)if(0==
k.ecategories[u].indexOf(J)){h=!1;break}if(!1==h)break}if(h){var s="i";1==k.caseSensitive&&(s="");h=Fb[k.word+"___"+s];if(void 0!=h)for(u=0;u<h.length;u++)rd(h[u],k);else if("hit"==k.ul.status||"true"==l.editorStyle)f(a).is(":not(span.nouword *):not(iframe *):not(textarea *):not(input *):not(svg *):not(a *)")&&qd(a,k),f(":not(span.nouword,iframe,textarea,input,svg,a,style,script,button):not(span.nouword *):not(iframe *):not(textarea *):not(input *):not(svg *):not(a *):"+s+"contains2("+k.word+")",
a).each(function(){"uword"==this.tagName.toLowerCase()?this.textContent.toLowerCase()==k.word.toLowerCase()&&rd(this,k):qd(this,k)}),"true"==l.replaceHyperlinks&&f("a:"+s+"contains("+k.word+")",a).each(function(){this.textContent.toLowerCase().trim()==k.word.toLowerCase().trim()&&(this.href?Bc(this,this,k):Bc(this,f(":"+s+"contains("+k.word+")",this).last()[0],k))})}}n.uwordScanPage(a)}sd&&"true"==l.cleanMode&&setTimeout(function(){var b=/#/;f("a:not(.autonumber)",a).each(function(){""==this.textContent||
this.href.match(b)||Bc(this,this)});n.uwordScanPage(a)},100);h=e=a.finished=!0;u=!1;if(c!=a.offsetWidth||d!=a.offsetHeight)u=!0;for(c=K.length;c--;)if(d=K[c],d.finished)u&&bb(d,!0,u);else if(e=!1,Yb(d,!0,u)){if(d.notScanned||d.fragmentData)if(jc(d),void 0!=ha)return;h=!1}if(e&&("extension"==l.environment||"true"==l.extensionAssist)&&"IE"!=l.extension)for(var m in pb)n.sendExtensionMessage(pb[m]+"Query",{command:m,URL:"coalesceEnd"});if(Ia&&pa&&!td&&h)for(td=!0,c=K.length;c--;)d=K[c],bb(d)&&f("uword",
d).each(function(){bb(this)&&$c(this,1)})}function Dc(a,b,c){b!=Ba&&".ultralink"!=Ba&&(Gb=a,ha=b,qb=c)}function Hb(){if(ha!=Ba&&".ultralink"!=Ba){for(var a=0,b=!1;a<Y.length;)Y[a].siteRegex==Gb&&Y[a].overrideWebsite==qb&&(Y[a].selector=ha,b=!0),void 0!=Y[a].overrideWebsite&&Y[a].overrideWebsite!=Ec||""!=Y[a].siteRegex&&!ga.match(RegExp(Y[a].siteRegex,"i"))?a++:Y.splice(a,1);!1==b&&(a={siteRegex:Gb,selector:ha},void 0!=qb&&(a.overrideWebsite=qb),Y.push(a));"extension"==l.environment&&"IE"!=l.extension&&
n.sendExtensionMessage("updateHardcodedSites",Y);K=[];a=ha;qb=ha=Gb=void 0;n.doScan(a)}else qb=ha=Gb=void 0}function Fc(a){var b=(new Date).getTime();(1==l.routingTable[oa].length||!0==a)&&3E4<b-ud&&(ud=b,f.ajax({type:"GET",url:Bb+"extension/getRoutingTable",dataType:"json",jsonp:!1,success:function(a,b,e){l.routingTable=a;n.sendExtensionMessage("updateRoutingTable",a)}}))}function vd(a){var b=l.database,b=void 0!=b&&"undefined"!=b&&b?"/"+b:"",c="fragment";"true"==l.editorStyle&&(c="fragmentBypass");
var d=n.fragmentContent(a);if(""!=d){var e=n.fragmentHash(a),k=l.routingTable[oa],h=0;if(""==b)for(;h<k.length&&!(de<k[h].range);)h++;else h=k.length-1;var g=function(J){function u(a,b){delete a.fragmentContent;xa=Sa.scrollTop();Ha=window.innerHeight||document.documentElement.clientHeight;Yb(a)?Cc(a,b):a.fragmentData=b}if(Ya(10)){var s=k[J]["interface"]+"extension/"+c+"/"+kc+"/"+e+b+"?callback=Ultralink.fragmentCallback";$d(s,function(c){"hit"==c.type&&"true"!=l.forceFilter?void 0==c.siteRegexp||
""==c.siteRegexp||c.override==a.selector?u(a,c):Dc(c.siteRegexp,c.override,c.overrideWebsite):(c="fragment="+encodeURIComponent(d),c+="&URL="+encodeURIComponent(ga),c+="&title="+encodeURIComponent(document.title),c+="&environment="+encodeURIComponent(l.environment),c+="&prestripped="+encodeURIComponent("true"),f.ajax({type:"POST",url:k[J]["interface"]+"extension/fragmentFilter/"+kc+"/"+e+b,data:c,dataType:"jsonp",success:function(b){u(a,b)}}))})}else s=k[J]["interface"]+"extension/"+c+"/"+kc+"/"+
e+b,f.ajax({type:"GET",url:s,dataType:"json",jsonp:!1,timeout:15E3,success:function(m,r,q){"hit"==m.type&&"true"!=l.forceFilter?("extension"!=l.environment&&"true"!=l.extensionAssist||("IE"==l.extension||"fragmentBypass"==c)||(r=q.getResponseHeader("CF-Cache-Status"))&&n.sendExtensionMessage("incrementCFCacheStats",r),void 0==m.siteRegexp||""==m.siteRegexp||m.override==a.selector?"extension"==l.environment&&"IE"!=l.extension&&parseInt(Ib)<parseInt(m.ultralinkMinVersion)?n.sendExtensionMessage("extensionOutOfDate",
{currentVersion:m.ultralinkMinVersion,currentVersionString:m.ultralinkVersionString}):u(a,m):Dc(m.siteRegexp,m.override,m.overrideWebsite)):(m={fragment:encodeURIComponent(d),URL:encodeURIComponent(ga),title:encodeURIComponent(document.title),environment:encodeURIComponent(l.environment),prestripped:encodeURIComponent("true")},f.ajax({type:"POST",url:k[J]["interface"]+"extension/fragmentFilter/"+kc+"/"+e+b,dataType:"json",jsonp:!1,data:m,complete:function(c,d){if(200==c.status){var f=ua.parse(c.responseText);
"true"==f.getRoutingTable&&Fc(!1);void 0==f.siteRegexp||""==f.siteRegexp||f.override==a.selector?"extension"==l.environment&&"IE"!=l.extension&&parseInt(Ib)<parseInt(f.ultralinkMinVersion)?n.sendExtensionMessage("extensionOutOfDate",{currentVersion:f.ultralinkMinVersion,currentVersionString:f.ultralinkVersionString}):u(a,f):Dc(f.siteRegexp,f.override,f.overrideWebsite)}else 403==c.status?console.log("Hashes don't match up! "+e):400!=c.status&&504!=c.status?wd(a):""==b&&(J++,J==k.length&&(J=0),J!=
h?g(J):(Fc(!0),console.log("All nodes in the routing table failing?")))}}))},error:function(a,c,d){""==b&&(J++,J==k.length&&(J=0),J!=h?g(J):(Fc(!0),console.log("All nodes in the routing table failing?")))}})};g(h)}}function wd(a){-1!=!f.inArray(a,K)&&K.unshift(a);xa=Sa.scrollTop();Ha=window.innerHeight||document.documentElement.clientHeight;Yb(a)?vd(a):a.notScanned="true"}function nd(a,b){var c=a.paper,d=(b-0.5)/(b+1);0==b&&(d=0.1);c=c.myRrect;c.attr("fill","90-"+dc+":"+100*(d/((la+a.actualThumbnailH)/
la))+"-"+Fa);c.node.style.fill=c.node.getAttribute("fill");c.getBBox();c.rectShadow.remove();c.rectShadow=c.glow({color:xc,width:ub,opacity:ld,offsety:vb});for(d=0;d<c.rectShadow.length;d++)c.rectShadow[d].node.style.stroke=c.rectShadow[d].node.getAttribute("stroke")}function Xd(a){var b="in";!1==a.drawerIn&&(b="out");ec(a,b)}function ec(a,b){var c=a.paper;void 0==b&&(b=!1==a.drawerIn?"in":"out");var d=c.ULButtons.length,e=d-Q;if("out"==b){if(0<Q){c.drawerCircle.attr("fill","#ccc");f('[data-drawerlink="true"]').show();
f(c.dbOutline2.node).show();f(c.dbOutline.node).show();for(var k=0;k<d;k++)k>e&&f(c.ULButtons[k].node).show()}La?c.myRrect.attr("path",ra(C,I+(a.thumbnailH-a.actualThumbnailH),U,la+a.actualThumbnailH,qa)+Ra(U-C-2*(W+C+1)-wordLineWidth+2*V,S+I+a.thumbnailH,a.offsetWidth+2*V,a.offsetHeight+2*Z,ya)):c.myRrect.attr("path",ra(C,I+(a.thumbnailH-a.actualThumbnailH),U,la+a.actualThumbnailH,qa)+Ra(W+C+1,S+I+a.thumbnailH,a.offsetWidth+2*V,a.offsetHeight+2*Z,ya));a.drawerIn=!1}else{k=0;if(0<Q){c.drawerCircle.attr("fill",
"#ddf");f('[data-drawerlink="true"]').hide();f(c.dbOutline2.node).hide();f(c.dbOutline.node).hide();for(k=0;k<d;k++)k>=e&&f(c.ULButtons[k].node).hide();k=(X+P)*Q+2+P}La?c.myRrect.attr("path",ra(C,I+(a.thumbnailH-a.actualThumbnailH),U,la+a.actualThumbnailH-k,qa)+Ra(U-C-2*(W+C+1)-wordLineWidth+2*V,S+I+a.thumbnailH,a.offsetWidth+2*V,a.offsetHeight+2*Z,ya)):c.myRrect.attr("path",ra(C,I+(a.thumbnailH-a.actualThumbnailH),U,la+a.actualThumbnailH-k,qa)+Ra(W+C+1,S+I+a.thumbnailH,a.offsetWidth+2*V,a.offsetHeight+
2*Z,ya));a.drawerIn=!0;if(!0==nb)for(c=a.inlinePaper,e=0;e<O.length;e++)if(k=O[e],c.linkType in k.linkTypes&&"drawer"==k.categoryType){n.restorePreviousInlineButton(a);na();break}}nd(a,d)}function Gc(a,b){if(void 0!=D){var c=D;if(void 0!=c.paper){var d=c.paper,e=parseFloat(d.myRrect.node.parentNode.style.left),k=parseFloat(d.myRrect.node.parentNode.style.top),h=0;0<Q&&!0==c.drawerIn&&(h=(X+P)*Q+2+P);a.pageX<=e||a.pageX>e+d.width||a.pageY<=k+(c.thumbnailH-c.actualThumbnailH)||a.pageY>k+d.height-h?
void 0!=c.inlinePaper?(d=c.inlinePaper,e=parseFloat(d.back.node.parentNode.style.left),k=parseFloat(d.back.node.parentNode.style.top),(a.pageX<=e||a.pageX>e+d.width||a.pageY<=k||a.pageY>k+d.height)&&(a.srcElement!=z&&a.target!=z)&&(n.restorePreviousInlineButton(c),na())):(0<l.hoverRecoverTime?(Ea=!0,setTimeout(function(){Ea=!1},l.hoverRecoverTime)):Ea=!1,n.removeOldPopup()):!0==b&&(h=$a(c),a.pageX>h[0]&&a.pageX<h[0]+c.offsetWidth&&a.pageY>h[1]&&a.pageY<h[1]+c.offsetHeight?!0==c.wellActive?(0<l.hoverRecoverTime?
(Ea=!0,setTimeout(function(){Ea=!1},l.hoverRecoverTime)):Ea=!1,n.removeOldPopup()):c.wellActive=!0:0<Q&&(a.pageY>k+Ma+Na&&a.pageY<k+Ma+Na+2*wa)&&(gb=!0,d.drawerCircle.stop(),ec(c)))}else void 0!=c.inlinePaper&&(d=c.inlinePaper,e=parseFloat(d.back.node.parentNode.style.left),k=parseFloat(d.back.node.parentNode.style.top),a.pageX<=e||a.pageX>e+d.width||a.pageY<=k||a.pageY>k+d.height)&&(h=$a(c),e=h[0],k=h[1],d=parseFloat(c.image.style.width),h=parseFloat(c.image.style.height),a.pageX<=e||a.pageX>e+d||
a.pageY<=k||a.pageY>k+h)&&(n.restorePreviousInlineButton(c),na())}}function ee(a,b){var c=RegExp("[\u4e00-\u9faf\u3040-\u309f\u30a0-\u30ff]+"),d="";if(a.match(/[\.|\+|\*|\?|\[|\^|\]|\$|\(|\)|\{|\}|\=|\!|\<|\>|\||\:|\-]/)||a.match(c))d="?";Cc(b,{words:[{ID:-1,caseSensitive:0,notgreedy:d,word:a,quotedWord:a,ul:{ID:-1,URLS:{},category:"(NEEDS CATEGORIZATION)",status:"hit"}}]});f("uword:contains2("+a+")",b).each(function(){this.textContent==a&&(f(this).click(),gb=nb=!0)});void 0!=ha&&Hb()}function xd(a){setTimeout(function(){f("command",
a).each(function(){n.handleExtensionMessage(this.attributes.type.value,ua.parse(this.textContent))&&f(this).remove()})},10)}function jc(a){var b=!1;a.notScanned&&(delete a.notScanned,vd(a),b=!0);var c=a.fragmentData;c&&(delete a.fragmentData,Cc(a,c),b=!0);return b}function yd(){for(var a=!0,b=K.length;b--;){var c=K[b];if(c.notScanned||c.fragmentHash||c.fragmentData){a=!1;break}}a?n.initialCrawlDone="true":setTimeout(yd,3E3)}function zd(){for(var a=!1,b=K.length;b--&&!(a=jc(K[b])););void 0!=ha?Hb():
a?(a=200,sa&&(a=500),"true"==l.crawlerMode&&(a=0),setTimeout(zd,a)):"true"==l.crawlerMode&&yd()}function Ad(){if("string"==typeof l.scanSelector)n.doScan(l.scanSelector,!0);else for(var a=0;a<l.scanSelector.length;a++)n.doScan(l.scanSelector[a],!0);"true"==l.continualScan&&setInterval(function(){""!=Ba&&n.doScan(Ba)},5E3)}function fe(){var a=!1;f(document).ready(function(){a||(a=!0,Ad())});setTimeout(function(){a||(a=!0,Ad())},5E3)}function Hc(a){var b=0;switch(a){case "searchpubmed":b=824;break;
case "searchul":b=530;break;case "ultralinkme":b=600;break;default:b=l.customInlineWidths&&l.customInlineWidths[a]?l.customInlineWidths[a]:500}a=cb-2*Ic;if(a<=b)return ja=!0,a;ja=!1;return b}function Bd(a){switch(a){case "searchpubmed":return 600;case "searchul":return 457;case "bookmark":case "app":case "href":return 500;case "mapgoogle":return 500;case "videoyoutube":case "videovlc":case "videovimeo":return 375;case "ultralinkme":return 375;case "wikipedia":return 300;case "mediawiki":return 300;
case "webmd":return 300;case "pdf":return 600;default:return l.customInlineHeights&&l.customInlineHeights[a]?l.customInlineHeights[a]:350}}function Cd(a,b,c){function d(){g.setSize(n+G+2*x,r);var a=da;void 0!=g.currentWidth&&(a=g.currentWidth);modifiedTop=b.popupY+(b.paperH-s)/2;modifiedTop+=(b.thumbnailH-b.actualThumbnailH)/2;var c=g.buttonY-(modifiedTop+s/2+x),d=c;c<-s/2+q+$?c=-s/2+q+$:c>s/2-q-$&&(c=s/2-q-$);var e=c;modifiedTop+=d-c;5>=modifiedTop&&(e+=modifiedTop-5,modifiedTop=5);g.arrowOffsetY=
e;g.back.node.parentNode.style.top=modifiedTop+"px";g.back.node.parentNode.style.left=parseFloat(g.back.node.parentNode.style.left)-(n-a)+"px";g.back.attr("path",Zb(x,x,n,s,q,G,$,e));g.outline.attr("path",Zb(x,x,n,s,q,G,$,e));E.style.left=parseFloat(g.back.node.parentNode.style.left)+va+"px";E.style.top=parseFloat(g.back.node.parentNode.style.top)+va+"px";g.currentHeight=s;g.currentWidth=n}function e(){g.setSize(n+G+2*x,r);modifiedTop=b.popupY+(b.paperH-s)/2;modifiedTop+=(b.thumbnailH-b.actualThumbnailH)/
2;var a=g.buttonY-(modifiedTop+s/2+x),c=a;a<-s/2+q+$?a=-s/2+q+$:a>s/2-q-$&&(a=s/2-q-$);var d=a;modifiedTop+=c-a;5>=modifiedTop&&(d+=modifiedTop-5,modifiedTop=5);g.arrowOffsetY=d;g.back.node.parentNode.style.top=modifiedTop+"px";g.back.attr("path",$b(x+G,x,n,s,q,G,$,d));g.outline.attr("path",$b(x+G,x,n,s,q,G,$,d));E.style.left=parseFloat(g.back.node.parentNode.style.left)+va+G+"px";E.style.top=parseFloat(g.back.node.parentNode.style.top)+va+"px";g.currentHeight=s}function k(){var a=b.popupX+t.width/
2-n/2;5>a&&(a=5);a+n+2*x>document.body.offsetWidth-5&&(a=document.body.offsetWidth-5-(n+2*x));var c=da;void 0!=g.currentWidth&&(c=g.currentWidth);var d=0,c=parseFloat(g.back.node.parentNode.style.left)-(a+n/2-c/2),d=void 0!=g.arrowOffsetX?g.arrowOffsetX+c:c;g.arrowOffsetX=d;g.setSize(n+2*x,r+G);g.back.node.parentNode.style.left=a+"px";g.back.attr("path",mb(x,x+G,n,s,q,$,G,d));g.outline.attr("path",mb(x,x+G,n,s,q,$,G,d));E.style.left=a+va+"px";E.style.top=parseFloat(g.back.node.parentNode.style.top)+
va+G+"px";g.currentWidth=n}function h(){var a=da;void 0!=g.currentWidth&&(a=g.currentWidth);var b=0,a=parseFloat(g.back.node.parentNode.style.left)-(0+n/2-a/2),b=void 0!=g.arrowOffsetX?g.arrowOffsetX+a:a;g.arrowOffsetX=b;g.setSize(n+2*x,r+G);g.back.node.parentNode.style.left="0px";g.back.attr("path",mb(x,x+G,n,s,q,$,G,b));g.outline.attr("path",mb(x,x+G,n,s,q,$,G,b));E.style.left=0+va+"px";E.style.top=parseFloat(g.back.node.parentNode.style.top)+va+G+"px";g.currentWidth=n}var g=b.inlinePaper,n=Hc(c),
u=Bd(c),s=a+(2*va+16);82>s&&(s=82);var m=0;s>=u||0==a?s=u:m="linkedin"==c||"facebook"==c||"googleplus"==c||"crunchbase"==c||"angellist"==c||"intelark"==c||"comicvine"==c?2:"href"==c||"bookmark"==c||"app"==c?0:36;var r=s+2*x,q=hb;if("ultralinkme"==c||"searchul"==c||c==l.customExperience)q=20,g.outline.attr("stroke-width",ge);var t;t=void 0!=b.paper?b.paper.myRrect.getBBox():{width:f(b).width(),height:f(b).height()};if(ja)h();else switch(b.forceInlineDirection){case "right":d();break;case "left":e();
break;case "middle":k();break;default:b.popupX+t.width/2>document.body.offsetWidth/2?0>b.popupX-n?k():d():b.popupX+t.width+n>document.body.offsetWidth?k():e()}g.spinner.remove();g.backShadow&&g.backShadow.remove();g.backShadow=g.back.glow({color:he,width:ie,opacity:je,offsety:ke});for(a=0;a<g.backShadow.length;a++)g.backShadow[a].node.style.stroke=g.backShadow[a].node.getAttribute("stroke");m=r-2*va+m;f("iframe#inlineIframe_"+c).css("height",m+2+"px");E.style.height=m+2+"px";E.style.zIndex=l.zIndexMax;
f(E).show()}function Jb(a,b,c,d,e){var k=c.inlinePaper;setTimeout(function(){var a=0;void 0!=e&&0!=e&&(a=e);if(void 0!=b&&k&&!ka){var g=f("#containDiv",b),l=g.height(),n=g.width(),g=g[0],s=parseFloat(E.style.height)-16,m=parseFloat(E.style.width)-16;n>m&&(g.style.width=m+"px");a>=s-2&&(a=l,Ia&&(g.style.overflow="auto",g.style["-webkit-overflow-scrolling"]="touch",a>s&&(g.style.height=s-16+"px",a=s),g.style.display="inline-block",g.offsetHeight,g.style.display="block",g.offsetHeight))}Cd(a,c,d)},1)}
function be(a,b){switch(a){case "founder":return!0==b?"a founder":"Founder";case "partner":return!0==b?"a partner":"Partner";case "employee":return!0==b?"an employee":"Employee";case "investor":return!0==b?"an investor":"Investor";case "past_investor":return!0==b?"an investor":"Investor";case "advisor":return!0==b?"an advisor":"Advisor";case "board_member":return!0==b?"a board member":"Board Member";case "referrer":return!0==b?"a referrer":"Referrer";case "mentor":return!0==b?"a mentor":"Mentor";
case "customer":return!0==b?"a customer":"Customer";default:return!0==b?"a "+a:a}}function rb(a){if(null!=document.doctype&&a&&!sa){var b=document.doctype.publicId;""!=b&&(b=' PUBLIC "'+b+'"');var c=document.doctype.systemId;""!=c&&(c=' "'+c+'"');b="<!DOCTYPE "+document.doctype.name+b+c+">";a.open();a.write(b);a.close()}}function ea(a,b,c,d,e){void 0==d&&(d=!0);setTimeout(function(){function e(){Ya(11)&&document.domain!=window.location.host&&(z.src='javascript:(function (){ document.open();document.domain="'+
document.domain+'";document.close(); })();')}n.currentInlineContent=a;var h=D;if(void 0!=h&&void 0!=h.inlinePaper){d&&(gb=nb=h.expanded=!0);var g=Hc(b),J=Bd(b),u=h.inlinePaper;"ultralinkme"==b||"searchul"==b||b==l.customExperience?u.back.attr("opacity",0.95):u.back.attr("opacity",0.9);f(E).css({top:"-1000px",left:"-1000px",width:g+2*x-2*va+"px",height:J+2*x-2*va+"px"});ob&&!pa&&(f(z).remove(),Tc(),E.appendChild(z));f(z).removeAttr("src").attr({id:"inlineIframe_"+b,width:parseInt(E.style.width),height:parseInt(E.style.height)}).css("background",
"rgba(0,0,0,0)");switch(b){case "videovlc":e();fa=f("<div>",{id:"containDiv"});var s=f("<object>",{type:"application/x-vlc-plugin",id:"ultralinkVideo",data:c,width:460,height:337}).append(f("<param>",{name:"movie",value:c})).append(f("<embed>",{id:"vlc",type:"application/x-vlc-plugin",name:"ultralinkVideo",autoplay:"yes",loop:"no",width:460,height:337,target:c}));f(z).one("load",function(){var a=document.getElementById("inlineIframe_"+b),a=Ga(a);rb(a);fa.append(s);f("html body",f(z).contents()).append(fa);
Jb(z,a,h,b,fa.height())});break;case "href":e();fa=f("<div>",{id:"containDiv"});for(var m=f("<div>").css("font-family","Open Sans"),r=f("<table>"),g=0;g<a.length;g++){var q=10;g==a.length-1&&(q=0);var t=a[g].URL,t=t.replace("https://",""),t=t.replace("http://",""),t=Rc(t,35);r.append(f("<tr>").append(f("<td>",{style:"padding-bottom: "+q+"px;"}).append(f("<a>",{href:a[g].URL,target:"_blank",style:"text-decoration: none; color: #aac; font-size: 18px; font-weight: bold;"}).append(f("<img>",{src:l.imagesURL+
"hrefLink64.png",style:"margin-bottom: -10px; margin-right: 10px; width: 32px; height: 32px; border: 0;"})).append(t))))}m.append(r);f(z).one("load",function(){var a=document.getElementById("inlineIframe_"+b),a=Ga(a);rb(a);fa.append(m);var c=document.createElement("style");c.type="text/css";c.textContent=ib;f("html head",f(z).contents()).append(c);f("html body",f(z).contents()).append(fa);Jb(z,a,h,b,fa.height())});break;case "bookmark":e();fa=f("<div>",{id:"containDiv"});m=f("<div>").css("font-family",
"Open Sans");r=f("<table>");for(g=0;g<l.bookmarks.length;g++)q=12,g==l.bookmarks.length-1&&(q=0),t=l.bookmarks[g].URL,t=t.replace("https://",""),t=t.replace("http://",""),t=Rc(t,40),l.bookmarks[g].label&&(t=l.bookmarks[g].label),J=1,l.bookmarks[g].description&&(J=2),r.append(f("<tr>").append(f("<td>",{style:"padding-bottom: "+q+"px; vertical-align: top;",rowSpan:J}).append(f("<a>",{href:l.bookmarks[g].URL,target:"_blank"}).append(f("<img>",{src:l.bookmarks[g].image,style:"margin-top: 4px; margin-right: 10px; width: 51px; height: 51px;"})))).append(f("<td>").css({"vertical-align":"bottom"}).append(f("<a>",
{href:l.bookmarks[g].URL,target:"_blank",style:"text-decoration: none; color: rgb(181, 184, 255); font-size: 18px; font-weight: bold;"}).append(t)))),l.bookmarks[g].description&&r.append(f("<tr>").append(f("<td>").css({color:"white",height:"38px","font-size":"10px","padding-bottom":q+"px","vertical-align":"top"}).append(l.bookmarks[g].description)));m.append(r);f(z).one("load",function(){var a=document.getElementById("inlineIframe_"+b),a=Ga(a);rb(a);fa.append(m);var c=document.createElement("style");
c.type="text/css";c.textContent=ib;f("html head",f(z).contents()).append(c);f("html body",f(z).contents()).append(fa);Jb(z,a,h,b,fa.height())});break;case "app":e();fa=f("<div>",{id:"containDiv"});fa.css({width:"460px",height:"460px",overflow:"hidden"});for(var m=f("<div>").css({"font-family":"Open Sans",width:"100%",height:"100%"}),r=f("<table>").css({width:"100%",height:"100%"}),v=void 0,R=void 0,u=J=void 0,p=function(a,b){function c(a){a.data("zoomed","true").css({position:"absolute"});m.append(a);
a.css({left:(476-a.width())/2+"px",top:(478-a.height())/2+"px"});k=a}function d(a){a.data("zoomed","false").css({position:"static",top:"auto",left:"auto"});a.data("prev")?a.data("prev").after(a):a.data("parent")&&a.data("parent").prepend(a)}var e=!0,g=0,k=void 0,h=f("<div>").css({display:"none",cursor:"pointer",position:"absolute",top:"206px",left:"0px"}).append(f("<img>",{src:l.imagesURL+"lightLeftArrow128.png"}).css({height:"64px"})),q=f("<div>").css({display:"none",cursor:"pointer",position:"absolute",
top:"206px",left:"450px"}).append(f("<img>",{src:l.imagesURL+"lightRightArrow128.png"}).css({height:"64px"}));h.click(function(){k.css("margin-left","220px").fadeOut(400);setTimeout(function(){k.hide();d(k);k.css("margin-left","220px");g--; -1==g&&(g=b.length-1);var e=f("#sImage_"+g,a);c(e);e.addClass("notransition");e.css("margin-left","-220px");e.removeClass("notransition");e.fadeIn();e.css("margin-left","0px")},400)});q.click(function(){k.css("margin-left","-220px").fadeOut(400);setTimeout(function(){k.hide();
d(k);k.css("margin-left","220px");g++;g==b.length&&(g=0);var e=f("#sImage_"+g,a);c(e);e.addClass("notransition");e.css("margin-left","220px");e.removeClass("notransition");e.fadeIn();e.css("margin-left","0px")},400)});m.append(h);m.append(q);for(var p=0;p<b.length;p++)f("#sImage_"+p,a).click(function(){var a=f(this);"true"==a.data("zoomed")?(e=!0,d(a),a.css({display:"inline"}),r.show(),h.hide(),q.hide()):(e=!1,r.hide(),1<b.length&&(h.show(),q.show()),c(a))});1<b.length&&setInterval(function(){var c=
f("#sImage_"+g,a);c.is(":visible")&&e&&c.css("margin-left","-220px").fadeOut(function(){f(this).addClass("notransition");f(this).css("margin-left","220px");f(this).removeClass("notransition");g++;g==b.length&&(g=0);f("#sImage_"+g,a).fadeIn().css({display:"inline","margin-left":"0px"})})},5E3)},y=-1,g=0;9>g;g++){0==g%3&&(y++,J=f("<tr>"),r.append(J),u=f("<tr>",{id:"summaryRow_"+y,"class":"summaryRow"}).append(f("<td>",{"class":"summaryCell",colSpan:3})),r.append(u));t=void 0;if(g<l.apps.length){t=f("<div>",
{id:"summaryDiv_"+g,"class":"summaryDiv"}).css({display:"none",height:"145px","font-size":"13px","border-style":"solid","border-top-width":"3px","border-bottom-width":"3px","border-left-width":"0px","border-right-width":"0px","border-top-color":"rgb(151,151,151)","border-bottom-color":"rgb(151,151,151)","border-radius":"0px","padding-left":"5px","padding-right":"5px","padding-top":"3px","padding-bottom":"3px",background:"-webkit-linear-gradient(60deg, #E2E2E2 0%,#FAFAFA 100%)"});t.append(f("<table>").css("width",
"100%").append(f("<tr>").append(f("<td>").css({"vertical-align":"top",padding:"0px"}).append(f("<div>").append(f("<a>",{target:"_blank","class":"appSummaryLink",href:l.apps[g].URL}).append(l.apps[g].label))).append(f("<div>").css({"font-size":"9px"}).append(l.apps[g].description)))));if(!l.apps[g].images&&l.apps[g].imageBase){l.apps[g].images=[];for(var C=l.apps[g].imageStart;C<=l.apps[g].imageEnd;C++)l.apps[g].images.push(l.apps[g].imageBase.replace("<NUM>",C))}if(l.apps[g].links){var C=f("<tr>").css("height",
"32px"),A=f("<td>"),L=f("<div>");for(q in l.apps[g].links)L.append(f("<a>",{target:"_blank",href:l.apps[g].links[q]}).append(f("<img>",{src:n.linkTypeImage(q,24),width:24,height:24}).css("margin-right","3px")));A.append(L);C.append(A);f("table",t).append(C)}f(".summaryCell",u).append(t);t=f("<img>",{"class":"appImage",src:l.apps[g].image,style:"width: 64px; height: 64px; -webkit-transition:-webkit-filter 0.4s linear;"});!0==l.apps[g].corners&&t.css({"border-radius":"11px"});C=f("<div>",{"class":"appLabel"}).css({"-webkit-transition":"height: 0.8s linear"}).text(l.apps[g].label);
A=l.apps[g].label;l.apps[g].tooltip&&(A=l.apps[g].tooltip);t=f("<a>",{"class":"appLink",target:"_blank",title:A}).data("l",g).append(t).append(C).click(function(a){if("true"!=f(this).data("imagesLoaded")){var b=f(this).data("l"),c=f("#summaryDiv_"+b,r);if(l.apps[b].images){console.trace();for(var d=f("<td>",{rowSpan:2}).css({width:"50%",height:"140px","text-align":"center",padding:"0px"}),e=0;e<l.apps[b].images.length;e++){var g=f("<img>",{id:"sImage_"+e,"class":"sImage",src:l.apps[b].images[e]});
0!=e&&g.hide().css("margin-left","220px");d.append(g);var k=g.prev();k.length?g.data("prev",k):g.data("parent",g.parent())}p(d,l.apps[b].images);f("table tr:first",c).append(d)}f(this).data("imagesLoaded","true")}a.stopPropagation();if("black"==f(this).data("status")){f(".appCell",r).css("height","20%");f(".appLink",r).data("status","black");f(this).data("status","blue");var h=this,m=function(a){var b=f("#summaryRow_"+f(a).data("summaryRow"),r);R=f("#summaryDiv_"+f(a).data("summaryDiv"),r);void 0==
v||v[0]!=b[0]?(void 0!=v?v.css({height:"0px"}):f(".appLabel",r).css("height","0px").fadeOut(),v=b,v.show().css({height:"163px"}),setTimeout(function(){f(R).fadeIn()},500)):f(R).fadeIn()};void 0!=v?f(R).fadeOut(400,function(){m(h)}):m(h);f(".appLink",r).each(function(){this!=h?f(".appImage",this).css({"-webkit-filter":"blur(4px)"}):f(".appImage",this).css({"-webkit-filter":"blur(0px)"})});f(".appLink",r).removeAttr("href");setTimeout(function(){f(h).attr("href",f(h).data("actualLink"))},1)}}).data("summaryRow",
y).data("summaryDiv",g).data("status","black").data("actualLink",l.apps[g].URL)}C=f("<td>",{"class":"appCell"}).css({width:"33.3%",height:"33.3%","text-align":"center","vertical-align":"middle","-webkit-transition":"height 0.4s"}).click(function(){void 0!=v&&f(R).fadeOut(400,function(){f(v).css({height:"0px"});f(".appLink",r).data("status","black");f(".appImage",r).css({"-webkit-filter":"blur(0px)"});f(".appLabel",r).css("height","auto").fadeIn();v=R=void 0})});void 0!=t&&C.append(t);J.append(C)}m.append(r);
f(z).one("load",function(){var a=document.getElementById("inlineIframe_"+b),a=Ga(a);rb(a);fa.append(m);var c=document.createElement("style");c.type="text/css";c.textContent=ib;var d=document.createElement("style");d.type="text/css";d.textContent=".notransition { -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; -ms-transition: none !important; transition: none !important; } .summaryRow { height: 0px; -webkit-transition:height 0.4s; } .summaryCell { padding: 0px; } .sImage { margin: auto; margin-left: 0px; max-height: 100%; max-width: 100%; -webkit-transition:margin-left 0.4s; } .appLink { text-decoration: none; color: white; font-size: 16px; font-weight: bold; cursor: pointer; line-height: 30px; } .appSummaryLink { font-weight: bold; font-size: 20px; color: black; text-decoration: none; }";
f("html head",f(z).contents()).append(c);f("html head",f(z).contents()).append(d);f("html body",f(z).contents()).append(fa);fa.parent().css({width:"460px",height:"462px",overflow:"hidden"});Jb(z,a,h,b)});break;case "twitter":case "linkedin":case "facebook":case "googleplus":case "crunchbase":case "intelark":case "comicvine":case "wikipedia":case "mediawiki":case "webmd":case "annotation":case "angellist":case "searchgoogle":case "searchbing":case "buyamazon":case "xmpp":f(z).one("load",function(){var c=
document.getElementById("inlineIframe_"+b),d=Ga(c);rb(d);if(void 0==c.src||""==c.src)c.src=a});break;default:"uhctv"==b&&(q="",a=q="https://www.youtube.com/embed/"+/.*youtube\.com\/watch\?.*v=(.+?)($|&)/.exec(a)[1]),l.customInlineBackgrounds&&l.customInlineBackgrounds[b]&&f(z).css("background",l.customInlineBackgrounds[b]),f(z).one("load",function(){var c=document.getElementById("inlineIframe_"+b),d=Ga(c);rb(d);if(void 0==c.src||""==c.src)c.src=a,Ia&&f(c).parent().css({overflow:"auto","-webkit-overflow-scrolling":"touch"}),
setTimeout(function(){Cd(0,h,b)},1)})}}},1)}function Dd(){Sa=f(window);f.expr[":"].icontains||(f.expr[":"].icontains=function(a,b,c,d){return 0<=(a.textContent||a.innerText||f(a).text()||"").toLowerCase().indexOf(c[3].toLowerCase())});f.expr[":"].contains2||(f.expr[":"].contains2=function(a,b,c,d){if(a=a.childNodes)for(b=a.length;0<=--b;)if(d=a[b],d.nodeType==Node.TEXT_NODE&&0<=(d.textContent||d.innerText||f(d).text()||"").indexOf(c[3]))return!0;return!1});f.expr[":"].icontains2||(f.expr[":"].icontains2=
function(a,b,c,d){if(a=a.childNodes)for(b=a.length;0<=--b;)if(d=a[b],d.nodeType==Node.TEXT_NODE&&0<=(d.textContent||d.innerText||f(d).text()||"").toLowerCase().indexOf(c[3].toLowerCase()))return!0;return!1})}function Pc(a){if(!1==rc){rc=!0;Dd();Raphael.easing_formulas.sine=function(a){return(Math.sin(2*(a+0.75)*Math.PI)+1)/2};gd=Raphael.animation({fill:"#ddf"},5E3,"sine").repeat(Infinity);pc();n.setOptions(a);f("ultralinkloaded").bind("DOMSubtreeModified",function(a){xd(this)});xd(f("ultralinkloaded")[0]);
window.addEventListener("message",function(a){a=a.data;n.handleExtensionMessage(a.name,a)});za()&&(f(window).bind("beforeunload",function(){Ac("exit")}),"true"!=l.takeScreenshots||pa||"undefined"!=typeof html2canvas?Ac("enter"):kb(Ca+"libraries/html2canvas.min.js",function(){Ac("enter")}));if(Ia){var b={};document.addEventListener("touchmove",function(a){a=a.changedTouches;1==a.length&&(b[a[0].identifier]=!0)},!0);document.addEventListener("touchend",function(a){a=a.changedTouches;if(1==a.length){var c=
a[0];if(b[c.identifier])delete b[c.identifier];else{if(void 0==D)for(xa=Sa.scrollTop(),Ha=window.innerHeight||document.documentElement.clientHeight,a=K.length;a--;){var k=K[a];bb(k)&&f("uword",k).each(function(){if(bb(this)&&this!=Ka){var a=ab(this),b=c.pageX-(a.left+a.width/2),a=c.pageY-(a.top+a.height/2),b=b*b+a*a;12E4>b?$c(this,(12E4-b)/12E4):xb(this)}})}Gc(c,!0)}}},!0)}pa||(f(document).mousemove(function(a){!0!=gb&&Gc(a);if(void 0==D&&"true"==l.failsafe&&"true"==l.proximityFade){xa=Sa.scrollTop();
Ha=window.innerHeight||document.documentElement.clientHeight;for(var b=K.length;b--;){var c=K[b];if(bb(c)){if(c.notScanned||c.fragmentData)if(jc(c),void 0!=ha)break;f("uword",c).each(function(){if(this!=Ka){var b=2;if(ka||sa)b=1.25;var c=ab(this),e=0,k=a.pageY-(c.top+c.height/2);a.pageX<c.left?e=c.left-a.pageX:a.pageX>=c.left+c.width&&(e=a.pageX-(c.left+c.width));c=e*e+k*k;12E3>c?Da(this,(12E3-c)/(12E3*b)):(b=n.getDataUl(this))&&b.callout&&("normal"==b.callout||"insight"==b.callout||"search"==b.callout)||
xb(this)}})}}void 0!=ha&&Hb()}}),f(document).click(function(a){Gc(a,!0)}),f(document).keydown(function(a){"true"==l.failsafe&&a.altKey&&Qd();a.altKey&&(Jc=1)}),f(document).keyup(function(a){!a.altKey&&Jc&&(Jc=0,tc())}));ka||(cb=f(document).width());f(window).resize(function(){var a=f(document).width();a!=cb&&n.closeUltralinkPopup();cb=a;for(a=K.length;a--;)ab(K[a],!0,!0)});f(window).scroll(function(){xa=Sa.scrollTop();Ha=window.innerHeight||document.documentElement.clientHeight;for(var a=K.length;a--;){var b=
K[a];if(b.notScanned||b.fragmentData)if(Yb(b)&&jc(b),void 0!=ha)break}void 0!=ha&&Hb()});f(document).ready(function(){sc();setTimeout(function(){sc();var a=0,b=setInterval(function(){sc();a++;15<a&&clearInterval(b)},2E3)},1E3);Ia||pa||(document.body.onmousedown=function(a){Kc=1},document.body.onmouseup=function(a){Kc=0})});var c=function(){"true"==l.scanFirst?fe():"true"==l.activateUltralinksFirst&&(n.uwordScanPage(document),l.sectionSelector&&f(l.sectionSelector).each(function(){K.unshift(this)}))};
"true"==l.lookupLastSearch&&""!=zb?(arguments="?ULDatabase="+encodeURIComponent(l.database)+"&ULLink="+encodeURIComponent(ga)+"&association="+encodeURIComponent(zb),f.ajax({type:"GET",url:Aa+"getSearchClick"+arguments,dataType:"json",jsonp:!1,success:function(a,b,k){a&&(Db=a.dbsname,Eb=a.description_ID);c()}})):c()}else n.setOptions(a)}function Ed(){jb&&Wa.removeChild(jb);jb=document.createElement("style");jb.id="ultralinkZCSS";jb.type="text/css";jb.textContent="span.ultralinkLink, div.ultralinkLinkImageBackPreview, div.ultralinkLinkImageBackInsightPreview, div.ultralinkLinkImageBackNoPreview, a.ultralinkLinkImageLink, a.ultralinkLinkImageLink:hover, img.ultralinkLinkImage { z-index: "+
(l.zIndexMax-2)+"; } ";Wa.appendChild(jb)}if(window.top==window||!0==window.ULAllowInIFrame){var n={},Ib="38";n.version=Ib;var fb=fb||function(a,b){var c={},d=c.lib={},e=function(){},k=d.Base={extend:function(a){e.prototype=this;var b=new e;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&
(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},h=d.WordArray=k.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||f).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>
2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=k.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new h.init(c,b)}}),g=c.enc={},f=g.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&
15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new h.init(c,b/2)}},l=g.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new h.init(c,b)}},n=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(l.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");
}},parse:function(a){return l.parse(unescape(encodeURIComponent(a)))}},m=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new h.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=n.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,k=e/(4*g),k=b?a.ceil(k):a.max((k|0)-this._minBufferSize,0);b=k*g;e=a.min(4*b,e);if(b){for(var f=0;f<b;f+=g)this._doProcessBlock(d,f);f=d.splice(0,b);c.sigBytes-=
e}return new h.init(f,e)},clone:function(){var a=k.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=m.extend({cfg:k.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){m.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,
c){return(new r.HMAC.init(a,c)).finalize(b)}}});var r=c.algo={};return c}(Math);(function(){var a=fb,b=a.lib,c=b.WordArray,d=b.Hasher,e=[],b=a.algo.SHA1=d.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],f=c[1],l=c[2],m=c[3],n=c[4],q=0,t;16>q;)e[q]=a[b+q]|0,t=(d<<5|d>>>27)+n+e[q]+(f&l|~f&m)+1518500249,n=m,m=l,l=f<<30|f>>>2,f=d,d=t,q++;for(;20>q;)t=e[q-3]^e[q-8]^e[q-14]^e[q-16],
e[q]=t<<1|t>>>31,t=(d<<5|d>>>27)+n+e[q]+(f&l|~f&m)+1518500249,n=m,m=l,l=f<<30|f>>>2,f=d,d=t,q++;for(;40>q;)t=e[q-3]^e[q-8]^e[q-14]^e[q-16],e[q]=t<<1|t>>>31,t=(d<<5|d>>>27)+n+e[q]+(f^l^m)+1859775393,n=m,m=l,l=f<<30|f>>>2,f=d,d=t,q++;for(;60>q;)t=e[q-3]^e[q-8]^e[q-14]^e[q-16],e[q]=t<<1|t>>>31,t=(d<<5|d>>>27)+n+e[q]+(f&l|f&m|l&m)-1894007588,n=m,m=l,l=f<<30|f>>>2,f=d,d=t,q++;for(;80>q;)t=e[q-3]^e[q-8]^e[q-14]^e[q-16],e[q]=t<<1|t>>>31,t=(d<<5|d>>>27)+n+e[q]+(f^l^m)-899497514,n=m,m=l,l=f<<30|f>>>2,f=d,
d=t,q++;c[0]=c[0]+d|0;c[1]=c[1]+f|0;c[2]=c[2]+l|0;c[3]=c[3]+m|0;c[4]=c[4]+n|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296);b[(d+64>>>9<<4)+15]=c;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=d.clone.call(this);a._hash=this._hash.clone();return a}});a.SHA1=d._createHelper(b);a.HmacSHA1=d._createHmacHelper(b)})();var ua;ua||(ua={});(function(){function a(a){return 10>
a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,g,n,t,v=f,x,p=d[a];p&&("object"===typeof p&&"function"===typeof p.toJSON)&&(p=p.toJSON(a));"function"===typeof l&&(p=l.call(d,a,p));switch(typeof p){case "string":return b(p);case "number":return isFinite(p)?String(p):"null";case "boolean":case "null":return String(p);case "object":if(!p)return"null";
f+=h;x=[];if("[object Array]"===Object.prototype.toString.apply(p)){t=p.length;for(e=0;e<t;e+=1)x[e]=c(e,p)||"null";n=0===x.length?"[]":f?"[\n"+f+x.join(",\n"+f)+"\n"+v+"]":"["+x.join(",")+"]";f=v;return n}if(l&&"object"===typeof l)for(t=l.length,e=0;e<t;e+=1)"string"===typeof l[e]&&(g=l[e],(n=c(g,p))&&x.push(b(g)+(f?": ":":")+n));else for(g in p)Object.prototype.hasOwnProperty.call(p,g)&&(n=c(g,p))&&x.push(b(g)+(f?": ":":")+n);n=0===x.length?"{}":f?"{\n"+f+x.join(",\n"+f)+"\n"+v+"}":"{"+x.join(",")+
"}";f=v;return n}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,h,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof ua.stringify&&(ua.stringify=function(a,b,d){var e;h=f="";if("number"===typeof d)for(e=0;e<d;e+=1)h+=" ";else"string"===typeof d&&(h=d);if((l=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("realJSON.stringify");return c("",{"":a})});
"function"!==typeof ua.parse&&(ua.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("realJSON.parse");})})();var Qb=void 0,rc=!1,oa="ultralink.me",aa="https://"+oa+"/",Ca=aa,le="https:"==document.location.protocol?"https://":"http://",f=void 0,Pb=void 0;n.sendExtensionMessage||(n.sendExtensionMessage=function(a,b){var c=document.createElement("command");c.setAttribute("type",a);c.textContent=ua.stringify(b);var d=document.getElementsByTagName("ultralinkloaded");
0<d.length&&d[0].appendChild(c)});var ka=!(!window.opera||!window.opera.version),sa="MozBoxSizing"in document.documentElement.style,ob=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor"),Fd=-1!=navigator.userAgent.indexOf("OPR"),cc=!ob&&!ka&&"WebkitTransform"in document.documentElement.style,wb="msTransform"in document.documentElement.style,ad=/webkit/.test(navigator.userAgent.toLowerCase()),pa=navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Android/i)||
navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i),O=[{category:"Image",categoryType:"image",linkTypes:{image:"Image"}},{category:"Links",categoryType:"normal",linkTypes:{href:"Link",href2:"Link 2",href3:"Link 3"}},{category:"App",categoryType:"normal",linkTypes:{appios:"iOS App",appmac:"Mac App",appwebos:"webOS App",appandroid:"Android App",appwindows:"Windows App"}},{category:"Buy",categoryType:"normal",linkTypes:{buy:"Buy",
buylinkshareapple:"Buy",buyapple:"Buy",buyamazon:"Buy",buyebay:"Buy"}},{category:"Social",categoryType:"normal",linkTypes:{twitter:"Twitter",linkedin:"LinkedIn",googleplus:"Google+",facebook:"Facebook"}},{category:"Reference",categoryType:"normal",linkTypes:{pdf:"PDF",wikipedia:"Wikipedia",mediawiki:"MediaWiki",imdb:"IMDB",espn:"ESPN",webmd:"WebMD",github:"GitHub",freebase:"Freebase",angellist:"AngelList",crunchbase:"CrunchBase",intelark:"Intel ARK",comicvine:"Comic Vine",manpage:"Documentation",
map:"Map",mapgoogle:"Google Map"}},{category:"Video",categoryType:"normal",linkTypes:{video:"Video",videoyoutube:"YouTube",videovimeo:"Vimeo",videovlc:"VLC"}},{category:"Annotation",categoryType:"normal",linkTypes:{annotation:"Annotation"}},{category:"Chat",categoryType:"normal",linkTypes:{xmpp:"Jabber"}},{category:"Search",categoryType:"normal",linkTypes:{searchul:"Search Ultralinks",search:"Search",searchgoogle:"Google Search",searchyahoo:"Yahoo Search",searchbing:"Bing Search",searchpubmed:"PubMed Search"}}],
pd={"(.png|.jpeg|.jpg|.gif|.tiff|.svg|.bmp)$":"image","http.*gravatar\\.com/avatar/":"image","(.pdf)$":"pdf","http.*wikipedia\\.org/wiki/(?!(User|Wikipedia|File|MediaWiki|Template|Help|Category|Portal|Book|Education_Program|TimedText)(_talk)?:)":"wikipedia","http.*freebase\\.com":"freebase","http.*angel\\.co":"angellist","http.*crunchbase\\.com/(company|person|organization)":"crunchbase","http.*ultralink\\.me/annotation/":"annotation","http.*www\\.amazon\\.(br|ca|com|co.uk|cn|de|es|fr|in|it|jp)/":"buyamazon",
"http.*ebay\\.com":"buyebay","http://click\\.linksynergy\\.com.*partnerId%253D30":"buylinkshareapple","http://click\\.linksynergy\\.com":"buy","http.*itunes\\.apple\\.com":"buyapple","http.*www\\.imdb\\.com":"imdb","http.*developer\\.apple\\.com.*/Manpages/":"manpage","http.*opengl\\.org.*/docs/man/":"manpage","http.*developer\\.palm\\.com/appredirect":"appwebos","http.*play\\.google\\.com/store/apps/details":"appandroid","http.*linkedin\\.com":"linkedin","http.*facebook\\.com":"facebook","http.*twitter\\.com":"twitter",
"http.*plus\\.google\\.com":"googleplus","http.*maps\\.google\\.com":"mapgoogle","http.*youtube\\.com":"videoyoutube","http.*vimeo\\.com":"videovimeo","http.*google\\.com/search?":"searchgoogle","http.*search\\.yahoo\\.com/search?":"searchyahoo","http.*bing\\.com/search?":"searchbing","http.*ark\\.intel\\.com/products/":"intelark","http.*comicvine\\.com/":"comicvine","http.*webmd\\.com/":"webmd","xmpp:.*":"xmpp"},Y=[{siteRegex:"http.*wikipedia\\.org",selector:"div.mw-content-ltr p, div.mw-content-ltr ul, div.mw-content-ltr dl"}],
Gd="en",Hd="US",lc=window.navigator.language;lc||(lc=window.navigator.browserLanguage);var Lc=lc.match(/([a-z,A-Z]{2})(-[a-z,A-Z]{2})?/);null!=Lc&&2<=Lc.length&&(Gd=Lc[1].toLowerCase());var Mc=lc.match(/[a-z,A-Z]{2}-([a-z,A-Z]{2})/);null!=Mc&&2<=Mc.length&&(Hd=Mc[1].toUpperCase());var Ec=window.location.protocol+"//"+window.location.host,ga;ga=window.location.href?window.location.href:Ec+window.location.pathname;var kc=fb.SHA1(ga,{asString:!0}),de=fb.SHA1(ga).words[0]>>>0,sd=ga.match(RegExp("http.*wikipedia.org/wiki/(?!(User|Wikipedia|File|MediaWiki|Template|Help|Category|Portal|Book|Education_Program|TimedText)(_talk)?:)",
"i"));n.amazonSearchRegExp=/\/search\/?/;var l={failsafe:"true",environment:"javascript",imagesURL:aa+"ultralinkImages/",scanFirst:"true",continualScan:"true",database:"",replaceHyperlinks:"false",addSearch:"true",proximityFade:"true",hoverTime:1E5,scanSelector:".ultralink",backupSelector:"p",userLanguageOrder:[Gd],userCountryOrder:[Hd],linkTypeBlock:["searchul","searchgoogle","searchyahoo","searchbing","searchpubmed"],categoryWhitelist:[],categoryBlacklist:[],zIndexMax:2147483647,hoverRecoverTime:100,
inlinePopups:"true",combineLikeButtons:"true",routingTable:{}};l.routingTable[oa]=[{range:4294967295,"interface":aa+"API/current/"}];var zb="",yc="",Db,Eb,hc=[],ib="",Bb=aa+"API/current/",Aa=Bb+"analytics/",Ia="ontouchstart"in window,K=[],Ba="",Kc=0,Jc=0,D=void 0,Ka,nb=!1,gb=!1,Ta=0,Oa=[],Ua=void 0,gc=!0,Kb,Lb,mc={},ma={},pb={},vc={};n.supportedInlineTypes="wikipedia mediawiki angellist annotation videoyoutube videovimeo mapgoogle ultralinkme searchul searchpubmed comicvine".split(" ");(ob&&!pa||
sa||cc&&!Fd)&&n.supportedInlineTypes.push("pdf");navigator&&navigator.plugins["VLC Web Plugin"]&&n.supportedInlineTypes.push("videovlc");var Ea=!1,hb=10,da=75,G=15,$=30,Ic=3,va=15,x=3,ge=0.5,yb=22,wc=0.6,dc="#ccc",Fa="#eee",Rb,fd="#000",C,I,qa,V,Z,W,S,xc="#000",ld=0.12,ub,vb,he="#000",je=0.06,ie=4,ke=0.5,Sb,Tb,id="#bbb",kd="#fff",Wd=0.06,Ub,lb,Wb,wa,md=10,F,Za,Vb,ba,X,P,N,Vd=0.8;pc();var Od=/MSIE ([0-9]{1,}[.0-9]{0,})/,Pd=/rv:([0-9]{1,}[.0-9]{0,})/;n.fragmentContent=function(a){if(!a.fragmentContent){var b=
f(a).clone();f("span.nouword,iframe,textarea,input,svg,style,script,button",b).remove();var c=b[0].innerHTML,c=c.replace(/<\/?[A-Za-z][^>]*>/g,"\n"),b=void 0,d=0,e=0,k=!1;"undefined"===typeof b&&(b=2);var c=c.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">"),h={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};0===b&&(k=!0);if("number"!==typeof b){b=[].concat(b);for(e=0;e<b.length;e++)0===h[b[e]]?k=!0:h[b[e]]&&(d|=h[b[e]]);b=d}b&h.ENT_HTML_QUOTE_SINGLE&&
(c=c.replace(/&#0*39;/g,"'"));k||(c=c.replace(/&quot;/g,'"'));c=c.replace(/&amp;/g,"&");c=c.replace(/\n\s*\n/g,"\n");b=c=c.trim();if(2>b.length||524288<b.length||"&nbsp;"==b)return K.splice(K.indexOf(a),1),"";a.fragmentContent=b}return a.fragmentContent};n.fragmentHash=function(a){if(!a.fragmentHash){var b=n.fragmentContent(a);if(""!=b)a.fragmentHash=fb.SHA1(b,{asString:!0})+"";else return""}return a.fragmentHash};n.highlightFragments=function(){if(""!=Ba){for(var a=Ba.split(","),b=0;b<a.length;b++)a[b]=
a[b].trim();for(var c=K.length;c--;){var d=K[c],e=n.fragmentHash(d);if(1==a.length)e+=a[0];else for(var f=jQuery(d),b=0;b<a.length;b++){var h=a[b];f.is(h)&&(e+=" \n"+h)}jQuery(d).css("background","rgba(0,0,100,0.25)").attr("title",e)}return Ba}return"No current selector"};n.linkTypeImage=function(a,b){for(var c=l.imagesURL,d=0;d<O.length;d++){var e=O[d];if(a in e.linkTypes&&e.linkImageURL){c=e.linkImageURL;break}}d=a.replace(RegExp("[0-9]$","g"),"")+"Link";e=128;if(pa)e=64;else{var f=b;ad||sa?f*=
window.devicePixelRatio:wb&&(f*=screen.deviceXDPI/screen.logicalXDPI);16>=f?e=16:32>=f?e=32:64>=f&&(e=64)}return c+(d+e+".png")};n.setDataUl=function(a,b,c){void 0==c&&(c="data-ul");a[c]=b;a.attributes[c]&&(a.attributes[c].value=ua.stringify(b))};n.getDataUl=function(a,b){void 0==b&&(b="data-ul");if(a[b])return a[b];var c=a.attributes[b];if(c)return c=ua.parse(c.value),n.setDataUl(a,c,b),a.removeAttribute(b),c};var Sa=void 0,xa=0,Ha=window.innerHeight||document.documentElement.clientHeight;n.setAsLinkAnchor=
function(a,b,c,d,e,f,h){a.href=Sc(b,c);"true"==l.newWindows&&(a.target="_blank");a.UMType=c;a.UMUrl=b;a.UMWord=e;a.UMID=h;void 0!=f&&(a.UMDatabase=f)};n.removeOldPopup=function(){if(void 0!=D){var a=D;a.wellActive=!1;f(a).parents().each(function(){"BODY"!=this.nodeName&&"HTML"!=this.nodeName&&jQuery(this).unbind("scroll.ultralink")});if(void 0!=a.paper){var b=a.paper;Yc();b.myRrect.stop();b.drawerButton&&b.drawerButton.stop();b.drawerCircle&&b.drawerCircle.stop();var c;for(c=0;c<b.ULButtons.length;c++)b.ULButtons[c].stop(),
f.cleanData([b.ULButtons[c].node.parentNode]);for(c=0;c<b.ULLabels.length;c++)f.cleanData([b.ULLabels[c]]),document.body.removeChild(b.ULLabels[c]);for(c=0;c<b.ULImages.length;c++)f.cleanData([b.ULImages[c]]),document.body.removeChild(b.ULImages[c]);for(c=0;c<b.ULImageBacks.length;c++)f.cleanData([b.ULImageBacks[c]]),document.body.removeChild(b.ULImageBacks[c]);b.umLink&&(f.cleanData([b.umLink.outline]),document.body.removeChild(b.umLink.outline),f.cleanData([b.umLink]),document.body.removeChild(b.umLink));
b.ULthumbnail&&(b.ULthumbnail.stop(),f.cleanData([b.ULthumbnail.node.parentNode]));na();b.remove();delete a.paper;delete a.autoPopup;D=void 0;gb=nb=!1;Ta=0;Oa=[];Ua&&(clearInterval(Ua),Ua=void 0);gc=!0}else na();Sd(a);(b=n.getDataUl(a))&&(b.callout&&("normal"==b.callout||"insight"==b.callout||"search"==b.callout))&&Da(a)}};n.closeUltralinkPopup=function(){n.removeOldPopup();Ea=!1};n.linkTooltip=function(a,b){var c="";if("ultralinkme"==a)c="Ultralink";else for(var d=0;d<O.length;d++){var e=O[d];if(a in
e.linkTypes){c=e.linkTypes[a];break}}d="";"blue"==b?d="Link"==c?"Link":c+" link":"black"==b&&(d="View "+c+" data");return d};n.restorePreviousInlineButton=function(a){void 0==a&&(a=D);void 0!=a&&(a=a.inlinePaper,void 0!=a&&void 0!=a.ULAnchor&&!0==a.ULAnchor.outline.previewAvailable&&(a.ULAnchor.setAttribute("href",""),a.ULAnchor.removeAttribute("href"),a.ULAnchor.UMActionType="blackShadow",a.ULAnchor.setAttribute("title",n.linkTooltip(a.ULAnchor.linkType,"black")),a.ULAnchor.outline.className="ultralinkLinkImageBackPreview"))};
n.ultralinkLinks=function(a,b,c){void 0==c&&(c=!1);for(var d=0,e=[],f=[],h=0;h<O.length;h++)e.push({}),f.push(0);var g="";a.database&&(g=a.database+"/");l.customExperience&&void 0==a.URLS[l.customExperience]&&(a.URLS[l.customExperience]=[{URL:aa+"link/"+g+a.ID+"?word="+encodeURIComponent(b)}]);l.bookmarks&&void 0==a.URLS.bookmark&&(a.URLS.bookmark=[{URL:l.bookmarks[0].URL}]);l.apps&&void 0==a.URLS.app&&(a.URLS.app=[{URL:l.apps[0].URL}]);if("true"==l.addSearch&&void 0!=b&&(!a.nosearch||"true"!=a.nosearch)){var n=
function(c){if("undefined"!=typeof l.linkTypeBlock)for(var d=0;d<l.linkTypeBlock.length;d++)if(c==l.linkTypeBlock[d])return;switch(c){case "search":case "searchgoogle":return[{URL:"http://www.google.com/search?q="+encodeURIComponent(b)}];case "searchyahoo":return[{URL:"http://search.yahoo.com/search?p="+encodeURIComponent(b)}];case "searchbing":return[{URL:"http://www.bing.com/search?q="+encodeURIComponent(b)}];case "searchpubmed":return[{URL:"https://www.ncbi.nlm.nih.gov/pubmed/?term="+encodeURIComponent(b)}];
case "searchul":return[{URL:aa+"ulsearch/"+g+a.ID+"?word="+encodeURIComponent(b)}]}};void 0==a.URLS.search&&(a.URLS.search=n("search"));void 0==a.URLS.searchgoogle&&(a.URLS.searchgoogle=n("searchgoogle"));void 0==a.URLS.searchyahoo&&(a.URLS.searchyahoo=n("searchyahoo"));void 0==a.URLS.searchbing&&(a.URLS.searchbing=n("searchbing"));void 0==a.URLS.searchmedpub&&(a.URLS.searchpubmed=n("searchpubmed"));void 0==a.URLS.searchul&&(a.URLS.searchul=n("searchul"))}for(var u in a.URLS){n=!1;if("undefined"!=
typeof l.linkTypeBlock)for(h=0;h<l.linkTypeBlock.length;h++)if(u==l.linkTypeBlock[h]){n=!0;break}if(!1==n){h=a.URLS[u];n=dd(h);if(void 0==n)for(var s=0;s<l.userCountryOrder.length;s++){for(var m=l.userCountryOrder[s],r=0;r<h.length;r++)if(m==h[r].country){n=h[r];break}if(void 0!=n)break}if(void 0==n){for(s=0;s<h.length;s++)if(!h[s].language&&!h[s].country){n=h[s];break}void 0==n&&0<h.length&&(n=h[0])}if(void 0!=n&&ga!=n.URL)for(h=0;h<O.length;h++){var s=O[h],q;for(q in s.linkTypes)if(q==u&&(!0!=c||
"drawer"!=s.categoryType)){e[h][u]=n.URL;f[h]+=1;"image"!=s.categoryType&&d++;break}}}}return{Links:e,numOfLinks:f,numOfButtons:d}};var Q=0,ya=0,U=0,la=0,Ma=0,Na=0,Ja,ac,uc,ja=!1,La=!1;n.recordSearchClick=function(a,b,c,d){0<parseInt(b)&&za()&&(c="ULWord="+encodeURIComponent(c)+"&ULReferrer="+encodeURIComponent(ga)+"&ULReferrerTitle="+encodeURIComponent(document.title),a&&(c+="&ULDatabase="+encodeURIComponent(a)),b&&(c+="&ULID="+encodeURIComponent(b)),d&&(c+="&ULLink="+encodeURIComponent(d)),Pa(Aa+
"addSearchClick",c))};var zc="";n.fragmentCallback=function(a){f('head script[src="https://'+oa+a.URI+'"]').remove();var b=fb.SHA1("https://"+oa+a.URI);void 0!=n[b]&&(n[b](a),delete n[b])};n.getPageContentSelectors=function(){var a={},b=0,c=0,d=0,e=0,f="",h="",g="",n="";if(0<document.querySelectorAll(".ultralink").length)n=".ultralink";else{for(var u=0;u<Y.length;u++)if((void 0==Y[u].overrideWebsite||Y[u].overrideWebsite==Ec)&&(""==Y[u].siteRegex||ga.match(RegExp(Y[u].siteRegex,"i"))))return Y[u].selector;
if(""==n){for(var u="article.content article.story div.answer_content div.answer_text div.apple-rss-article-body div.artPgMnStryWrapper div.article div.articleBodyContent div.articleBody div.articlePage div.articleText div.article-content div.article-container div.article-main div.article-main-text div.article-text div.body div.body-copy div.bd div.container div.content div.Content div.contentBody div.content-text div.content-section div.content123 div.da_black div.description-container div.entry div.entry-content div.entry-summary div.entry_body_text div.fs-content-box div.ii div.jive-content div.mainWrapper div.main_col div.main-content div.media-story div.mod-articletext div.mw-content-ltr div.news-article-body div.post div.post-body div.post_body div.post-content div.post-text div.primary div.story div.story-text div.storyText div.wsh_expCol_Content div#article div#articleText div#articleBody div#article-body-blocks div#article_body div#article_story_body div#article-text div#js-article-text div#bodyContent div#cmArticleWell div#content div#inner_content_left div#mainentrycontent div#mediaarticlebody div#obitText div#ReportTxt div#story-body-text div#story div#storytext div#storyText div#storyContent td.bod td.text span.bodyCopy span#article_content section#article_text".split(" "),
s,m=0;m<u.length;m++){var r=u[m];s=document.querySelectorAll(r);for(var q=!1,t=0;t<s.length;t++){var v=s[t];0==v.querySelectorAll("embed").length?(v=v.offsetHeight*v.offsetWidth,0<v&&(v>c&&(c=v,d=s.length,h=r),v=document.querySelectorAll(r+" p"),a[r]=v.length,v.length>e&&(e=v.length,g=r))):q=!0}!1==q&&s.length>b&&(b=s.length,f=r)}h==g?n=h:h==f?n=h:""!=h&&0==b?n=h:""!=f&&0==c?n=f:d==b&&0!=d?n=h:1==d&&e>d&&e>b?n=g:1==d&&b>d?n=f:""!=h&&(n=h);""!=n&&(a=a[n],void 0!=a&&2<a&&(n=n+" p, "+n+" ul, "+n+" dl"))}}""==
n&&(n=l.backupSelector);return n};var Fb={},td=!1,Gb=void 0,ha=void 0,qb=void 0,ud=0;n.uwordScanPage=function(a){f("uword",a).each(function(){var a=f(this);if("true"!=this.alreadyScanned){this.alreadyScanned="true";var c=n.getDataUl(this);if(c){c.callout&&"normal"==c.callout&&Da(this);var d=!1,e=c.URLS.annotation;void 0==e&&(e=c.URLS[l.customExperience+"annotation"]);if(void 0!=e){var k=dd(e);void 0==k&&(k=e[0]);k&&void 0!=k.annotation&&(this.setAttribute("title",k.annotation),d=!0)}!d&&(c.status&&
"hit"!=c.status&&"true"==l.editorStyle)&&this.setAttribute("title",c.status)}Ya(10)&&(this.ieSpan=f("<span>").text(this.textContent).css({position:"absolute",display:"none"})[0],this.parentNode.insertBefore(this.ieSpan,this));a.click(function(){if("true"==l.failsafe&&!1==Ea){clearTimeout(Kb);Kb=void 0;clearTimeout(Lb);Lb=void 0;Ka=this;var a=n.getDataUl(this);bc(this);za()&&Ab(a.database,a.ID,this.textContent,"popup",this)}});if(!("true"==l.noHover||Ia&&pa)){var h=function(a,b){Kb=setTimeout(function(a){var b=
a.ul;a=a.nuT;bc(a);za()&&Ab(b.database,b.ID,a.textContent,"popup",a)},l.hoverTime,{ul:a,nuT:b})};a.hover(function(){"true"!=l.failsafe||(Kc||!1!=Ea||!0==gb)||(Da(this,1),D!=this&&n.removeOldPopup(),Ka=this,h(c,this));za()&&function(a,b){Lb=setTimeout(function(a){var b=a.ul;a=a.nuT;Ab(b.database,b.ID,a.textContent,"hover",a)},1E3,{ul:a,nuT:b})}(c,this)},function(){clearTimeout(Kb);Kb=void 0;clearTimeout(Lb);Lb=void 0;c&&c.callout&&("normal"==c.callout||"insight"==c.callout||"search"==c.callout)||xb(this);
Ka=void 0})}}})};n.handleExtensionMessage=function(a,b){switch(a){case "overrideSettings":Uc(b);break;case "createultralink":n.createUltralinkFromSelection(b.messageSelected);break;case "Cache Clear":delete mc[b.service+b.query.URL];break;case "twitterResult":case "linkedinResult":case "angellistResult":case "crunchbaseResult":case "uhctvResult":if("success"==b.status){switch(a){case "twitterResult":case "linkedinResult":case "crunchbaseResult":case "angellistResult":switch(b.query.command){case "TwitterFollowing":case "TwitterFollower":case "OneLinkedInHop":case "TwoLinkedInHops":case "LinkedInSameLocation":case "CompanyHasConnection":case "CompanyHasFirstConnection":case "LinkedInSpecificPerson":case "CrunchbaseFundedCompany":case "CrunchbaseUnfundedCompany":case "CrunchbaseSpecificCompany":case "CrunchbaseInvestor":case "CrunchbaseSpecificPerson":case "CrunchbaseCompaniesInvestedBy":case "CrunchbaseCompaniesAcquiredBy":case "OneAngelListHop":case "TwoAngelListHops":case "AngelListSameLocation":case "StartupHasConnection":case "StartupHasFirstConnection":case "RaisingMoneyOnAngelList":case "AngelListSpecificPerson":ae(b.query.command,
b.query.URL,b.data)}}if(void 0!=D){var c=D;if(void 0!=c.inlinePaper&&(c.inlinePaper.linkType==b.type||-1!=c.inlinePaper.linkType.indexOf(b.type))&&c.inlinePaper.URL==b.query.URL)if("success"==b.status)switch(a){case "uhctvResult":c=b.data,mc[b.type+b.query.URL]=c,ea(c,b.type,b.query.URL)}else na()}}else console.log(a,b);break;case "viewLoad":if(void 0!=D&&void 0!=D.inlinePaper&&D.inlinePaper.URL==b.URL&&(D.inlinePaper.linkType==b.type||D.inlinePaper.linkType==l.customExperience+b.type)){gb=nb=D.expanded=
!0;var c=document.getElementById("inlineIframe_"+b.type),d=Ga(c);Jb(c,d,D,b.type,b.height)}break;default:return!1}return!0};n.createUltralinkFromSelection=function(a){var b=window.getSelection();b.anchorNode==b.focusNode&&"A"!=b.anchorNode.parentElement.nodeName&&64>b.toString().length&&ee(a,b.anchorNode.parentNode)};var Mb=1E3;n.doScan=function(a,b){var c=[];""!=a&&(c=b?f(a):f(a+":not(a *)"));""==a||0==c.length?".ultralink"==a||""==a?(a=n.getPageContentSelectors(),""!=a?n.doScan(a):Ba=""):""!=a&&
1E4>Mb&&(setTimeout(function(){n.doScan(a)},Mb),1E4>Mb&&(Mb+=1E3)):(Ba=a,c.each(function(){for(var b=!1,c=K.length;c--;)if(K[c]==this){b=!0;break}if(!b&&(this.selector=a,wd(this),void 0!=ha))return!1}),void 0!=ha?Hb():pa||zd())};var fa=void 0;n.createInlinePopup=function(a,b,c,d){void 0!=d&&(void 0!=D&&d!=D&&n.removeOldPopup(),D=d);if(-1!=f.inArray(a,n.supportedInlineTypes)||"href"==a||a==l.customExperience){var e=function(a,b){return void 0==D||void 0==D.inlinePaper||"undefined"==typeof a||"undefined"==
typeof b||D.inlinePaper.linkType!=a&&D.inlinePaper.linkType!=l.customExperience+a||D.inlinePaper.URL!=b?!1:!0};if(void 0!=D&&"undefined"!=typeof a&&"undefined"!=typeof b){var k=D;na();var h,g,z,u,s;void 0!=k.paper?(h=parseFloat(c.style.left),g=parseFloat(c.style.top),z=parseFloat(c.image.style.width),u=parseFloat(c.image.style.height),s=k.paper.myRrect.getBBox()):(d=$a(k),h=d[0],g=d[1],z=parseFloat(c.image.style.width),u=parseFloat(c.image.style.height),s={width:z,height:u},k.popupX=d[0],k.popupY=
d[1]);var m;d=Hc(a);var r=function(){m=new Raphael(k.popupX+W+C-da-G+Ic-x-2,g+u/2-37.5-x,da+G+2*x,75+2*x);m.buttonY=g+u/2;m.back=m.path(Zb(x,x,da,75,hb,G,$,0));m.outline=m.path(Zb(x,x,da,75,hb,G,$,0));m.spinner=m.image(l.imagesURL+"inlineLoading.gif",x+20,x+20,da-40,35)},q=function(){m=new Raphael(k.popupX+W+C+s.width-Ic-G-2,g+u/2-37.5-x,da+G+2*x,75+2*x);m.buttonY=g+u/2;m.back=m.path($b(x+G,x,da,75,hb,G,$,0));m.outline=m.path($b(x+G,x,da,75,hb,G,$,0));m.spinner=m.image(l.imagesURL+"inlineLoading.gif",
x+20+G,x+20,da-40,35)},t=function(){m=new Raphael(h+z/2-da/2-x,g+u,da+2*x,75+G+2*x);m.back=m.path(mb(x,x+G,da,75,hb,$,G,0));m.outline=m.path(mb(x,x+G,da,75,hb,$,G,0));m.spinner=m.image(l.imagesURL+"inlineLoading.gif",x+20,x+20+G,da-40,35)},v=h+z/2,E=v-z/2,p=v+z/2;if(ja)t();else switch(k.forceInlineDirection){case "right":r();break;case "left":q();break;case "middle":t();break;default:k.popupX+s.width/2>document.body.offsetWidth/2?0>k.popupX-d?t():r():k.popupX+s.width+d>document.body.offsetWidth?t():
q()}k.inlinePaper=m;m.buttonXMiddle=v;m.buttonXLeft=E;m.buttonXRight=p;m.ULAnchor=c;m.linkType=a;m.URL=b;m.back.attr("stroke-width",0);m.back.attr("stroke-opacity",0);m.outline.attr("stroke-width",x);m.outline.attr("stroke-opacity",1);"ultralinkme"==a||"searchul"==a||a==l.customExperience?(m.back.attr({stroke:"#aab",fill:"60-#e2e2e2:0-#fafafa"}),m.back.attr("opacity","0.95"),m.outline.node.style.stroke="#aab"):(m.back.attr({stroke:"#ddd",fill:"black"}),m.back.attr("opacity",wc),m.outline.node.style.stroke=
"#ddd");m.back.node.parentNode.setAttribute("class","ultralinkSVG");m.back.node.parentNode.style.zIndex=l.zIndexMax-1;m.back.node.style.fill=m.back.node.getAttribute("fill");c=mc[a+b];var y=m.ULAnchor,F=y.UMUrl;if(c)ea(c,a,b,void 0,mc[a+b+"full"]);else{var A=a;c=function(c){void 0==c&&(c="&ulVersion="+Ib);var d=Ca;sa&&(d=aa);var e="";k[A+"_insightInfo"]&&(e="&insightInfo="+encodeURIComponent(JSON.stringify(k[A+"_insightInfo"])));c=-1==f.inArray(A,l.authenticatedTypes)?c+"&notAuthenticated=true":c+
"&notAuthenticated=false";ea(d+"inlineViews/"+A+"View.html?masterDomain="+encodeURIComponent(oa)+"&environment="+l.environment+"&urlType="+encodeURIComponent(a)+"&URL="+encodeURIComponent(b)+e+c,A,b,!1)};"mediawiki"==a?A="wikipedia":-1!=a.indexOf("annotation")?A="annotation":-1!=a.indexOf("pdf")&&(A="pdf");switch(A){case "twitter":case "linkedin":case "facebook":case "googleplus":case "crunchbase":case "intelark":case "searchgoogle":case "searchbing":case "buyamazon":case "xmpp":case "comicvine":case "wikipedia":case "mediawiki":case "webmd":case "annotation":case "angellist":c();
break;case "pdf":"https://"==le&&"https://"!=b.substring(0,8)?ea(aa+"extension/pdfProxy?URL="+encodeURIComponent(b),A,b):ea(b,A,b);break;case "videoyoutube":b.match(/.*youtube.com/)?b.match(/.*youtube.com\/embed\//)?ea(b,a,b):b.match(/.*youtube.com\/watch/)?(d=/.*youtube\.com\/watch\?.*v=(.+?)($|&)/.exec(b),ea("https://www.youtube.com/embed/"+d[1],a,b)):(c=(b.match(/.*youtube.com\/user/)?/.*youtube\.com\/user\/(.+?)($|&|\/)/.exec(b):/.*youtube\.com\/(.+?)($|&|\/)/.exec(b))[1])?(d="json",wb&&(d="jsonp"),
f.ajax({type:"GET",dataType:d,url:"https://gdata.youtube.com/feeds/api/users/"+c+"/uploads?max-results=1&alt=json",success:function(c){c=/.*youtube\.com\/watch\?.*v=(.+?)($|&)/.exec(c.feed.entry[0].link[0].href);ea("https://www.youtube.com/embed/"+c[1],a,b)},error:function(c){e(a,b)&&na()}})):na():na();break;case "videovimeo":b.match(/.*vimeo.com/)?b.match(/.*player.vimeo.com\/video\//)?ea(b,a,b):b.match(/.*vimeo.com\/[0-9]+/)&&(d=/.*vimeo\.com\/([0-9]+)/.exec(b),ea("https://player.vimeo.com/video/"+
d[1],a,b)):na();break;case "mapgoogle":b.match(/.*maps.google.com/)?(d=/.*maps\.google\.com(.*)/.exec(b),ea("https://maps.google.com"+d[1]+"&output=embed",a,b)):b.match(/.*www.google.com\/maps\/place\//)?(d=/.*www\.google\.com\/maps\/place\/(.*)\/@/.exec(b),ea("https://www.google.com/maps/embed/v1/place?key=AIzaSyDrkpmaS8Ka5nRrMJZNqE3YA10hMJqBX5I&q="+d[1],a,b)):na();break;case "ultralinkme":case l.customExperience:d=b.match(RegExp(".*"+oa.replace(/\./g,"\\.")+".*\\/link\\/((.*)\\/)?(.+?)($|\\?)"));
c=d[2];d=d[3];"ultralinkme"==A?(r=aa+"extension/descriptionView.html?ID="+encodeURIComponent(d)+"&hitWord="+encodeURIComponent(k.textContent)+"&pageTitle="+encodeURIComponent(document.title)+"&pageURL="+encodeURIComponent(ga),!c&&l.database&&(r+="&hostedDatabase="+encodeURIComponent(l.database))):(r=aa+"custom/"+c+"/descriptionView.html?ID="+encodeURIComponent(d)+"&hitWord="+encodeURIComponent(k.textContent)+"&pageTitle="+encodeURIComponent(document.title)+"&pageURL="+encodeURIComponent(ga),l.association&&
(r+="&association="+encodeURIComponent(l.association)));k.multipleUltralinks&&(q=n.getDataUl(k),r+="&dominantUltralink="+encodeURIComponent(q.ID));c&&(r+="&database="+encodeURIComponent(c));0>d&&(r+="&word="+encodeURIComponent(k.textContent),""!=l.database&&(r+="&database="+encodeURIComponent(l.database)));ea(r,a,b);break;case "href":q=n.getDataUl(k);ea(q.URLS.href,a,b);break;case "videovlc":ea(b,a,b);break;case "uhctv":"extension"!=l.environment&&"true"!=l.extensionAssist||"IE"==l.extension?f.ajax({type:"GET",
dataType:"text",url:aa+"extension/generalProxy?URL="+encodeURIComponent(b),success:function(c){ea(c,a,b)},error:function(c){e(a,b)&&na()}}):n.sendExtensionMessage("uhctvQuery",{URL:b});break;default:ea(b,a,b)}}c=10;pa?c=1E3:ka&&(c=500);setTimeout(function(){void 0!=y&&(y.href=Sc(F,a),y.UMActionType="blueShadow",y.setAttribute("title",n.linkTooltip(a,"blue")),y.outline.className="ultralinkLinkImageBackNoPreview")},c)}}};n.setOptions=function(a){for(var b in a){if("routingTable"==b)for(var c in a.routingTable)l.routingTable[c]=
a.routingTable[c];else l[b]=a[b];"basePath"==b&&(Ca=l.basePath);"associationType"==b&&(yc=l.associationType);"association"==b&&(zb=l.association);"zIndexMax"==b&&2147483647!=l.zIndexMax&&Ed();if("hardcodedSites"==b){for(var d=0;d<l.hardcodedSites.length;d++){for(var e=!1,k=0;k<Y.length;k++)if(Y[k].siteRegex==l.hardcodedSites[d].siteRegex&&Y[k].overrideWebsite==l.hardcodedSites[d].overrideWebsite){Y[k].selector=l.hardcodedSites[d].selector;e=!0;break}!1==e&&Y.push(l.hardcodedSites[d])}n.sendExtensionMessage("updateHardcodedSites",
Y)}if("authenticatedTypes"==b)for(n.supportedInlineTypes="wikipedia mediawiki angellist annotation videoyoutube videovimeo mapgoogle ultralinkme searchpubmed searchul comicvine".split(" "),(ob||sa||cc&&!Fd)&&n.supportedInlineTypes.push("pdf"),navigator&&navigator.plugins["VLC Web Plugin"]&&n.supportedInlineTypes.push("videovlc"),l.authenticatedTypes||(l.authenticatedTypes=[]),d=0;d<l.authenticatedTypes.length;d++)for(ic in n.supportedInlineTypes.push(l.authenticatedTypes[d]),ma)e=ma[ic],e.linkType==
l.authenticatedTypes[d]&&"yes"!=e.kickedOff&&Cb(e)}if(l.customInlineTypes)for(a=0;a<l.customInlineTypes.length;a++)b=l.customInlineTypes[a],-1==f.inArray(b,n.supportedInlineTypes)&&n.supportedInlineTypes.push(b);if(l.customLinkCategories)for(a=0;a<l.customLinkCategories.length;a++){b=!1;for(c=0;c<O.length;c++)if(O[c].category==l.customLinkCategories[a].category){b=!0;break}b||O.push(l.customLinkCategories[a])}"true"==l.crawlerMode&&(pa=Ia=!1);sd&&"true"==l.cleanMode&&(l.replaceHyperlinks="true");
"false"==l.failsafe&&tc();"true"==l.forceReload&&(n.closeUltralinkPopup(),l.forceReload="false")};var gd,cb;n.startUltralink=function(a){if(a){if(a.basePath&&(Ca=a.basePath),a.masterPath){var b=oa;aa=a.masterPath;oa=aa.split("://").pop().split("/")[0];a.imagesURL||(l.imagesURL=aa+"ultralinkImages/");a.routingTable||b==oa||(l.routingTable[oa]=[{range:4294967295,"interface":aa+"API/current/"}],delete l.routingTable[b]);Bb=aa+"API/current/";Aa=Bb+"analytics/";a.basePath||(Ca=aa)}}else a="";n.loaded&&
(b=!1,"undefined"!=typeof jQuery&&"undefined"!=typeof Raphael?(jQuery.isVersion=Ob,jQuery.isVersion("1.7",">")||(f=jQuery),void 0!=f?b=!0:Qb=a):Qb=a,b?Pc(a):("undefined"==typeof jQuery?kb(Ca+"ultralinkLibraries/jquery+patch-min.js",oc):(jQuery.isVersion=Ob,jQuery.isVersion("1.7",">")&&(Pb=jQuery,kb(Ca+"ultralinkLibraries/jquery+patch-min.js",oc))),"undefined"==typeof Raphael&&kb(Ca+"ultralinkLibraries/raphael+patch-min.js",oc)))};"undefined"!=typeof jQuery&&(jQuery.isVersion=Ob,jQuery.isVersion("1.7",
">")||(f=jQuery,Dd()));n.loaded=!0;var Wa=document.getElementsByTagName("head")[0];if(Wa)for(var ia=0;ia<Wa.children.length;ia++)"ultralinkloaded"==Wa.children[ia].tagName.toLowerCase()&&(n.loaded=!1);else n.loaded=!1;var jb,E,z;if(n.loaded){var Nc=document.createElement("ultralinkloaded");Nc.setAttribute("data-version",Ib);Nc.setAttribute("data-versionString","1.0.2");Wa.appendChild(Nc);var sb=0.25,tb=0.4;ka&&(sb*=2,tb*=1.75);var Nb=document.createElement("style");Nb.id="ultralinkCSS";Nb.type="text/css";
var nc=6;if(sa||ka)nc=4;var ib="@font-face { font-family: 'Open Sans'; font-style: normal; font-weight: 700; src: local('Open Sans Bold'),    local('OpenSans-Bold'),    url("+l.imagesURL+"OpenSans700.ttf) format('truetype'); src: local('Open Sans Bold'),    local('OpenSans-Bold'),    url("+l.imagesURL+"OpenSans700.eot) format('embedded-opentype'); src: local('Open Sans Bold'),    local('OpenSans-Bold'),    url("+l.imagesURL+"OpenSans700.woff) format('woff'); }",ib=ib+("@font-face { font-family: 'Open Sans'; font-style: normal; font-weight: 400; src: local('Open Sans Regular'), local('OpenSans-Regular'), url("+
l.imagesURL+"OpenSans400.ttf) format('truetype'); src: local('Open Sans Regular'), local('OpenSans-Regular'), url("+l.imagesURL+"OpenSans400.eot) format('embedded-opentype'); src: local('Open Sans Regular'), local('OpenSans-Regular'), url("+l.imagesURL+"OpenSans400.woff) format('woff'); }"),M="",M=M+ib,M=M+"uword { white-space: nowrap; -webkit-hyphens: none; -moz-hyphens: none; cursor: pointer; } ",M=M+("span.ultralinkLink, div.ultralinkLinkImageBackPreview, div.ultralinkLinkImageBackInsightPreview, div.ultralinkLinkImageBackNoPreview, a.ultralinkLinkImageLink, a.ultralinkLinkImageLink:hover, img.ultralinkLinkImage { float: none; margin: 0; padding: 0; border: 0; outline: 0; vertical-align: baseline; transition-delay: 0s; transition-duration: 0s; position: absolute; z-index: "+
(l.zIndexMax-2)+"; } "),M=M+"span.ultralinkLink { background:transparent; color: #fafafa; text-decoration: none; cursor: default; font-family: Open Sans, Arial; font-weight: bold; font-style: normal; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;",M=Ya(10)?M+"color: #333;} ":M+("text-shadow: "+("rgba(0,0,0,0.4) 0 1px 12px, rgba(0,0,0,"+tb+") -1px  0px 1px,rgba(0,0,0,"+tb+") -1px  2px 1px,rgba(0,0,0,"+
tb+")  1px  2px 1px,rgba(0,0,0,"+tb+")  1px  0px 1px,rgba(0,0,255,"+sb+") -1px -1px 1px,rgba(0,0,255,"+sb+") -1px  1px 1px,rgba(0,0,255,"+sb+")  1px  1px 1px,rgba(0,0,255,"+sb+")  1px -1px 1px")+";} "),M=M+("div.ultralinkLinkImageBackPreview { background: rgba(30,30,30,0.5); box-shadow: 0 0 "+nc+"px rgb(30,30,30); } "),M=M+("div.ultralinkLinkImageBackInsightPreview { background: rgba(180,0,0,0.5); box-shadow: 0 0 "+nc+"px rgb(30,30,30); } "),M=M+("div.ultralinkLinkImageBackNoPreview { background: rgba(0,0,192,0.5); box-shadow: 0 0 "+
nc+"px rgb(0,0,192); } "),M=M+"a.ultralinkLinkImageLink, a.ultralinkLinkImageLink:hover { background:transparent; cursor: pointer; line-height: 0px; } ",M=M+"img.ultralinkLinkImage, img.ultralinkLinkImage:hover { background:transparent; cursor: pointer; max-width: auto; position: relative; } ",M=M+"div#ultralinkInlineContent { position:absolute; z-index:-2147483647; border:none; padding:0px; transition-delay:0s; transition-duration:0s; } ",M=M+"svg.ultralinkSVG { transition-delay:0s; transition-duration:0s; -webkit-font-smoothing: subpixel-antialiased; } ";
Nb.textContent=M;Wa.appendChild(Nb);Ed();var me=0,Oc=function(){setTimeout(function(){"undefined"!=typeof f?(0==f("#ultralinkCSS").length&&Wa.appendChild(Nb),30>me++&&Oc()):Oc()},1E3)};Oc();var Xa=document.createElement("div");Xa.id="ultralinkFontLoader";Xa.textContent=".";Xa.style&&(Xa.style.position="absolute",Xa.style.top="-1000px",Xa.style.left="-1000px",Xa.style["font-family"]="Open Sans");var Qa=document.createElement("div");Qa.id="ultralinkFontLoader2";Qa.textContent=".";Qa.style&&(Qa.style.position=
"absolute",Qa.style.top="-1000px",Qa.style.left="-1000px",Qa.style["font-family"]="Open Sans",Qa.style["font-weight"]="bold");var Id=function(){document.body.appendChild(Xa);document.body.appendChild(Qa);setTimeout(function(){var a=document.getElementById("ultralinkFontLoader");a&&document.body.removeChild(a);(a=document.getElementById("ultralinkFontLoader2"))&&document.body.removeChild(a)},100)},Jd=function(){E=document.createElement("div");E.id="ultralinkInlineContent";E.style.top="-1000px";E.style.left=
"-1000px";E.style.width="100px";E.style.height="100px";Tc();E.appendChild(z);document.body.appendChild(E)};if(document.body)Id(),Jd();else var Kd=0,Ld=setInterval(function(){document.body&&(Id(),Jd(),clearInterval(Ld));Kd++;100<Kd&&clearInterval(Ld)},100)}else E=document.getElementById("ultralinkInlineContent"),z=document.getElementById("ULinlineIframe");"undefined"==typeof window.Ultralink&&(window.Ultralink=n);return n}})();
