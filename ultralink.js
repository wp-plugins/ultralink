(function(){function db(a,b,c){if(a){var d=/pre/i,e=/[^\d]+/g;b=b||"==";c=c||jQuery().jquery;var h=a.replace(e,""),e=c.replace(e,""),l=h.length,x=e.length;a=d.test(a);c=d.test(c);h=x>l?parseInt(h)*10*(x-l):parseInt(h);e=l>x?parseInt(e)*10*(l-x):parseInt(e);switch(b){case "==":return!0==(h==e&&a==c);case ">=":return!0==(h>=e&&(!a||a==c));case "<=":return!0==(h<=e&&(!c||c==a));case ">":return!0==(h>e||h==e&&c);case "<":return!0==(h<e||h==e&&a)}}return!1}function xb(a){"undefined"!=typeof jQuery&&(jQuery.isVersion=
db,jQuery.isVersion("1.7",">")||(f=jQuery,void 0!=eb&&(jQuery.noConflict(),window.jQuery=eb,eb=void 0)));"undefined"!=typeof f&&("undefined"!=typeof Raphael&&void 0!=fb)&&$b(fb)}function ac(a,b){a==wa+"ultralinkLibraries/jquery+patch-min.js"?Ua(Aa+"ultralink.me/ultralinkLibraries/jquery+patch-min.js",b):a==wa+"ultralinkLibraries/raphael+patch-min.js"&&Ua(Aa+"ultralink.me/ultralinkLibraries/raphael+patch-min.js",b)}function Ua(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");
d.type="text/javascript";d.async=!0;d.src=a;d.onreadystatechange=function(){"loaded"==d.readyState||"complete"==d.readyState?b&&b(a):"uninitialized"==d.readyState&&ac(a,b)};d.onload=function(){b&&b(a)};d.onerror=function(){ac(a,b)};c.appendChild(d)}function yb(){gb=0.25;E=P=3;Ba=12;T=ha=4.5;J=aa=5.5;Va=4;Wa=1;hb=0.8;ib=2.5;jb=8;Ca=7;R=kb=45;ia=25;L=5;ba=8}function Lc(a){gb*=a;P*=a;E*=a;Ba*=a;ha*=a;T*=a;aa*=a;J*=a;Va*=a;Wa*=a;hb*=a;ib*=a;jb*=a;Ca*=a;kb*=a;ia*=a;L*=a;ba*=a}function Mc(a){for(var b=
(new Date).getTime();(new Date).getTime()<b+a;);}function zb(a){var b=a.match(/:\/\/(www[0-9]?.)?(.[^/:]+)/);return null!=b&&2<=b.length?b[2]:a}function Nc(a){var b=a.match(/:\/\/(.[^/:]+)/);return null!=b&&2<=b.length?b[1]:a}function Oc(a){var b=a.match(/(.*):\/\/(.[^/:]+)/);return null!=b&&2<=b.length?b[1]+"://"+b[2]:a}function Ab(){var a=-1;"Microsoft Internet Explorer"==window.navigator.appName&&null!=Pc.exec(window.navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}function bc(a){!0==Bb?
y.setOptions(a):setTimeout(function(){bc(a)},2E3)}function lb(a,b){var c,d=(new Date).getTime(),e="style-"+b;if(void 0==a[e]||5E3<d-a[e+"_ts"]){if(c=(c=document.defaultView)&&c.getComputedStyle?c.getComputedStyle(a,"")[b]:a.currentStyle?a.currentStyle[b]:a.style[b],"fontSize"==b||"color"==b)a[e]=c,a[e+"_ts"]=d}else c=a[e];return c}function Cb(){var a=f("body")[0];if(void 0!=a){var b=lb(a,"position");null!=b&&"relative"==b&&a.style.setProperty("position","static")}}function cc(a){var b=128;ma?b=64:
(dc?a*=document.width/f(document).width()*window.devicePixelRatio:na&&(a*=screen.deviceXDPI/screen.logicalXDPI),16>=a?b=16:32>=a?b=32:64>=a&&(b=64));return b}function Da(a,b,c){a[b]=c;a.attributes[b]&&(a.attributes[b].value=oa.stringify(c))}function da(a,b){if(a[b])return a[b];var c=a.attributes[b];if(c)return c=oa.parse(c.value),Da(a,b,c),a.removeAttribute(b),c}function ec(a){if(a.getBoundingClientRect){a=a.getBoundingClientRect();var b=document.body,c=document.documentElement,d=a.top+(window.pageYOffset||
c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0),b=a.left+(window.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0);return[Math.round(b),Math.round(d)]}for(b=d=0;a;)d+=parseInt(a.offsetTop,10),b+=parseInt(a.offsetLeft,10),a=a.offsetParent;return[b,d]}function Db(a){if(void 0==a.umoffset){var b=f(a);a.umoffset=b.offset();a.umoffset.width=b.width();a.umoffset.height=b.height()}return a.umoffset}function X(a){var b=f(window);a=Db(a);var c=b.scrollTop();return a.top+a.height<
c||a.top>c+b.height()?!1:!0}function Eb(a,b){var c="source scheme authority userInfo user pass host port relative path directory file query fragment".split(" "),d=this.php_js&&this.php_js.ini||{},e=d["phpjs.parse_url.mode"]&&d["phpjs.parse_url.mode"].local_value||"php";parser={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};for(var h=parser[e].exec(a),l={},x=14;x--;)h[x]&&(l[c[x]]=h[x]);if(b)return l[b.replace("PHP_URL_","").toLowerCase()];if("php"!==e){var f=d["phpjs.parse_url.queryKey"]&&d["phpjs.parse_url.queryKey"].local_value||"queryKey";parser=/(?:^|&)([^&=]*)=?([^&]*)/g;l[f]={};l[c[12]].replace(parser,function(a,
b,c){b&&(l[f][b]=c)})}delete l.source;return l}function Fb(a,b){var c=String(a).replace(/^&/,"").replace(/&$/,"").split("&"),d=c.length,e,h,l,x,f,g,F,k,v;b||(b=this.window);for(e=0;e<d;e++){h=c[e].split("=");l=decodeURIComponent(h[0].replace(/\+/g,"%20"));for(F=2>h.length?"":decodeURIComponent(h[1].replace(/\+/g,"%20"));" "===l.charAt(0);)l=l.slice(1);-1<l.indexOf("\x00")&&(l=l.slice(0,l.indexOf("\x00")));if(l&&"["!==l.charAt(0)){k=[];for(h=g=0;h<l.length;h++)if("["===l.charAt(h)&&!g)g=h+1;else if("]"===
l.charAt(h)&&g&&(k.length||k.push(l.slice(0,g-1)),k.push(l.substr(g,h-g)),g=0,"["!==l.charAt(h+1)))break;k.length||(k=[l]);for(h=0;h<k[0].length;h++){g=k[0].charAt(h);if(" "===g||"."===g||"["===g)k[0]=k[0].substr(0,h)+"_"+k[0].substr(h+1);if("["===g)break}g=b;h=0;for(v=k.length;h<v;h++)if(l=k[h].replace(/^['"]/,"").replace(/['"]$/,""),f=g,""!==l&&" "!==l||0===h)void 0===g[l]&&(g[l]={}),g=g[l];else{l=-1;for(x in g)g.hasOwnProperty(x)&&+x>l&&x.match(/^\d+$/g)&&(l=+x);l+=1}f[l]=F}}}function Qc(a,b){var c=
k[b+"_affiliateInfo"];if(c&&""!=c){var d={};Fb(Eb(a,"PHP_URL_QUERY"),d);switch(b){case "buyamazon":return d.tag?a.replace(d.tag,c):a+"&tag="+c;case "buylinkshareapple":return d.id?a.replace(d.id,c):a+"&id="+c;case "buyebay":return d.campid?a.replace(d.campid,c):a+"&campid="+c}}return a}function Ea(a,b,c,d,e){return"M "+(a+c)+","+(b+e)+"L "+(a+c)+","+(b+d-e)+"Q "+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+"L "+(a+e)+","+(b+d)+"Q "+a+","+(b+d)+","+a+","+(b+d-e)+"L "+a+","+(b+e)+"Q "+a+","+b+","+(a+e)+","+
b+"L "+(a+c-e)+","+b+"Q "+(a+c)+","+b+","+(a+c)+","+(b+e)+"z"}function Gb(a,b,c,d,e){return"M "+(a+c)+","+(b+e)+"Q "+(a+c)+","+b+","+(a+c-e)+","+b+"L "+(a+e)+","+b+"Q "+a+","+b+","+a+","+(b+e)+"L "+a+","+(b+d-e)+"Q "+a+","+(b+d)+","+(a+e)+","+(b+d)+"L "+(a+c-e)+","+(b+d)+"Q "+(a+c)+","+(b+d)+","+(a+c)+","+(b+d-e)+"L "+(a+c)+","+(b+e)+"z"}function mb(a,b,c,d,e,h,l,f){return"M"+(a+c)+","+(b+e)+" L"+(a+c)+","+(b+d/2-l/2+f)+" L"+(a+c+h)+","+(b+d/2+f)+" L"+(a+c)+","+(b+d/2+l/2+f)+" L"+(a+c)+","+(b+d-e)+
" Q"+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+" L"+(a+e)+","+(b+d)+" Q"+a+","+(b+d)+","+a+","+(b+d-e)+" L"+a+","+(b+e)+" Q"+a+","+b+","+(a+e)+","+b+" L"+(a+c-e)+","+b+" Q"+(a+c)+","+b+","+(a+c)+","+(b+e)+" z"}function nb(a,b,c,d,e,h,l,f){return"M"+(a+c)+","+(b+e)+" L"+(a+c)+","+(b+d-e)+" Q"+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+" L"+(a+e)+","+(b+d)+" Q"+a+","+(b+d)+","+a+","+(b+d-e)+" L"+a+","+(b+d/2+l/2+f)+" L"+(a-h)+","+(b+d/2+f)+" L"+a+","+(b+d/2-l/2+f)+" L"+a+","+(b+e)+" Q"+a+","+b+","+(a+e)+","+
b+" L"+(a+c-e)+","+b+" Q"+(a+c)+","+b+","+(a+c)+","+(b+e)+"z"}function ob(a,b,c,d,e,h,l,f){return"M"+(a+c)+","+(b+e)+" L"+(a+c)+","+(b+d-e)+" Q"+(a+c)+","+(b+d)+","+(a+c-e)+","+(b+d)+" L"+(a+e)+","+(b+d)+" Q"+a+","+(b+d)+","+a+","+(b+d-e)+" L"+a+","+(b+e)+" Q"+a+","+b+","+(a+e)+","+b+" L"+(a+c/2-h/2+f)+","+b+" L"+(a+c/2+f)+","+(b-l)+" L"+(a+c/2+h/2+f)+","+b+" L L"+(a+c-e)+","+b+" Q"+(a+c)+","+b+","+(a+c)+","+(b+e)+" z"}function fc(a,b,c,d,e,h,l){a.href=b;"true"==k.newWindows&&(a.target="_blank");
a.UMType=c;a.UMUrl=b;a.UMCategory=d;a.UMWord=e;a.UMID=l;void 0!=h&&(a.UMDatabase=h)}function Ka(){if(void 0!=m){var a=m;if(void 0!=a.paper){var b=a.paper;gc();b.myRrect.stop();var c;for(c=0;c<b.ULButtons.length;c++)b.ULButtons[c].stop(),f.cleanData([b.ULButtons[c].node.parentNode]);for(c=0;c<b.ULLabels.length;c++)f.cleanData([b.ULLabels[c]]),document.body.removeChild(b.ULLabels[c]);for(c=0;c<b.ULImages.length;c++)f.cleanData([b.ULImages[c]]),document.body.removeChild(b.ULImages[c]);for(c=0;c<b.ULImageBacks.length;c++)f.cleanData([b.ULImageBacks[c]]),
document.body.removeChild(b.ULImageBacks[c]);b.umLink&&(f.cleanData([b.umLink.outline]),document.body.removeChild(b.umLink.outline),f.cleanData([b.umLink]),document.body.removeChild(b.umLink));b.ULthumbnail&&(b.ULthumbnail.stop(),f.cleanData([b.ULthumbnail.node.parentNode]));U();b.remove();delete a.paper;delete a.autoPopup;m=void 0;La=!1;ta=0;sa=[];void 0!=pa&&(clearInterval(pa),pa=void 0);Xa=!0}if(void 0!=a.baseMatches&&void 0!=a.baseParents){for(b=0;b<a.baseMatches.length;b++)a.baseMatches[b].setAttribute("href",
a.baseHrefs[b]),a.baseParents[b].appendChild(a.baseMatches[b]);delete a.baseMatches;delete a.baseParents;delete a.baseHrefs}}}function U(){if(void 0!=m){var a=m;if(void 0!=a.inlinePaper){var b=a.inlinePaper;"ultralinkme"==b.linkType&&gc();void 0!=b.inlineDiv&&(f("iframe",b.inlineDiv).each(function(){this.setAttribute("src","about:blank")}),f("iframe",b.inlineDiv).remove(),f(b.inlineDiv).remove());b.remove();delete a.inlinePaper;!0==a.expanded&&delete a.expanded}void 0!=a.paper&&a.paper.imageIndicatorCircle&&
(a.paper.imageIndicatorCircle.remove(),delete a.paper.imageIndicatorCircle)}}function Hb(a){a=a.inlinePaper;void 0!=a&&void 0!=a.ULAnchor&&!0==a.ULAnchor.outline.previewAvailable&&(a.ULAnchor.setAttribute("href",""),a.ULAnchor.removeAttribute("href"),a.ULAnchor.UMActionType="blackShadow",a.ULAnchor.outline.className="ultralinkLinkImageBackPreview")}function hc(a){if(void 0!=a&&void 0!=m){var b=m,c=b.inlinePaper;if(void 0==c||c.ULAnchor!=a)Hb(b),pb(a.linkType,a.URL,a)}}function qb(a){a.style.textShadow=
"none";na&&10>Ab()&&(a=a.ieSpan,a.style.setProperty("filter",""),a.style.setProperty("display","none"))}function Ma(a,b){var c=da(a,"data-ul"),d="hit";c&&c.status&&(d=c.status);var e=0;c&&c.needsReview&&(e=c.needsReview);if("hit"==d||"true"==k.editorStyle){c=7;if(ga||qa)c=5;var h=lb(a,"fontSize"),h=parseFloat(h);h<Ya&&(h=Ya);var h=h/16,l="51, 51, 255";"hit"!=d?l="255, 51, 51":0!=e&&"true"==k.editorStyle?l="0, 255, 0":(d=lb(a,"color"),d=Raphael.color(d),150<=(299*d.r+587*d.g+114*d.b)/1E3&&(l="255, 255, 255"));
a.style.textShadow="0px "+1*h+"px "+c*h+"px rgba("+l+", "+b+")";na&&10>Ab()&&(c=a.ieSpan,0.99<b&&(b=1),c.style.setProperty("filter","progid:DXImageTransform.Microsoft.Blur(makeshadow='true', ShadowOpacity="+b+", pixelradius="+10*b+")"),c.style.setProperty("display","inline-block"),c.style.setProperty("margin-top",-10*b+"px"),c.style.setProperty("margin-left",-10*b+"px"),a.style.setProperty("display","inline-block"))}}function ic(a,b){var c="";dc&&(c="-webkit-");a.style.setProperty(c+"transition",
"");Ma(a,b);setTimeout(function(){a.style.setProperty(c+"transition","text-shadow 0.75s ease-in");Ma(a,0);ma||setTimeout(function(){a.style.setProperty(c+"transition","")},1000.75)},1E3)}function Ib(){f("uword").each(function(){var a=da(this,"data-ul");a&&a.callout&&"normal"==a.callout||qb(this)})}function Rc(){for(var a=0;a<H.length;a++)X(H[a])&&f("uword",H[a]).each(function(){var a=da(this,"data-ul");a&&a.callout&&"normal"==a.callout||Ma(this,1)})}function jc(a,b){void 0!=m&&m==a&&setTimeout(function(){if("undefined"!=
typeof a&&void 0!=a.paper){var c=ec(a),d=c[0]-a.trueOffsetLeft,e=c[1]-a.trueOffsetTop;if(!(0!=c[0]&&0!=c[1]||0==d&&0==e))Ka(),xa=!1;else if(d||e){var c=a.paper,h=a.inlinePaper;c.canvas.style.setProperty("left",parseFloat(c.canvas.style.left)+d+"px");c.canvas.style.setProperty("top",parseFloat(c.canvas.style.top)+e+"px");void 0!=h&&(h.canvas.style.setProperty("left",parseFloat(h.canvas.style.left)+d+"px"),h.canvas.style.setProperty("top",parseFloat(h.canvas.style.top)+e+"px"),void 0!=h.inlineDiv&&
(h.inlineDiv.style.setProperty("left",parseFloat(h.inlineDiv.style.left)+d+"px"),h.inlineDiv.style.setProperty("top",parseFloat(h.inlineDiv.style.top)+e+"px")));for(r=0;r<c.ULLabels.length;r++)c.ULLabels[r].style.setProperty("left",parseFloat(c.ULLabels[r].style.left)+d+"px"),c.ULLabels[r].style.setProperty("top",parseFloat(c.ULLabels[r].style.top)+e+"px");for(r=0;r<c.ULImages.length;r++)c.ULImages[r].style.setProperty("left",parseFloat(c.ULImages[r].style.left)+d+"px"),c.ULImages[r].style.setProperty("top",
parseFloat(c.ULImages[r].style.top)+e+"px");for(r=0;r<c.ULImages.length;r++)c.ULImageBacks[r].style.setProperty("left",parseFloat(c.ULImageBacks[r].style.left)+d+"px"),c.ULImageBacks[r].style.setProperty("top",parseFloat(c.ULImageBacks[r].style.top)+e+"px");c.umLink&&(c.umLink.style.setProperty("left",parseFloat(c.umLink.style.left)+d+"px"),c.umLink.style.setProperty("top",parseFloat(c.umLink.style.top)+e+"px"),c.umLink.outline.style.setProperty("left",parseFloat(c.umLink.outline.style.left)+d+"px"),
c.umLink.outline.style.setProperty("top",parseFloat(c.umLink.outline.style.top)+e+"px"));a.trueOffsetLeft+=d;a.trueOffsetTop+=e;a.popupX=a.trueOffsetLeft-aa-ha-P;a.popupY=a.trueOffsetTop-J-T-E-a.thumbnailH}}jc(a,b+250)},b)}function rb(a,b){"undefined"==typeof b&&(b=0);void 0!=k.previewCallback&&k.previewCallback(a,b);if(ua==a&&"undefined"!=typeof a){Ib();ua=void 0;Ka();ta=0;sa=[];void 0!=pa&&(clearInterval(pa),pa=void 0);Xa=!0;m=a;0<k.hoverRecoverTime&&(xa=!0);a.baseMatches=document.querySelectorAll("base[href]");
a.baseParents=[];a.baseHrefs=[];for(var c=0;c<a.baseMatches.length;c++)a.baseHrefs[c]=a.baseMatches[c].getAttribute("href"),a.baseMatches[c].removeAttribute("href"),a.baseParents[c]=a.baseMatches[c].parentNode,a.baseParents[c].removeChild(a.baseMatches[c]);yb();var d="";0<b&&(d="_"+b);var e=da(a,"data-ul"+d);"true"!=k.addSearch||e.nosearch&&"true"==e.nosearch||("true"==k.seperateSearch?(void 0==e.URLS.searchgoogle&&(e.URLS.searchgoogle=[{URL:"http://www.google.com/search?q="+a.textContent}]),void 0==
e.URLS.searchyahoo&&(e.URLS.searchyahoo=[{URL:"http://search.yahoo.com/search?p="+a.textContent}]),void 0==e.URLS.searchbing&&(e.URLS.searchbing=[{URL:"http://www.bing.com/search?q="+a.textContent}])):(c=k.searchURL+a.textContent,void 0==e.URLS.searchgoogle&&(void 0==e.URLS.searchyahoo&&void 0==e.URLS.searchbing)&&(e.URLS.search=[{URL:c}])));var h=c=0,l=0,x=0,q=0,g=0,F=0,I=0,v=0,p={},t={},u={},K={},M={},w={},va={},y={},B=0,N=0,s;for(s in e.URLS){for(var r=e.URLS[s],S=void 0,H=0;H<k.userLanguageOrder.length;H++){for(var G=
k.userLanguageOrder[H],D=0;D<r.length;D++)if(G==r[D].language){for(var C=0;C<k.userCountryOrder.length;C++){for(var Y=k.userCountryOrder[C],ea=0;ea<r.length;ea++)if(G==r[ea].language&&Y==r[ea].country){S=r[ea];break}if(void 0!=S)break}if(void 0!=S)break;else for(C=0;C<r.length;C++)if(G==r[C].language&&void 0==r[C].country){S=r[ea];break}if(void 0!=S)break;S=r[D];break}if(void 0!=S)break}if(void 0==S)for(C=0;C<k.userCountryOrder.length;C++){Y=k.userCountryOrder[C];for(ea=0;ea<r.length;ea++)if(Y==r[ea].country){S=
r[ea];break}if(void 0!=S)break}if(void 0==S){for(D=0;D<r.length;D++)if(!r[D].language&&!r[D].country){S=r[D];break}void 0==S&&0<r.length&&(S=r[0])}if(void 0!=S&&window.location.href!=S.URL)switch(s){case "image":c++;break;case "href":case "href2":case "href3":p[s]=S.URL;h++;B++;break;case "appios":case "appmac":case "appwebos":case "appandroid":case "appwindows":t[s]=S.URL;l++;B++;break;case "buy":case "buylinkshareapple":case "buyamazon":case "buyebay":u[s]=Qc(S.URL,s);x++;B++;break;case "twitter":case "linkedin":case "googleplus":case "facebook":K[s]=
S.URL;q++;B++;break;case "wikipedia":case "mediawiki":case "imdb":case "github":case "freebase":case "angellist":case "manpage":case "map":case "mapgoogle":M[s]=S.URL;g++;B++;break;case "video":case "videoyoutube":w[s]=S.URL;F++;B++;break;case "annotation":va[s]=S.URL;I++;B++;break;case "search":case "searchgoogle":case "searchyahoo":case "searchbing":y[s]=S.URL,v++,B++}}"true"==k.combineLikeButtons&&(1<h&&(B-=h-1),1<l&&(B-=l-1),1<x&&(B-=x-1),1<q&&(B-=q-1),1<g&&(B-=g-1),1<F&&(B-=F-1),1<I&&(B-=I-1),
1<v&&(B-=v-1));h>N&&(N=h);l>N&&(N=l);x>N&&(N=x);q>N&&(N=q);g>N&&(N=g);F>N&&(N=F);I>N&&(N=I);v>N&&(N=v);ea=lb(a,"fontSize");A=parseFloat(ea);A<Ya&&(A=Ya,ea=Ya+"px");Lc(A/16);R=kb;ea=A+ba+ba;R+=ea;a.multipleUltralinks=!1;N=a.offsetWidth;da(a,"data-ul"+d)&&(N+=ea,da(a,"data-ul_1")&&(N+=A+ba,a.multipleUltralinks=!0));var fa=R;N+2*ha>fa&&(R=N+2*ha,fa=N+2*ha);var fa=fa+2*aa,O=J+a.offsetHeight+2*T+L+(ia+L)*B+12,fa=fa+4;a.thumbnailH=0;a.actualThumbnailH=0;0<c&&(a.thumbnailH=3+R+J+E/2);d=ec(a);a.trueOffsetLeft=
d[0];a.trueOffsetTop=d[1];a.popupX=a.trueOffsetLeft-aa-ha-P;a.popupY=a.trueOffsetTop-J-T-E-a.thumbnailH;a.paper||(a.paper=new Raphael(a.popupX-1,a.popupY,fa+2*P,O+E+a.thumbnailH+P));var n=a.paper,U=Ba;U>(a.offsetHeight+2*T)/2&&(U=(a.offsetHeight+2*T)/2);var $=(B-0.5)/(B+1);0==B&&($=0.1);n.myRrect=n.path(Ea(P,E+a.thumbnailH,fa,O,Ba)+Gb(aa+P+1,J+E+a.thumbnailH,a.offsetWidth+2*ha,a.offsetHeight+2*T,U));n.myRrect.attr("opacity",0.9);n.myRrect.attr("fill","90-"+Jb+":"+100*$+"-"+ya);n.myRrect.attr("stroke",
kc);n.myRrect.attr("stroke-opacity",Kb);n.myRrect.attr("stroke-width",gb);n.myRrect.node.style.stroke=kc;n.myRrect.node.style.fill=n.myRrect.node.getAttribute("fill");n.myRrect.node.parentNode.setAttribute("class","ultralinkSVG");n.myRrect.node.parentNode.style.zIndex="2147483645";n.ULButtons=[];n.ULLabels=[];n.ULImages=[];n.ULImageBacks=[];n.ULImageNumbers=[];var W=R,ja=aa+P+2,X=J+a.offsetHeight+2*T+E+a.thumbnailH+L+6,V=X+ia/2,Z=0,d=function(b,c,d){function K(b){function za(a,b){var c=0;if(Lb||ga)c=
-1;var e=f("<span>",{"class":"ultralinkLink"}).text(d).css({"font-size":A*Tc+"px",top:"-1000px",left:"-1000px"})[0];document.body.appendChild(e);f(e).css({top:b-e.offsetHeight/2+c+"px",left:a+"px"});return e}var u=n.rect(ja+1,X-4,R-2,1);if(0==Z)u.attr("opacity",0);else{var ca=238,t=221;1<Z&&(ca-=12*(Z/(B-2)),t-=12*(Z/(B-2)));u.attr("opacity",1);u.attr("fill","0-rgb("+t+","+t+","+t+")-#aaa:40-#aaa:60-rgb("+ca+","+ca+","+ca+")")}u.attr("stroke-opacity",0);Z++;u.bX=ja;u.bY=X;u.bW=R;u.bH=ia;for(var v in b)break;
ca=ba;t=n.ULImages.length;v=0;for(var Fa in b){var Na=Fa,lc=b[Na],m=0;if(Mb||qa)m=1;else if(Lb||ga)m=0.5;var w=f("<div>",{"class":"ultralinkLinkImageBackNoPreview"}).css({top:a.popupY+V-A/2-1+m+"px",left:a.popupX+ja+ca-1+"px",width:A+2+"px",height:A+2+"px","border-radius":0.17742*A+"px"})[0];document.body.appendChild(w);var m=f("<a>",{"class":"ultralinkLinkImageLink"}).css({top:a.popupY+V-A/2+m+"px",left:a.popupX+ja+ca+"px"})[0],s=f("<img>",{"class":"ultralinkLinkImage",src:k.imagesURL+Na.replace(RegExp("[0-9]$",
"g"),"")+"Link"+cc(A)+".png"}).css({width:A+"px",height:A+"px"})[0];m.appendChild(s);m.outline=w;m.image=s;m.linkType=Fa;m.URL=lc;m.nuButton=u;document.body.appendChild(m);fc(m,lc,Na,e.category,a.textContent,e.database,e.ID);if(-1!=f.inArray(m.linkType,sb)&&"true"==k.inlinePopups)if(m.UMActionType="blackShadow",w.previewAvailable=!0,m.setAttribute("href",""),m.removeAttribute("href"),a.autoPopup==m.linkType){var Uc=m.linkType,r=m.URL,Sc=m;setTimeout(function(){pb(Uc,r,Sc)},100)}else if("wikipedia"==
m.linkType){if((1==g||2==g&&void 0!=M.freebase)&&0==h&&0==l&&0==x&&0==q&&0==F&&0==I){var z=m.linkType,y=m.URL,va=m;setTimeout(function(){va.UMActionType="blueShadow";va.outline.className="ultralinkLinkImageBackNoPreview";pb(z,y,va)},100)}}else{if("annotation"==m.linkType&&(Na={},Fb(Eb(m.URL,"PHP_URL_QUERY"),Na),Na.auto)){var N=m.linkType,Vc=m.URL,C=m;setTimeout(function(){C.UMActionType="blueShadow";C.outline.className="ultralinkLinkImageBackNoPreview";pb(N,Vc,C)},100)}}else m.UMActionType="blueShadow",
w.previewAvailable=!1;mc(m);n.ULImages[t]=m;n.ULImageBacks[t]=w;t++;v++;ca+=A+ba}n.ULImageNumbers.push(v);"left"==k.iconSide?u.ulLabel=za(a.popupX+ja+ca-2,a.popupY+V):"right"==k.iconSide&&(u.ulLabel=za(a.popupX+ja+ba-2,a.popupY+V));b=u.ulLabel;n.ULLabels.push(b);p=2*ba+b.offsetWidth;p+=(A+ba)*c;p>W&&(W=p);X+=ia+L;V=X+ia/2;return u}var p=0;if(1<c&&"true"==k.combineLikeButtons)n.ULButtons.push(K(b));else for(s in b)if(s in nc){var za=b[s],u={};u[s]=za;d=nc[s];if("href"==s||"href2"==s||"href3"==s)d=
zb(za);if("annotation"==s){var ca={};Fb(Eb(za,"PHP_URL_QUERY"),ca);ca.label&&(d=ca.label)}n.ULButtons.push(K(u))}};if(B)var Q=n.path(Ea(ja,J+a.offsetHeight+2*T+E+a.thumbnailH+L+2,R,n.ULButtons.length*(ia+L)-L+8,Ca)),z=n.path(Ea(ja,J+a.offsetHeight+2*T+E+a.thumbnailH+L+2,R,n.ULButtons.length*(ia+L)-L+8,Ca));d(p,h,"Links");d(t,l,"App");d(u,x,"Buy");d(K,q,"Social");d(M,g,"Reference");d(w,F,"Video");d(va,I,"Annotation");d(y,v,"Search");if(W>R)for(v=a.thumbnailH,R=W,fa=W+2*aa,fa+=4,a.thumbnailH=0<c?3+
R+J+E/2:0,v=a.thumbnailH-v,n.canvas.style.setProperty("top",parseFloat(n.canvas.style.top)-v+"px"),n.setSize(fa+2*P,O+E+a.thumbnailH+P),a.popupX=a.trueOffsetLeft-aa-ha-P,a.popupY=a.trueOffsetTop-J-T-E-a.thumbnailH,n.myRrect.attr("path",Ea(P,E+a.thumbnailH,fa,O,Ba)+Gb(aa+P+1,J+E+a.thumbnailH,a.offsetWidth+2*ha,a.offsetHeight+2*T,U)),p=t=0;p<n.ULButtons.length;p++)for(u=J+a.offsetHeight+2*T+E+a.thumbnailH+L+(ia+L)*p+6,n.ULButtons[p].attr("x",ja+1),n.ULButtons[p].attr("y",u-4),n.ULButtons[p].attr("width",
R-2),n.ULButtons[p].attr("height",1),n.ULButtons[p].bX=ja+1,n.ULButtons[p].bY=u-4,n.ULButtons[p].bW=R-2,n.ULButtons[p].bH=1,n.ULLabels[p].style.setProperty("y",n.ULLabels[p].style.y+v),u=0;u<n.ULImageNumbers[p];u++)n.ULImages[t].style.setProperty("y",n.ULImages[t].style.y+v+"px"),n.ULImageBacks[t].style.setProperty("y",n.ULImageBacks[t].style.y+v+"px"),t++;B&&(Q.attr("path",Ea(ja-0.5,J+a.offsetHeight+2*T+E+a.thumbnailH+L+2+0.5,R,n.ULButtons.length*(ia+L)-L+8,Ca)),Q.attr("opacity",0),Q.attr("fill",
"60-"+ya+":0.9-#eee"),Q.attr("stroke-opacity",0),Q.node.style.fill=Q.node.getAttribute("fill"),z.attr("path",Ea(ja,J+a.offsetHeight+2*T+E+a.thumbnailH+L+2,R,n.ULButtons.length*(ia+L)-L+8,Ca)),z.attr("fill","60-"+Jb+":0.9-"+ya),z.attr("stroke-opacity",0),z.node.style.fill=z.node.getAttribute("fill"));if("right"==k.iconSide)for(p=t=0;p<n.ULButtons.length;p++)for(u=0;u<n.ULImageNumbers[p];u++)n.ULImages[t].style.setProperty("left",parseFloat(n.ULImages[t].style.left)+R-n.ULImageNumbers[p]*(A+ba)-ba+
"px"),n.ULImageBacks[t].style.setProperty("left",parseFloat(n.ULImageBacks[t].style.left)+R-n.ULImageNumbers[p]*(A+ba)-ba+"px"),t++;for(p=t=0;p<n.ULButtons.length;p++)for(u=0;u<n.ULImageNumbers[p];u++)n.ULImageBacks[t].className=!0==n.ULImageBacks[t].previewAvailable?"ultralinkLinkImageBackPreview":"ultralinkLinkImageBackNoPreview",t++;if(e.ID){z=0;if(Mb||qa)z=1;else if(Lb||ga)z=0.5;Q=f("<div>",{"class":"ultralinkLinkImageBackPreview"}).css({top:a.popupY+(J+E+a.thumbnailH+(a.offsetHeight+2*T-A)/2-
1)+z+"px",left:a.popupX+(fa-A-L/2-ba-2)-1+"px",width:A+2+"px",height:A+2+"px","border-radius":0.17742*A+"px"})[0];document.body.appendChild(Q);z=f("<a>",{"class":"ultralinkLinkImageLink"}).css({top:a.popupY+J+E+a.thumbnailH+(a.offsetHeight+2*T-A)/2+z+"px",left:a.popupX+fa-A-L/2-ba-2+"px"})[0];v=f("<img>",{"class":"ultralinkLinkImage",src:k.imagesURL+"ultralinkmeLink"+cc(A)+".png"}).css({width:A+"px",height:A+"px"})[0];z.appendChild(v);z.outline=Q;z.image=v;v="";e.database&&(v=e.database+"/");v="https://ultralink.me/description/"+
v+e.ID+"?word="+encodeURIComponent(a.textContent);z.linkType="ultralinkme";z.URL=v;document.body.appendChild(z);n.umLink=z;fc(n.umLink,v,"ultralinkme",e.category,a.textContent,e.database,e.ID);"true"==k.inlinePopups?(n.umLink.UMActionType="blackShadow",Q.previewAvailable=!0,Q.className="ultralinkLinkImageBackPreview",n.umLink.setAttribute("href",""),n.umLink.removeAttribute("href")):(n.umLink.UMActionType="blueShadow",Q.previewAvailable=!1,Q.className="ultralinkLinkImageBackNoPreview");mc(n.umLink);
if(!0==a.multipleUltralinks){Q=aa+P+a.offsetWidth+2*ha+A/2+0.87*ba;z=J+E+a.thumbnailH+(a.offsetHeight+2*T)/2;n.nextUltralink=n.circle(Q,z,A/2);n.nextUltralink.attr("opacity",Kb);n.nextUltralink.attr("cursor","pointer");n.nextUltralink.attr("stroke-width",hb);n.nextUltralink.attr("stroke",oc);n.nextUltralink.attr("fill","90-#ddd:50-#eee");n.nextUltralink.click(function(c){pc(a,b)});n.nextUltralink.node.style.stroke=oc;n.nextUltralink.node.style.fill=n.nextUltralink.node.getAttribute("fill");v=n.nextUltralink.glow({color:Nb,
width:jb,opacity:Wc,offsety:0});for(p=0;p<v.length;p++)v[p].node.style.stroke=v[p].node.getAttribute("stroke");n.nextArrow=n.path("M"+(Q-A/4+A/8)+","+(z-A/4)+" L"+(Q+A/8)+","+z+" L"+(Q-A/4+A/8)+","+(z+A/4));n.nextArrow.attr("stroke-width",ib);n.nextArrow.attr("stroke",qc);n.nextArrow.attr("cursor","pointer");n.nextArrow.click(function(c){pc(a,b)});n.nextArrow.node.style.stroke=qc;n.nextArrow.node.style.fill=n.nextArrow.node.getAttribute("fill")}}n.myRrect.rectShadow=n.myRrect.glow({color:Nb,width:Va,
opacity:rc,offsety:Wa});for(Q=0;Q<n.myRrect.rectShadow.length;Q++)n.myRrect.rectShadow[Q].node.style.stroke=n.myRrect.rectShadow[Q].node.getAttribute("stroke");if(0<c){var za=e.URLS.image,Fa=0,ca=function(){var b=za[Fa];if(void 0!=b){var c=b.URL,d=new Image;d.roundedCorners="true";b.roundedCorners&&(d.roundedCorners=b.roundedCorners);var e=function(b){if(a==m){for(var c=document.querySelectorAll("base[href]"),d=[],h=[],g=0;g<c.length;g++)h[g]=c[g].getAttribute("href"),c[g].removeAttribute("href"),
d[g]=c[g].parentNode,d[g].removeChild(c[g]);var l=0,K=0,g=b.width,p=b.height,x=R+3;a.actualThumbnailH=a.thumbnailH;g>p?(p*=x/g,g=x,K=x-p,a.actualThumbnailH=p+J+E/2):(g*=x/p,p=x,l=(x-g)/2);5>a.popupY&&p>x-(5-a.popupY)&&(l=(x-(5-a.popupY))/p,p*=l,g*=l,K=x-p,l=(x-g)/2,a.actualThumbnailH=p+J+E/2);if(0.3>g/x&&0.3>p/x)a.actualThumbnailH=0;else{n.ULback&&n.ULback.remove();n.ULback=n.ellipse(aa+P+l+g/2,J+E+K+p/2,g/2,p/2);n.ULback.attr("fill","r"+ya+"-"+ya+"-"+ya+"-"+ya);n.ULback.attr("opacity",0);n.ULback.attr("stroke-opacity",
0);n.ULthumbnail&&n.ULthumbnail.remove();n.ULthumbnail=n.image(b.src,aa+P+l,J+E+K,g,p);n.myRrect.attr("path",Ea(P,E+(a.thumbnailH-a.actualThumbnailH),fa,O+a.actualThumbnailH,Ba)+Gb(aa+P+1,J+E+a.thumbnailH,a.offsetWidth+2*ha,a.offsetHeight+2*T,U));n.myRrect.getBBox();n.myRrect.attr("fill","90-"+Jb+":"+100*($/((O+a.actualThumbnailH)/O))+"-"+ya);n.myRrect.node.style.fill=n.myRrect.node.getAttribute("fill");n.myRrect.rectShadow.remove();n.myRrect.rectShadow=n.myRrect.glow({color:Nb,width:Va,opacity:rc,
offsety:Wa});for(x=0;x<n.myRrect.rectShadow.length;x++)n.myRrect.rectShadow[x].node.style.stroke=n.myRrect.rectShadow[x].node.getAttribute("stroke");"true"==b.roundedCorners&&(f("#imageClippath",n.canvas).remove(),b=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),b.setAttribute("id","imageClippath"),n.theR=document.createElementNS("http://www.w3.org/2000/svg","rect"),n.theR.setAttribute("x",aa+P+l),n.theR.setAttribute("y",J+E+K),n.theR.setAttribute("rx",sc),n.theR.setAttribute("ry",
sc),n.theR.setAttribute("width",g),n.theR.setAttribute("height",p),b.appendChild(n.theR),n.canvas.appendChild(b),n.ULthumbnail.node.setAttribute("clip-path","url(#imageClippath)"));n.ULthumbnail.attr("cursor","pointer");var u=function(a){1<sa.length&&(ta+=a,0>ta?ta=sa.length-1:ta>=sa.length&&(ta=0),e(sa[ta]))};n.ULthumbnail.click(function(b){var c=1;b.pageX<a.popupX+fa/2&&(c=-1);void 0!=pa&&(clearInterval(pa),pa=void 0,Xa=!1);u(c)});void 0==pa&&Xa&&(pa=setInterval(function(){Xa&&u(1)},5E3))}for(g=
0;g<c.length;g++)c[g].setAttribute("href",h[g]),d[g].appendChild(c[g]);Fa++;ca()}};d.onload=function(){0!=d.width&&0!=d.height?(sa[sa.length]=d,1==sa.length&&e(d)):(a.actualThumbnailH=0,Fa++,ca())};d.onerror=function(){a.actualThumbnailH=0;Fa++;ca()};d.src=c}else 2>sa.length&&n.ULthumbnail&&n.ULthumbnail.attr("cursor","")};ca()}setTimeout(function(){(e.ID&&-1==e.ID||"ultralinkme"==a.autoPopup)&&hc(n.umLink)},100);jc(a,250)}}function Za(a,b){var c="jsonp";if(ga||qa||ma)c="json";f.ajax({async:!1,type:"GET",
url:a,data:b,dataType:c,jsonp:!1})}function Xc(a,b){var c=b.parentNode.UMActionType;c||(c=b.parentNode.parentNode.UMActionType);var d=b.parentNode.UMType;d||(d=b.parentNode.parentNode.UMType);var e=b.parentNode.UMCategory;e||(e=b.parentNode.parentNode.UMCategory);var h=b.parentNode.UMDatabase;h||(h=b.parentNode.parentNode.UMDatabase);var l=b.parentNode.UMID;l||(l=b.parentNode.parentNode.UMID);var f=b.parentNode.UMUrl;if(void 0==f||null==f)f=b.parentNode.parentNode.UMUrl;if(void 0==f||null==f)f=b.UMUrl;
var q=b.parentNode.UMWord;if(void 0==q||null==q)q=b.parentNode.parentNode.UMWord;if(void 0==q||null==q)q=b.UMword;var g="addClickHyperlink";d&&(g="addClick");f="ULWord="+encodeURIComponent(q)+"&ULLink="+encodeURIComponent(f)+"&ULReferrer="+encodeURIComponent(window.location.href)+"&ULReferrerTitle="+encodeURIComponent(document.title)+"&ActionType="+encodeURIComponent(c);d&&(f+="&ULType="+encodeURIComponent(d));e&&(f+="&ULCategory="+encodeURIComponent(e));h&&(f+="&ULDatabase="+encodeURIComponent(h));
l&&(f+="&ULID="+encodeURIComponent(l));f+="&associatedWebsite="+encodeURIComponent(k.associatedWebsite);"blackShadow"==c?Za($a+g,f):"blueShadow"==c&&(ga||qa||ma?(b.alreadyTracked="true",Za($a+g,f)):na?(Za($a+g,f),Mc(300)):(b.alreadyTracked="true",Za($a+g,f),setTimeout(function(){var c=document.createEvent("MouseEvents");c.initMouseEvent(a.type,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);b.dispatchEvent(c)},
100)))}function tc(a,b,c,d){d="ULWord="+encodeURIComponent(d)+"&ULReferrer="+encodeURIComponent(window.location.href)+"&ULReferrerTitle="+encodeURIComponent(document.title)+"&ActionType="+encodeURIComponent("popup");a&&(d+="&ULCategory="+encodeURIComponent(a));b&&(d+="&ULDatabase="+encodeURIComponent(b));c&&(d+="&ULID="+encodeURIComponent(c));d+="&associatedWebsite="+encodeURIComponent(k.associatedWebsite);Za($a+"addClick",d)}function mc(a){if("true"==k.UMAnalytics){var b=a.getAttribute("href");void 0!=
b&&b.match(/^#/)||(a=f(a),a.bind("click",function(a){if("true"!=a.alreadySeen)if(a.alreadySeen="true","true"==a.target.alreadyTracked)delete a.target.alreadyTracked;else if(a.target.UMUrl=a.target.href,a.target.UMWord=a.target.textContent,Xc(a,a.target),"blueShadow"==a.target.parentNode.UMActionType){if(!(ga||na||qa||ma))return!1}else"blackShadow"==a.target.parentNode.UMActionType&&hc(a.target.parentNode)}))}}function gc(){if(void 0!=m){var a=m,b=da(a,"data-ul");if(b&&0>b.ID){var c=ab+"extension/getMostRecentDescription?word="+
encodeURIComponent(a.textContent);""!=k.database&&(c+="&database="+encodeURIComponent(k.database));f.ajax({type:"GET",url:c,dataType:"json",jsonp:!1,success:function(c,e,h){0<c&&(b.ID=c,""!=k.database&&(b.database=k.database),Da(a,"data-ul",b))}})}}}function pc(a,b){var c=void 0;a.inlinePaper&&(c=a.inlinePaper.linkType);Ka();a.autoPopup=c;b++;da(a,"data-ul_"+b)?(ua=a,rb(a,b)):(ua=a,rb(a))}function Yc(a,b){var c=Ga.SHA1(a);y[c]=b;var c=document.getElementsByTagName("head")[0],d=document.createElement("script");
d.type="text/javascript";d.async=!0;d.src=a;c.appendChild(d)}function Zc(){var a={},b=0,c=0,d=0,e=0,h="",l="",f="",q="";if(0<document.querySelectorAll(".ultralink").length)q=".ultralink";else{for(var g=0;g<C.length;g++)if(window.location.href.match(RegExp(C[g].siteRegex,"i")))return C[g].selector;if(""==q){for(var g="article.content div.artPgMnStryWrapper div.article div.articleBodyContent div.articleBody div.articlePage div.articleText div.article-content div.article-container div.article-main div.article-main-text div.body div.body-copy div.bd div.container div.content div.Content div.contentBody div.content-text div.content-section div.content123 div.entry div.entry-content div.entry_body_text div.fs-content-box div.ii div.mainWrapper div.main_col div.main-content div.media-story div.mod-articletext div.mw-content-ltr div.post div.post-body div.post_body div.post-text div.primary div.story div.story-text div.storyText div.wsh_expCol_Content div#article div#articleText div#articleBody div#article-body-blocks div#article_body div#article_story_body div#bodyContent div#content div#inner_content_left div#mediaarticlebody div#ReportTxt div#story-body-text div#story div#storytext div#storyContent div.apple-rss-article-body td.bod td.text span.bodyCopy span#article_content section#article_text".split(" "),
k,m=0;m<g.length;m++){var v=g[m];k=document.querySelectorAll(v);for(var p=0;p<k.length;p++){var t=k[p],t=t.offsetHeight*t.offsetWidth;t>c&&(c=t,d=k.length,l=v);t=document.querySelectorAll(v+" p");a[v]=t.length;t.length>e&&(e=t.length,f=v)}k.length>b&&(b=k.length,h=v)}l==f?q=l:l==h?q=l:""!=l&&0==b?q=l:""!=h&&0==c?q=h:d==b&&0!=d?q=l:1==d&&e>d&&e>b?q=f:1==d&&b>d?q=h:""!=l&&(q=l);""!=q&&(a=a[q],void 0!=a&&2<a&&(q=q+" p, "+q+" ul, "+q+" dl"))}}""==q&&(q="p");return q}function uc(a,b){var c=a.childNodes[0],
d=!1;if(void 0!=b){if(c.nodeType==Node.TEXT_NODE){for(var e in b.ul.URLS)for(var h=b.ul.URLS[e],l=0;l<h.length;l++){var x=h[l],q=document.createElement("a");q.href=x.URL;if(zb(q.href)==zb(a.href)){d=!0;break}}e=b.ul;!1==d&&(e={},f.extend(!0,e,b.ul),e.URLS.href2||(e.URLS.href2=[]),e.URLS.href2.push({URL:a.href}));d="i";1==b.caseSensitive&&(d="");var g=!1,d=c.nodeValue.replace(RegExp("^("+b.quotedWord+")$","g"+d),function(a,b,c,d){g=!0;return b});!0==g&&(c=document.createElement("uword"),c.textContent=
d,a.parentNode.replaceChild(c,a),Da(c,"data-ul",e))}}else{d={URLS:{}};c="href";for(h in G)if(a.href.match(RegExp(h,"i"))){c=G[h];break}d.URLS[c]=[];d.URLS[c].push({URL:a.href});"true"==k.editorStyle&&(d.ID="-2");c=document.createElement("uword");for(e=0;e<a.childNodes.length;e++)f(a.childNodes[e]).clone().appendTo(c);a.parentNode.replaceChild(c,a);Da(c,"data-ul",d)}}function vc(a,b){var c=0,d="i";1==b.caseSensitive&&(d="");var e=a.childNodes;if(e)for(var h=RegExp("(\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|^)"+
b.notgreedy+"("+b.quotedWord+")(\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|$)"+b.notgreedy,"g"+d),d=RegExp("(?:\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|^)"+b.notgreedy+"(?:"+b.quotedWord+")(?:\\b|\\s|\\.|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\<|\\>|\\||\\:|\\-|$)"+b.notgreedy,"g"+d),l=e.length;0<=--l;){var f=e[l];if(f.nodeType==Node.TEXT_NODE){var k=[],g=[],m=[];f.nodeValue.replace(h,function(a,b,c,
d,e,h){a="";void 0!=b&&(a=b);b="";void 0!=d&&(b=d);k.push(a);g.push(c);m.push(b)});if(0<g.length){for(var I=f.nodeValue.split(d),v=0;v<I.length;v++)if(a.insertBefore(document.createTextNode(I[v]),f),v<g.length){""!=k[v]&&a.insertBefore(document.createTextNode(k[v]),f);var p=document.createElement("uword");p.textContent=g[v];Da(p,"data-ul",b.ul);c++;a.insertBefore(p,f);""!=m[v]&&a.insertBefore(document.createTextNode(m[v]),f)}a.removeChild(f)}}}return c}function Oa(a,b){if(void 0!=b.words&&0<b.words.length){for(var c=
0;c<b.words.length;c++){var d="i";1==b.words[c].caseSensitive&&(d="");f(a).is(":not(span.nouword *):not(iframe *):not(a *)")&&vc(a,b.words[c]);f(":not(span.nouword,iframe,a):not(span.nouword *):not(iframe *):not(a *):"+d+"contains2("+b.words[c].word+")",a).each(function(){if("uword"==this.tagName.toLowerCase()){if(this.textContent.toLowerCase()==b.words[c].word.toLowerCase()){var a=da(this,"data-ul");if(void 0==a)Da(this,"data-ul",b.words[c].ul);else{for(var d=0,e=a.database;void 0!=a;){if(a.ID==
b.words[c].ID){d=-1;break}d++;a=da(this,"data-ul_"+d)}0<d&&e==b.words[c].ul.database&&Da(this,"data-ul_"+d,b.words[c].ul)}}}else vc(this,b.words[c])});"true"==k.replaceHyperlinks&&f("a:"+d+"contains2("+b.words[c].word+")",a).each(function(){this.textContent.toLowerCase()==b.words[c].word.toLowerCase()&&uc(this,b.words[c])})}y.uwordScanPage(a)}"true"==k.replaceHyperlinks&&(window.location.href.match($c)||"true"==k.cleanMode)&&setTimeout(function(){f("a:not(.autonumber)",a).each(function(){""!=this.textContent&&
uc(this)});y.uwordScanPage(a)},100);a.finished=!0;if(ma&&!wc){for(var d=!0,e=!1,h=0;h<H.length;h++){var l=H[h];X(l)&&(e=!0,l.finished||(d=!1))}if(e&&d)for(wc=!0,h=0;h<H.length;h++)l=H[h],X(l)&&f("uword",l).each(function(){var a=da(this,"data-ul");a&&a.callout&&"normal"==a.callout||X(this)&&ic(this,1)})}}function Ob(a,b){if(b!=Pa&&".ultralink"!=Pa){for(var c=0,d=!1;c<C.length;)C[c].siteRegex==a&&(C[c].selector=b,d=!0),window.location.href.match(RegExp(C[c].siteRegex,"i"))?C.splice(c,1):c++;!1==d&&
C.push({siteRegex:a,selector:b});"extension"==k.environment&&"IE"!=k.extension&&y.sendExtensionMessage("updateHardcodedSites",C);H=[];Ha=[];Qa(b)}}function xc(a){var b=k.database,b=void 0!=b&&"undefined"!=b&&b?"/"+b:"",c="fragment";"true"==k.editorStyle&&(c="fragmentBypass");var d=a.innerHTML;if(""!=d){var e=Ga.SHA1(d+k.replaceHyperlinks+k.environment,{asString:!0});if("da39a3ee5e6b4b0d3255bfef95601890afd80709"!=e){var h=Ga.SHA1(window.location.href,{asString:!0});na?(c=ab+"extension/"+c+"/"+h+"/"+
e+b+"?callback=Ultralink.fragmentCallback",Yc(c,function(c){"hit"==c.type?""==c.siteRegexp||c.override==a.selector?(Ha.push(e),X(a)?Oa(a,c):a.fragmentData=c):Ob(c.siteRegexp,c.override):"miss"==c.type&&(c="fragment="+encodeURIComponent(d),c+="&URL="+encodeURIComponent(window.location.href),c+="&associatedWebsite="+encodeURIComponent(k.associatedWebsite),c+="&replaceHyperlinks="+encodeURIComponent(k.replaceHyperlinks),c+="&environment="+encodeURIComponent(k.environment),f.ajax({type:"POST",url:ab+
"extension/fragmentFilter/"+h+"/"+e+b,data:c,dataType:"jsonp",success:function(b){Ha.push(e);X(a)?Oa(a,b):a.fragmentData=b}}))})):(c=ab+"extension/"+c+"/"+h+"/"+e+b,f.ajax({type:"GET",url:c,dataType:"json",jsonp:!1,success:function(c,x,q){"hit"==c.type?""==c.siteRegexp||c.override==a.selector?"extension"==k.environment&&"IE"!=k.extension&&parseInt(Pb)<parseInt(c.ultralinkMinVersion)?y.sendExtensionMessage("extensionOutOfDate",{currentVersion:c.ultralinkMinVersion,currentVersionString:c.ultralinkVersionString}):
(Ha.push(e),X(a)?Oa(a,c):a.fragmentData=c):Ob(c.siteRegexp,c.override):"miss"==c.type&&(c={fragment:encodeURIComponent(d),URL:encodeURIComponent(window.location.href),associatedWebsite:encodeURIComponent(k.associatedWebsite),replaceHyperlinks:encodeURIComponent(k.replaceHyperlinks),environment:encodeURIComponent(k.environment)},f.ajax({type:"POST",url:ab+"extension/fragmentFilter/"+h+"/"+e+b,dataType:"json",jsonp:!1,data:c,complete:function(b,c){if(200==b.status){var d=oa.parse(b.responseText);""==
d.siteRegexp||d.override==a.selector?"extension"==k.environment&&"IE"!=k.extension&&parseInt(Pb)<parseInt(d.ultralinkMinVersion)?y.sendExtensionMessage("extensionOutOfDate",{currentVersion:d.ultralinkMinVersion,currentVersionString:d.ultralinkVersionString}):(Ha.push(e),X(a)?Oa(a,d):a.fragmentData=d):Ob(d.siteRegexp,d.override)}else 400!=b.status&&yc(a)}}))}}))}}}function yc(a){-1!=!f.inArray(a,H)&&H.push(a);X(a)?xc(a):a.notScanned="true"}function Qb(a){if(void 0!=m){var b=m;if(void 0!=b.paper){var c=
b.paper,d=parseFloat(c.myRrect.node.parentNode.style.left),e=parseFloat(c.myRrect.node.parentNode.style.top);if(a.pageX<=d||a.pageX>d+c.width||a.pageY<=e+(b.thumbnailH-b.actualThumbnailH)||a.pageY>e+c.height)if(c=b.inlinePaper,void 0!=c){if(d=parseFloat(c.back.node.parentNode.style.left),e=parseFloat(c.back.node.parentNode.style.top),a.pageX<=d||a.pageX>d+c.width||a.pageY<=e||a.pageY>e+c.height)Hb(b),U()}else 0<k.hoverRecoverTime?(xa=!0,setTimeout(function(){xa=!1},k.hoverRecoverTime)):xa=!1,Ka()}}}
function ad(a,b){var c=/[\u4e00-\u9faf\u3040-\u309f\u30a0-\u30ff]+/,d="";if(a.match(/[\.|\+|\*|\?|\[|\^|\]|\$|\(|\)|\{|\}|\=|\!|\<|\>|\||\:|\-]/)||a.match(c))d="?";Oa(b,{words:[{ID:-1,caseSensitive:0,notgreedy:d,word:a,quotedWord:a,ul:{ID:-1,URLS:{},category:"(NEEDS CATEGORIZATION)",status:"hit"}}]});f("uword:contains2("+a+")",b).each(function(){var b=f(this);this.textContent==a&&(b.click(),La=!0)})}function zc(a){setTimeout(function(){f("command",a).each(function(){y.handleExtensionMessage(this.attributes.type.value,
oa.parse(this.textContent))&&f(this).remove()})},10)}function Rb(a){var b=!1;a.notScanned&&(delete a.notScanned,xc(a),b=!0);var c=a.fragmentData;c&&(delete a.fragmentData,Oa(a,c),b=!0);return b}function Ac(){for(var a=!1,b=0;b<H.length&&!(a=Rb(H[b]));b++);b=200;ga&&(b=500);a&&setTimeout(Ac,b)}function Qa(a){var b=[];""!=a&&(b=f(a+":not(a *)"));""==a||0==b.length?".ultralink"==a||""==a?(a=Zc(),""!=a?Qa(a):Pa=""):""!=a&&1E4>bb&&(setTimeout(function(){Qa(a)},bb),1E4>bb&&(bb+=1E3)):(Pa=a,b.each(function(){for(var b=
!1,d=0;d<H.length;d++)if(H[d]==this){b=!0;break}if(!b)for(void 0==this.fragmentHash&&(this.fragmentHash=Ga.SHA1(this.innerHTML+k.replaceHyperlinks+k.environment,{asString:!0})),d=0;d<Ha.length;d++)if(Ha[d]==this.fragmentHash){b=!0;break}!b&&524288>this.innerHTML.length&&(this.selector=a,yc(this))}),Ac())}function Bc(){if("string"==typeof k.scanSelector)Qa(k.scanSelector);else for(var a=0;a<k.scanSelector.length;a++)Qa(k.scanSelector[a]);setInterval(function(){""!=Pa&&Qa(Pa)},5E3)}function bd(){var a=
!1;f(document).ready(function(){a||(a=!0,Bc())});setTimeout(function(){a||(a=!0,Bc())},5E3)}function tb(a){switch(a){case "ultralinkme":return 600;default:return 500}}function Sb(a){switch(a){case "mapgoogle":return 500;case "videoyoutube":return 375;case "ultralinkme":return 375;case "linkedin":return 250;case "wikipedia":return 300;case "mediawiki":return 300;default:return 350}}function Cc(a,b,c){function d(){var a=b.popupX+I.width/2-h/2;5>a&&(a=5);a+h+2*w>document.body.offsetWidth-5&&(a=document.body.offsetWidth-
5-(h+2*w));var c=parseFloat(e.back.node.parentNode.style.left)-(a+h/2-Y/2);e.setSize(h+2*w,g+s);e.back.node.parentNode.style.setProperty("left",a+"px");e.back.attr("path",ob(w,w+s,h,k,m,Z,s,c));e.outline.attr("path",ob(w,w+s,h,k,m,Z,s,c));e.inlineDiv.style.setProperty("left",a+ka+"px");e.inlineDiv.style.setProperty("top",parseFloat(e.back.node.parentNode.style.top)+ka+s+"px")}var e=b.inlinePaper,h=tb(c),l=Sb(c),k=a+(2*ka+16);82>k&&(k=82);var q=0;k>=l||0==a?k=l:q=18;var g=k+2*w,m=Ia;"ultralinkme"==
c&&(m=20,e.outline.attr("stroke-width",cd));var I=b.paper.myRrect.getBBox();b.popupX+I.width/2>document.body.offsetWidth/2?0>b.popupX-h?d():(e.setSize(h+s+2*w,g),a=0,l=parseFloat(e.back.node.parentNode.style.top)-(k-O)/2,5>l&&(a=l-5,l=5),e.back.node.parentNode.style.setProperty("top",l+"px"),e.back.node.parentNode.style.setProperty("left",parseFloat(e.back.node.parentNode.style.left)-(h-Y)+"px"),e.back.attr("path",mb(w,w,h,k,m,s,Z,a)),e.outline.attr("path",mb(w,w,h,k,m,s,Z,a)),e.inlineDiv.style.setProperty("left",
parseFloat(e.back.node.parentNode.style.left)+ka+"px"),e.inlineDiv.style.setProperty("top",parseFloat(e.back.node.parentNode.style.top)+ka+"px")):b.popupX+I.width+h>document.body.offsetWidth?d():(e.setSize(h+s+2*w,g),a=0,l=parseFloat(e.back.node.parentNode.style.top)-(k-O)/2,5>l&&(a=l-5,l=5),e.back.node.parentNode.style.setProperty("top",l+"px"),e.back.attr("path",nb(w+s,w,h,k,m,s,Z,a)),e.outline.attr("path",nb(w+s,w,h,k,m,s,Z,a)),e.inlineDiv.style.setProperty("left",parseFloat(e.back.node.parentNode.style.left)+
ka+s+"px"),e.inlineDiv.style.setProperty("top",parseFloat(e.back.node.parentNode.style.top)+ka+"px"));e.spinner.remove();a=e.back.glow({color:dd,width:ed,opacity:fd,offsety:gd});for(l=0;l<a.length;l++)a[l].node.style.stroke=a[l].node.getAttribute("stroke");q=g-2*ka+q;f("iframe#inlineIframe_"+c).css("height",q+2+"px");e.inlineDiv.style.setProperty("height",q+2+"px");e.inlineDiv.style.zIndex="2147483647"}function ub(a,b,c,d){var e=b.inlinePaper;setTimeout(function(){var h=0;void 0!=d&&(h=d);if(void 0!=
a){var l=parseFloat(e.inlineDiv.style.height)-16,h=f("#containDiv",a).height();ma&&h>l&&(h=f("#containDiv",a)[0],h.style.setProperty("height",l+"px"),h.style.setProperty("overflow","auto"),h=l)}Cc(h,b,c)},1)}function hd(a,b,c){setTimeout(function(){y.currentInlineContent=a;var c=m,e=tb(b),h=Sb(b),c=c.inlinePaper;c.inlineDiv=f("<div>",{id:"ultralinkInlineContent"}).css({top:"-1000px",left:"-1000px",width:e+2*w-2*ka+"px",height:h+2*w-2*ka+"px"})[0];ga?c.back.attr("opacity",1):"ultralinkme"==b?c.back.attr("opacity",
0.95):c.back.attr("opacity",0.9);e=f("<iframe>",{type:"content",id:"inlineIframe_"+b,frameborder:0,width:parseInt(c.inlineDiv.style.width),height:parseInt(c.inlineDiv.style.height)});f(c.inlineDiv).append(e);switch(b){case "twitter":case "linkedin":case "facebook":case "googleplus":f(e).load(function(){var c=document.getElementById("inlineIframe_"+b);if(void 0==c.src||""==c.src)c.src=a})}document.body.appendChild(c.inlineDiv)},1)}function W(a,b,c){setTimeout(function(){y.currentInlineContent=a;var c=
m;La=c.expanded=!0;var e=tb(b),h=Sb(b),l=c.inlinePaper;l.inlineDiv=f("<div>",{id:"ultralinkInlineContent"}).css({top:"-1000px",left:"-1000px",width:e+2*w-2*ka+"px",height:h+2*w-2*ka+"px"})[0];ga?l.back.attr("opacity",1):"ultralinkme"==b?l.back.attr("opacity",0.95):l.back.attr("opacity",0.9);var k=f("<iframe>",{type:"content",id:"inlineIframe_"+b,frameBorder:0,width:parseInt(l.inlineDiv.style.width),height:parseInt(l.inlineDiv.style.height)});f(l.inlineDiv).append(k);switch(b){case "wikipedia":case "mediawiki":na&&
document.domain!=location.host&&(k[0].src='javascript:(function (){ document.open();document.domain="'+document.domain+'";document.close(); })();');var q=f("<div>",{id:"containDiv"})[0],g=f("<div>").html(window.html_sanitize(a.parse.text["*"],function(a){return a},function(a){return a})).css({"word-wrap":"break-word",color:"white","font-family":"Helvetica"})[0];f("sup",g).remove();f("table.navbox",g).remove();f("table.infobox",g).remove();f("table.infobox_v2",g).remove();f("table.metadata",g).remove();
f("table.vertical-navbox",g).remove();f("table.toccolours",g).remove();f("strong.error",g).remove();f("span#coordinates",g).remove();f("div.noprint",g).remove();f("div.dablink",g).remove();f("div.thumb",g).remove();f("div.floatright",g).remove();f("#toc",g).remove();f("table",g).css("color","white");f("a",g).each(function(){f(this).replaceWith(f(this).html())});f(k).load(function(){var e=document.getElementById("inlineIframe_"+b),e=e.contentDocument||e.contentWindow.document;if("mediawiki"==b){f(g).css("margin-top",
"16px");var h=f("<div>").css({color:"white","font-family":"Helvetica","font-size":"0.75em","text-align":"center","margin-top":"-7px","margin-bottom":"-10px"})[0];h.appendChild(document.createTextNode("(Source: "));h.appendChild(f("<a>",{target:"_blank",href:Oc(a.pageURL)}).text(Nc(a.pageURL)).css("color","#77f")[0]);h.appendChild(document.createTextNode(")"));q.appendChild(h)}q.appendChild(g);f(this).contents().find("html body").append(q);ub(e,c,b)});break;case "angellist":na&&document.domain!=location.host&&
(k[0].src='javascript:(function (){ document.open();document.domain="'+document.domain+'";document.close(); })();');var e=a.data,F,I=h="";"users"==a.type?(F=e.image,null!=e.bio&&(h=e.bio)):"startups"==a.type&&(F=e.logo_url,null!=e.high_concept&&(h=e.high_concept),null!=e.product_desc&&(I=e.product_desc));q=f("<div>",{id:"containDiv"}).css("font-family","Open Sans").append(f("<table>",{id:"headerTable"}).css("width","100%").append(f("<tr>").append(f("<td>",{id:"profileImageCell"}).css({width:"48px",
"padding-right":"10px","padding-left":"0px"}).append(f("<img>",{id:"profileImage",src:F}).css({width:"48px",height:"48px","border-radius":"7px"}))).append(f("<td>",{id:"profileNameCell"}).css("color","white").append(f("<span>",{id:"nameSpan"}).text(e.name).css({"font-size":"24px","font-weight":"bold"})).append(f("<br>")).append(f("<span>",{id:"headlineSpan"}).text(h).css({"font-size":"13px",color:"#bbb"})))));I&&q.append(f("<div>",{id:"summary"}).css({color:"white","margin-top":"5px","margin-bottom":"5px",
"font-size":"16px"}).append(f("<span>").text(I)).append(f("<br>")));if("users"==a.type&&0<a.startupRoles.startup_roles.length){F=a.startupRoles.startup_roles;var v=function(a){switch(a){case "founder":return 0;case "investor":return 1;case "employee":return 2;case "board_member":return 3;case "advisor":return 4;case "past_investor":return 5}},e=function(a){switch(a){case "founder":return"Founder";case "investor":return"Investor";case "employee":return"Employee";case "board_member":return"Board Member";
case "advisor":return"Advisor";case "past_investor":return"Past Investor"}};F.sort(function(a,b){return a.role==b.role?a.startup.quality>b.startup.quality?-1:a.startup.quality<b.startup.quality?1:0:v(a.role)>v(b.role)?1:-1});q.append(f("<div>").append(f("<div>",{id:"roleDiv"}).css({overflow:"auto","font-family":"Helvetica","margin-top":"5px"}).append(f("<table>",{id:"roleTable"}).css({width:"90%","table-layout":"fixed",margin:"auto"}))));h=f("#roleTable",q);for(I=0;I<F.length;I++){var p=F[I],t=p.startup;
h.append(f("<tr>",{"class":"startupRow"}).css({color:"white",height:"34px"}).append(f("<td>",{"class":"startupImageCell"}).css({width:"34px","text-align":"center"}).append(f("<img>",{"class":"startupImage",src:t.logo_url}).css({width:"32px","max-height":"32px","border-radius":"5px"}))).append(f("<td>",{"class":"startupNameCell"}).css("padding-left","5px").append(f("<a>",{"class":"startupLink",href:t.angellist_url,target:"_blank"}).text(t.name).css({color:"#aac","text-decoration":"none"}))).append(f("<td>",
{"class":"startupRoleCell"}).text(e(p.role)).css({width:"110px","text-align":"center"})))}}f(k).load(function(){var a=document.getElementById("inlineIframe_"+b),a=a.contentDocument||a.contentWindow.document;f("html body",k.contents()).append(q);ub(a,c,b)});break;case "annotation":na&&document.domain!=location.host&&(k[0].src='javascript:(function (){ document.open();document.domain="'+document.domain+'";document.close(); })();');q=f("<div>",{id:"containDiv"}).text(a.text).css({color:"white","font-family":"Open Sans"})[0];
f(k).load(function(){var a=document.getElementById("inlineIframe_"+b),a=a.contentDocument||a.contentWindow.document;f(this).contents().find("html body").append(q);ub(a,c,b)});break;case "videoyoutube":case "mapgoogle":case "ultralinkme":case "twitter":case "linkedin":case "facebook":case "googleplus":f(k).load(function(){var e=document.getElementById("inlineIframe_"+b);if(void 0==e.src||""==e.src)e.src=a,setTimeout(function(){Cc(0,c,b)},1)})}document.body.appendChild(l.inlineDiv)},1)}function pb(a,
b,c){if(-1!=f.inArray(a,sb)&&void 0!=m&&"undefined"!=typeof a&&"undefined"!=typeof b){var d=m;U();d.currentInlineImage=c;var e=parseFloat(c.style.left),h=parseFloat(c.style.top),l=parseFloat(c.image.style.width),x=parseFloat(c.image.style.height),q=d.paper.myRrect.getBBox(),g,F=tb(a),I=function(){g=new Raphael(e+l/2-Y/2-w,h+x,Y+2*w,O+s+2*w);g.back=g.path(ob(w,w+s,Y,O,Ia,Z,s,0));g.outline=g.path(ob(w,w+s,Y,O,Ia,Z,s,0));g.spinner=g.image(k.imagesURL+"inlineLoading.gif",w+la,w+la+s,Y-2*la,O-2*la)},v=
e+l/2,p=v-l/2,t=v+l/2;d.popupX+q.width/2>document.body.offsetWidth/2?0>d.popupX-F?I():(g=new Raphael(d.popupX+aa+P-Y-s+Dc-w-2,h+x/2-O/2-w,Y+s+2*w,O+2*w),g.back=g.path(mb(w,w,Y,O,Ia,s,Z,0)),g.outline=g.path(mb(w,w,Y,O,Ia,s,Z,0)),g.spinner=g.image(k.imagesURL+"inlineLoading.gif",w+la,w+la,Y-2*la,O-2*la)):d.popupX+q.width+F>document.body.offsetWidth?I():(g=new Raphael(d.popupX+aa+P+q.width-Dc-s-2,h+x/2-O/2-w,Y+s+2*w,O+2*w),g.back=g.path(nb(w+s,w,Y,O,Ia,s,Z,0)),g.outline=g.path(nb(w+s,w,Y,O,Ia,s,Z,0)),
g.spinner=g.image(k.imagesURL+"inlineLoading.gif",w+la+s,w+la,Y-2*la,O-2*la));d.inlinePaper=g;g.buttonXMiddle=v;g.buttonXLeft=p;g.buttonXRight=t;g.ULAnchor=c;g.linkType=a;g.URL=b;g.back.attr("stroke-width",0);g.back.attr("stroke-opacity",0);g.outline.attr("stroke-width",w);g.outline.attr("stroke-opacity",id);"ultralinkme"==a?(g.back.attr("fill","60-#e2e2e2:0-#fafafa"),ga?g.back.attr("opacity","1.0"):g.back.attr("opacity","0.95"),g.outline.attr("stroke","#aab"),g.outline.node.style.stroke="#aab"):
(g.back.attr("fill",jd),ga?g.back.attr("opacity","1.0"):g.back.attr("opacity",Kb),g.outline.attr("stroke",Ec),g.outline.node.style.stroke=Ec);g.back.node.parentNode.setAttribute("class","ultralinkSVG");g.back.node.parentNode.style.zIndex="2147483646";g.back.node.style.fill=g.back.node.getAttribute("fill");var u=ra[a+b],K=g.ULAnchor,M=K.UMUrl;if(u)W(u,a,b);else switch(a){case "twitter":case "linkedin":case "facebook":case "googleplus":d=wa;ga&&(d="https://ultralink.me/");hd(d+"inlineViews/"+a+"View.html?URL="+
encodeURIComponent(b),a,b);break;case "wikipedia":if("extension"!=k.environment&&"true"!=k.extensionAssist||"IE"==k.extension){var q=/(.*)\:\/\/(.*)\/wiki\/(.*)/.exec(b),r=Aa+q[2]+"/w/api.php?action=parse&format=json&redirects=&disablepp=&prop=text&section=0&page="+encodeURIComponent(decodeURI(q[3]));f.ajax({type:"GET",dataType:"jsonp",url:r,success:function(c){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&(u=c,ra[a+
b]=u,W(u,a,b))},error:function(){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&U()}})}else y.sendExtensionMessage("wikipediaQuery",{command:"page",URL:b});break;case "mediawiki":"extension"!=k.environment&&"true"!=k.extensionAssist||"IE"==k.extension?(q=/(.*)\:\/\/(.*?)\/(wiki\/index\.php\/)?(wiki\/)?(.*)/.exec(b),r=q[1]+"://"+q[2]+"/wiki/api.php?action=parse&format=json&redirects=&disablepp=&prop=text&section=0&page="+
encodeURIComponent(decodeURI(q[5])),f.ajax({type:"GET",dataType:"jsonp",url:r,success:function(c){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&(u=c,u.pageURL=b,ra[a+b]=u,W(u,a,b))},error:function(){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&U()}})):y.sendExtensionMessage("mediawikiQuery",{command:"page",URL:b});break;case "angellist":if("extension"!=
k.environment&&"true"!=k.extensionAssist||"IE"==k.extension){var q=/.*angel\.co\/(.+?)($|\?)/.exec(b),va=q[1],r="https://api.angel.co/1/search/slugs?query="+encodeURIComponent(va);f.ajax({type:"GET",dataType:"jsonp",url:r,success:function(c){var d="";if("User"==c.type)d="users";else if("Startup"==c.type)d="startups";else{U();return}r="https://api.angel.co/1/"+d+"/search?slug="+encodeURIComponent(va);f.ajax({type:"GET",dataType:"jsonp",url:r,success:function(c){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=
typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&(void 0!=c.id?"users"==d?($={},$.type=d,$.data=c,$.pageURL=b,r="https://api.angel.co/1/users/"+c.id+"/startups",f.ajax({type:"GET",dataType:"jsonp",url:r,success:function(c){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&($.startupRoles=c,ra[a+b]=$,W($,a,b))},error:function(c){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&
"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&U()}})):"startups"==d&&(u={type:d,data:c},u.pageURL=b,ra[a+b]=u,W(u,a,b)):U())},error:function(a){U()}})},error:function(a){U()}})}else y.sendExtensionMessage("angellistQuery",{command:"profile",URL:b});break;case "annotation":"extension"!=k.environment&&"true"!=k.extensionAssist||"IE"==k.extension?(q=/(.*)\:\/\/ultralink\.me\/annotation\/(.+)\/([^\?]+)/.exec(b),r="https://ultralink.me/API/current/website/getAnnotation?database="+
encodeURIComponent(decodeURI(q[2]))+"&description_ID="+encodeURIComponent(decodeURI(q[3])),d="json",na&&(d="jsonp"),f.ajax({type:"GET",dataType:d,url:r,success:function(c){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&(u=c,u.pageURL=b,ra[a+b]=u,W(u,a,b))},error:function(){void 0!=m&&(void 0!=m.inlinePaper&&"undefined"!=typeof a&&"undefined"!=typeof b&&m.inlinePaper.linkType==a&&m.inlinePaper.URL==b)&&U()}})):y.sendExtensionMessage("annotationQuery",
{URL:b});break;case "videoyoutube":b.match(/.*youtube.com/)?b.match(/.*youtube.com\/embed\//)?W(b,a,b):b.match(/.*youtube.com\/watch/)?(q=/.*youtube\.com\/watch\?.*v=(.+?)($|&)/.exec(b),W(Aa+"www.youtube.com/embed/"+q[1],a,b)):U():U();break;case "mapgoogle":b.match(/.*maps.google.com/)?(q=/.*maps\.google\.com(.*)/.exec(b),W(Aa+"maps.google.com"+q[1]+"&output=embed",a,b)):U();break;case "ultralinkme":q=/.*ultralink\.me.*\/description\/((.*)\/)?(.+?)($|\?)/.exec(b),c=q[2],q=q[3],F="https://ultralink.me/extension/descriptionView.html?ID="+
encodeURIComponent(q)+"&pageTitle="+encodeURIComponent(document.title)+"&pageURL="+encodeURIComponent(location.href),d.multipleUltralinks&&(I=da(d,"data-ul"),F+="&dominantUltralink="+encodeURIComponent(I.ID)),c&&(F+="&database="+encodeURIComponent(c)),0>q&&(F+="&word="+encodeURIComponent(d.textContent),""!=k.database&&(F+="&database="+encodeURIComponent(k.database))),W(F,a,b)}d=10;ma?d=1E3:qa&&(d=500);setTimeout(function(){void 0!=K&&(K.href=M,K.UMActionType="blueShadow",K.outline.className="ultralinkLinkImageBackNoPreview")},
d)}}function Fc(){f.expr[":"].icontains||(f.expr[":"].icontains=function(a,b,c,d){return 0<=(a.textContent||a.innerText||f(a).text()||"").toLowerCase().indexOf(c[3].toLowerCase())});f.expr[":"].contains2||(f.expr[":"].contains2=function(a,b,c,d){if(a=a.childNodes)for(b=a.length;0<=--b;)if(d=a[b],d.nodeType==Node.TEXT_NODE&&0<=(d.textContent||d.innerText||f(d).text()||"").indexOf(c[3]))return!0;return!1});f.expr[":"].icontains2||(f.expr[":"].icontains2=function(a,b,c,d){if(a=a.childNodes)for(b=a.length;0<=
--b;)if(d=a[b],d.nodeType==Node.TEXT_NODE&&0<=(d.textContent||d.innerText||f(d).text()||"").toLowerCase().indexOf(c[3].toLowerCase()))return!0;return!1})}function $b(a){if(!1==Bb){Bb=!0;Fc();yb();y.setOptions(a);f("ultralinkloaded").bind("DOMSubtreeModified",function(a){zc(this)});zc(f("ultralinkloaded")[0]);if(ma){var b={};document.addEventListener("touchmove",function(a){a=a.changedTouches;1==a.length&&(b[a[0].identifier]=!0)},!0);document.addEventListener("touchend",function(a){a=a.changedTouches;
if(1==a.length){var d=a[0];if(b[d.identifier])delete b[d.identifier];else{if(void 0==m)for(a=0;a<H.length;a++)X(H[a])&&f("uword",H[a]).each(function(){var a=da(this,"data-ul");if((!a||!a.callout||"normal"!=a.callout)&&X(this)&&this!=ua){var b=Db(this),a=d.pageX-(b.left+b.width/2),b=d.pageY-(b.top+b.height/2),a=a*a+b*b;12E4>a?ic(this,(12E4-a)/12E4):qb(this)}});Qb(d)}}},!0)}else f(document).mousemove(function(a){!0!=La&&Qb(a);if(void 0==m&&"true"==k.failsafe&&"true"==k.proximityFade)for(var b=0;b<H.length;b++)X(H[b])&&
(Rb(H[b]),f("uword",H[b]).each(function(){if(this!=ua){var b=2;if(qa||ga)b=1.25;var d=Db(this),f=0,k=a.pageY-(d.top+d.height/2);a.pageX<d.left?f=d.left-a.pageX:a.pageX>=d.left+d.width&&(f=a.pageX-(d.left+d.width));d=f*f+k*k;12E3>d?Ma(this,(12E3-d)/(12E3*b)):qb(this)}}))}),f(document).click(function(a){Qb(a)}),f(document).keydown(function(a){"true"==k.failsafe&&a.altKey&&Rc();a.altKey&&(Tb=1)}),f(document).keyup(function(a){!a.altKey&&Tb&&(Tb=0,Ib())});f(window).scroll(function(){for(var a=0;a<H.length;a++)X(H[a])&&
Rb(H[a])});f(document).ready(function(){Cb();setTimeout(function(){Cb();var a=0,b=setInterval(function(){Cb();a++;15<a&&clearInterval(b)},2E3)},1E3);ma||(document.body.onmousedown=function(a){Ub=1},document.body.onmouseup=function(a){Ub=0})});"true"==k.scanFirst?bd():(y.uwordScanPage(document),k.sectionSelector&&f(k.sectionSelector).each(function(){H.push(this)}))}else y.setOptions(a)}if(window.top==window){var y={},Pb="33";y.version=Pb;var Ga=Ga||function(a,b){var c={},d=c.lib={},e=function(){},
f=d.Base={extend:function(a){e.prototype=this;var b=new e;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},l=d.WordArray=f.extend({init:function(a,
c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||m).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=
f.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new l.init(c,b)}}),k=c.enc={},m=k.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new l.init(c,b/2)}},g=k.Latin1=
{stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new l.init(c,b)}},F=k.Utf8={stringify:function(a){try{return decodeURIComponent(escape(g.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return g.parse(unescape(encodeURIComponent(a)))}},I=d.BufferedBlockAlgorithm=
f.extend({reset:function(){this._data=new l.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=F.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,f=e/(4*g),f=b?a.ceil(f):a.max((f|0)-this._minBufferSize,0);b=f*g;e=a.min(4*b,e);if(b){for(var h=0;h<b;h+=g)this._doProcessBlock(d,h);h=d.splice(0,b);c.sigBytes-=e}return new l.init(h,e)},clone:function(){var a=f.clone.call(this);a._data=this._data.clone();
return a},_minBufferSize:0});d.Hasher=I.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){I.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new v.HMAC.init(a,c)).finalize(b)}}});var v=
c.algo={};return c}(Math);(function(){var a=Ga,b=a.lib,c=b.WordArray,d=b.Hasher,e=[],b=a.algo.SHA1=d.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],g=c[1],f=c[2],k=c[3],m=c[4],p=0;80>p;p++){if(16>p)e[p]=a[b+p]|0;else{var t=e[p-3]^e[p-8]^e[p-14]^e[p-16];e[p]=t<<1|t>>>31}t=(d<<5|d>>>27)+m+e[p];t=20>p?t+((g&f|~g&k)+1518500249):40>p?t+((g^f^k)+1859775393):60>p?t+((g&f|g&k|f&k)-
1894007588):t+((g^f^k)-899497514);m=k;k=f;f=g<<30|g>>>2;g=d;d=t}c[0]=c[0]+d|0;c[1]=c[1]+g|0;c[2]=c[2]+f|0;c[3]=c[3]+k|0;c[4]=c[4]+m|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296);b[(d+64>>>9<<4)+15]=c;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=d.clone.call(this);a._hash=this._hash.clone();return a}});a.SHA1=d._createHelper(b);a.HmacSHA1=d._createHmacHelper(b)})();
var oa;oa||(oa={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=m[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,m,p,t,u=f,K,M=d[a];M&&("object"===typeof M&&"function"===typeof M.toJSON)&&(M=M.toJSON(a));"function"===typeof q&&(M=q.call(d,a,M));switch(typeof M){case "string":return b(M);case "number":return isFinite(M)?String(M):"null";case "boolean":case "null":return String(M);
case "object":if(!M)return"null";f+=k;K=[];if("[object Array]"===Object.prototype.toString.apply(M)){t=M.length;for(e=0;e<t;e+=1)K[e]=c(e,M)||"null";p=0===K.length?"[]":f?"[\n"+f+K.join(",\n"+f)+"\n"+u+"]":"["+K.join(",")+"]";f=u;return p}if(q&&"object"===typeof q)for(t=q.length,e=0;e<t;e+=1)"string"===typeof q[e]&&(m=q[e],(p=c(m,M))&&K.push(b(m)+(f?": ":":")+p));else for(m in M)Object.prototype.hasOwnProperty.call(M,m)&&(p=c(m,M))&&K.push(b(m)+(f?": ":":")+p);p=0===K.length?"{}":f?"{\n"+f+K.join(",\n"+
f)+"\n"+u+"}":"{"+K.join(",")+"}";f=u;return p}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,k,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;"function"!==typeof oa.stringify&&(oa.stringify=function(a,b,d){var e;k=f="";if("number"===typeof d)for(e=0;e<d;e+=1)k+=" ";else"string"===typeof d&&(k=d);if((q=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("realJSON.stringify");return c("",{"":a})});
"function"!==typeof oa.parse&&(oa.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("realJSON.parse");})})();(function(){var a=null,b=function(){function b(c){return(c=(""+c).match(p))?new g(m(c[1]),m(c[2]),m(c[3]),m(c[4]),m(c[5]),m(c[6]),m(c[7])):a}function c(b,e){return"string"==typeof b?encodeURI(b).replace(e,d):a}function d(a){a=a.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(a>>4&15)+"0123456789ABCDEF".charAt(a&15)}function f(b){if(b===a)return a;
b=b.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/");for(var c=r,d;(d=b.replace(c,"$1"))!=b;b=d);return b}function k(a,b){var c=a.R(),d=b.K();d?c.fa(b.j):d=b.V();d?c.ca(b.m):d=b.W();d?c.da(b.k):d=b.Y();var e=b.g,g=f(e);if(d)c.ba(b.T()),g=g&&g.replace(v,"");else if(d=!!e){if(47!==g.charCodeAt(0))var g=f(c.g||"").replace(v,""),h=g.lastIndexOf("/")+1,g=f((h?g.substring(0,h):"")+f(e)).replace(v,"")}else g=g&&g.replace(v,""),g!==e&&c.G(g);d?c.G(g):d=b.Z();d?c.M(b.l):d=b.X();d&&c.ea(b.n);return c}
function g(a,b,c,d,e,f,g){this.j=a;this.m=b;this.k=c;this.h=d;this.g=e;this.l=f;this.n=g}function m(b){return"string"==typeof b&&0<b.length?b:a}var r=RegExp(/(\/|^)(?:[^./][^/]*|\.{2,}(?:[^./][^/]*)|\.{3,}[^/]*)\/\.\.(?:\/|$)/),v=/^(?:\.\.\/)*(?:\.\.$)?/;g.prototype.toString=function(){var b=[];a!==this.j&&b.push(this.j,":");a!==this.k&&(b.push("//"),a!==this.m&&b.push(this.m,"@"),b.push(this.k),a!==this.h&&b.push(":",this.h.toString()));a!==this.g&&b.push(this.g);a!==this.l&&b.push("?",this.l);a!==
this.n&&b.push("#",this.n);return b.join("")};g.prototype.R=function(){return new g(this.j,this.m,this.k,this.h,this.g,this.l,this.n)};g.prototype.U=function(){return this.j&&decodeURIComponent(this.j).toLowerCase()};g.prototype.fa=function(b){this.j=b?b:a};g.prototype.K=function(){return a!==this.j};g.prototype.ca=function(b){this.m=b?b:a};g.prototype.V=function(){return a!==this.m};g.prototype.da=function(b){this.k=b?b:a;this.G(this.g)};g.prototype.W=function(){return a!==this.k};g.prototype.T=
function(){return this.h&&decodeURIComponent(this.h)};g.prototype.ba=function(b){if(b){b=Number(b);if(b!==(b&65535))throw Error("Bad port number "+b);this.h=""+b}else this.h=a};g.prototype.Y=function(){return a!==this.h};g.prototype.S=function(){return this.g&&decodeURIComponent(this.g)};g.prototype.G=function(b){b?(b=""+b,this.g=!this.k||/^\//.test(b)?b:"/"+b):this.g=a};g.prototype.M=function(b){this.l=b?b:a};g.prototype.Z=function(){return a!==this.l};g.prototype.aa=function(a){if("object"===typeof a&&
!(a instanceof Array)&&(a instanceof Object||"[object Array]"!==Object.prototype.toString.call(a))){var b=[],c=-1,d;for(d in a){var e=a[d];"string"===typeof e&&(b[++c]=d,b[++c]=e)}a=b}for(var b=[],c="",f=0;f<a.length;)d=a[f++],e=a[f++],b.push(c,encodeURIComponent(d.toString())),c="&",e&&b.push("=",encodeURIComponent(e.toString()));this.l=b.join("")};g.prototype.ea=function(b){this.n=b?b:a};g.prototype.X=function(){return a!==this.n};var p=/^(?:([^:/?#]+):)?(?:\/\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,
t=/[#\/\?@]/g,u=/[\#\?]/g;g.parse=b;g.create=function(b,e,f,k,m,p,q){b=new g(c(b,t),c(e,t),"string"==typeof f?encodeURIComponent(f):a,0<k?k.toString():a,c(m,u),a,"string"==typeof q?encodeURIComponent(q):a);p&&("string"===typeof p?b.M(p.replace(/[^?&=0-9A-Za-z_\-~.%]/g,d)):b.aa(p));return b};g.$=k;g.ja=f;g.va={pa:function(a){return/\.html$/.test(b(a).S())?"text/html":"application/javascript"},$:function(a,c){return a?k(b(a),b(c)).toString():""+c}};return g}();"undefined"!==typeof window&&(window.URI=
b);var c={e:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13}};c.atype=c.e;c.w={"*::class":9,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onfocus":2,"*::onload":2,"*::onreset":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::title":0,"*::translate":0,"audio::controls":0,"audio::loop":0,
"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"br::clear":0,"canvas::height":0,"canvas::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"details::open":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,
"li::type":0,"li::value":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"output::for":6,"output::name":8,"p::align":0,"progress::max":0,"progress::min":0,"progress::value":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,
"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,
"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0};c.ATTRIBS=c.w;c.c={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256};c.eflags=c.c;c.f={a:0,
abbr:272,acronym:272,address:272,applet:272,area:274,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:272,big:0,blockquote:272,body:305,br:2,button:272,canvas:0,caption:272,center:272,cite:272,code:272,col:274,colgroup:273,command:2,data:0,datalist:0,dd:1,del:272,details:0,dfn:272,dialog:272,dir:272,div:0,dl:0,dt:1,em:0,fieldset:272,figcaption:0,figure:0,font:0,footer:0,form:272,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:276,
img:274,input:274,ins:272,isindex:274,kbd:272,keygen:274,label:272,legend:272,li:1,link:274,map:272,mark:0,menu:272,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:272,option:273,output:0,p:1,param:274,pre:272,progress:0,q:272,s:272,samp:272,script:84,section:0,select:272,small:0,source:2,span:0,strike:272,strong:0,style:148,sub:272,summary:0,sup:0,table:0,tbody:1,td:1,textarea:280,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:272,u:0,ul:0,"var":272,
video:0,wbr:2};c.ELEMENTS=c.f;c.O={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",
center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",
footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",
keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",
pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",
th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"};c.ELEMENT_DOM_INTERFACES=c.O;c.N={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};c.ueffects=c.N;c.J={"command::icon":1,"video::poster":1};c.URIEFFECTS=c.J;c.L={UNSANDBOXED:2,SANDBOXED:1,DATA:0};c.ltypes=c.L;c.I={"command::icon":1,
"video::poster":1};c.LOADERTYPES=c.I;"undefined"!==typeof window&&(window.html4=c);var c=function(c){function d(a,b){var c;if(G.hasOwnProperty(b))c=G[b];else{var e=b.match(J);c=e?String.fromCharCode(parseInt(e[1],10)):(e=b.match(O))?String.fromCharCode(parseInt(e[1],16)):L&&P.test(b)?(L.innerHTML="&"+b+";",e=L.textContent,G[b]=e):"&"+b+";"}return c}function f(a){return a.replace(T,d)}function k(a){return(""+a).replace(X,"&amp;").replace(n,"&lt;").replace(W,"&gt;").replace($,"&#34;")}function m(a){return a.replace(Y,
"&amp;$1").replace(n,"&lt;").replace(W,"&gt;")}function g(b){var c={z:b.z||b.cdata,A:b.A||b.comment,B:b.B||b.endDoc,r:b.r||b.endTag,d:b.d||b.pcdata,F:b.F||b.rcdata,H:b.H||b.startDoc,v:b.v||b.startTag};return function(b,d){var e,f=/(<\/|<\!--|<[!?]|[&<>])/g;e=b+"";if(ba)e=e.split(f);else{for(var g=[],k=0,h;(h=f.exec(e))!==a;)g.push(e.substring(k,h.index)),g.push(h[0]),k=h.index+h[0].length;g.push(e.substring(k));e=g}w(c,e,0,{o:!1,C:!1},d)}}function r(a,b,c,d,e){return function(){w(a,b,c,d,e)}}function w(a,
b,d,f,g){try{a.H&&0==d&&a.H(g);for(var k,h,l,m=b.length;d<m;){var n=b[d++],q=b[d];switch(n){case "&":U.test(q)?(a.d&&a.d("&"+q,g,V,r(a,b,d,f,g)),d++):a.d&&a.d("&amp;",g,V,r(a,b,d,f,g));break;case "</":if(k=/^([-\w:]+)[^\'\"]*/.exec(q))if(k[0].length===q.length&&">"===b[d+1])d+=2,l=k[1].toLowerCase(),a.r&&a.r(l,g,V,r(a,b,d,f,g));else{var s=b,t=d,u=a,x=g,y=V,z=f,A=p(s,t);A?(u.r&&u.r(A.name,x,y,r(u,s,t,z,x)),d=A.next):d=s.length}else a.d&&a.d("&lt;/",g,V,r(a,b,d,f,g));break;case "<":if(k=/^([-\w:]+)\s*\/?/.exec(q))if(k[0].length===
q.length&&">"===b[d+1]){d+=2;l=k[1].toLowerCase();a.v&&a.v(l,[],g,V,r(a,b,d,f,g));var C=c.f[l];C&Z&&(d=v(b,{name:l,next:d,c:C},a,g,V,f))}else{var s=b,t=a,u=g,x=V,y=f,B=p(s,d);B?(t.v&&t.v(B.name,B.P,u,x,r(t,s,B.next,y,u)),d=B.c&Z?v(s,B,t,u,x,y):B.next):d=s.length}else a.d&&a.d("&lt;",g,V,r(a,b,d,f,g));break;case "\x3c!--":if(!f.C){for(h=d+1;h<m&&(">"!==b[h]||!/--$/.test(b[h-1]));h++);if(h<m){if(a.A){var D=b.slice(d,h).join("");a.A(D.substr(0,D.length-2),g,V,r(a,b,h+1,f,g))}d=h+1}else f.C=!0}f.C&&a.d&&
a.d("&lt;!--",g,V,r(a,b,d,f,g));break;case "<!":if(/^\w/.test(q)){if(!f.o){for(h=d+1;h<m&&">"!==b[h];h++);h<m?d=h+1:f.o=!0}f.o&&a.d&&a.d("&lt;!",g,V,r(a,b,d,f,g))}else a.d&&a.d("&lt;!",g,V,r(a,b,d,f,g));break;case "<?":if(!f.o){for(h=d+1;h<m&&">"!==b[h];h++);h<m?d=h+1:f.o=!0}f.o&&a.d&&a.d("&lt;?",g,V,r(a,b,d,f,g));break;case ">":a.d&&a.d("&gt;",g,V,r(a,b,d,f,g));break;case "":break;default:a.d&&a.d(n,g,V,r(a,b,d,f,g))}}a.B&&a.B(g)}catch(E){if(E!==V)throw E;}}function v(a,b,d,f,g,h){var k=a.length;
da.hasOwnProperty(b.name)||(da[b.name]=RegExp("^"+b.name+"(?:[\\s\\/]|$)","i"));for(var l=da[b.name],n=b.next,p=b.next+1;p<k&&("</"!==a[p-1]||!l.test(a[p]));p++);p<k&&(p-=1);k=a.slice(n,p).join("");if(b.c&c.c.CDATA)d.z&&d.z(k,f,g,r(d,a,p,h,f));else if(b.c&c.c.RCDATA)d.F&&d.F(m(k),f,g,r(d,a,p,h,f));else throw Error("bug");return p}function p(a,b){var d=/^([-\w:]+)/.exec(a[b]),g={};g.name=d[1].toLowerCase();g.c=c.f[g.name];for(var h=a[b].substr(d[0].length),k=b+1,m=a.length;k<m&&">"!==a[k];k++)h+=a[k];
if(!(m<=k)){for(var n=[];""!==h;)if(d=aa.exec(h))if(d[4]&&!d[5]||d[6]&&!d[7]){for(var d=d[4]||d[6],p=!1,h=[h,a[k++]];k<m;k++){if(p){if(">"===a[k])break}else 0<=a[k].indexOf(d)&&(p=!0);h.push(a[k])}if(m<=k)break;h=h.join("")}else{var p=d[1].toLowerCase(),q;if(d[2]){q=d[3];var r=q.charCodeAt(0);if(34===r||39===r)q=q.substr(1,q.length-2);q=f(q.replace(R,""))}else q="";n.push(p,q);h=h.substr(d[0].length)}else h=h.replace(/^[\s\S][^a-z\s]*/,"");g.P=n;g.next=k+1;return g}}function t(b){function d(a,b){h||
b.push(a)}var f,h;return g({startDoc:function(){f=[];h=!1},startTag:function(d,g,m){if(!h&&c.f.hasOwnProperty(d)){var l=c.f[d];if(!(l&c.c.FOLDABLE)){var n=b(d,g);if(n){if("object"!==typeof n)throw Error("tagPolicy did not return object (old API?)");if("attribs"in n)g=n.attribs;else throw Error("tagPolicy gave no attribs");var p;"tagName"in n?(p=n.tagName,n=c.f[p]):(p=d,n=l);if(l&c.c.OPTIONAL_ENDTAG){var q=f[f.length-1];q&&q.D===d&&(q.t!==p||d!==p)&&m.push("</",q.t,">")}l&c.c.EMPTY||f.push({D:d,t:p});
m.push("<",p);d=0;for(q=g.length;d<q;d+=2){var r=g[d],s=g[d+1];s!==a&&void 0!==s&&m.push(" ",r,'="',k(s),'"')}m.push(">");l&c.c.EMPTY&&!(n&c.c.EMPTY)&&m.push("</",p,">")}else h=!(l&c.c.EMPTY)}}},endTag:function(a,b){if(h)h=!1;else if(c.f.hasOwnProperty(a)){var d=c.f[a];if(!(d&(c.c.EMPTY|c.c.FOLDABLE))){if(d&c.c.OPTIONAL_ENDTAG)for(d=f.length;0<=--d;){var g=f[d].D;if(g===a)break;if(!(c.f[g]&c.c.OPTIONAL_ENDTAG))return}else for(d=f.length;0<=--d&&f[d].D!==a;);if(!(0>d)){for(g=f.length;--g>d;){var k=
f[g].t;c.f[k]&c.c.OPTIONAL_ENDTAG||b.push("</",k,">")}d<f.length&&(a=f[d].t);f.length=d;b.push("</",a,">")}}}},pcdata:d,rcdata:d,cdata:d,endDoc:function(a){for(;f.length;f.length--)a.push("</",f[f.length-1].t,">")}})}function u(c,d,e,f,g){if(!g)return a;try{var h=b.parse(""+c);if(h&&(!h.K()||Q.test(h.U()))){var k=g(h,d,e,f);return k?k.toString():a}}catch(m){}return a}function s(a,b,c,d,e){c||a(b+" removed",{Q:"removed",tagName:b});if(d!==e){var f="changed";d&&!e?f="removed":!d&&e&&(f="added");a(b+
"."+c+" "+f,{Q:f,tagName:b,ia:c,oldValue:d,newValue:e})}}function y(a,b,c){b=b+"::"+c;if(a.hasOwnProperty(b))return a[b];b="*::"+c;if(a.hasOwnProperty(b))return a[b]}function A(b,d,f,g,h){for(var k=0;k<d.length;k+=2){var m=d[k],l=d[k+1],n=l,p=a,q;if((q=b+"::"+m,c.w.hasOwnProperty(q))||(q="*::"+m,c.w.hasOwnProperty(q)))p=c.w[q];if(p!==a)switch(p){case c.e.NONE:break;case c.e.SCRIPT:l=a;h&&s(h,b,m,n,l);break;case c.e.STYLE:if("undefined"===typeof B){l=a;h&&s(h,b,m,n,l);break}var r=[];B(l,{ka:function(b,
d){var g=b.toLowerCase(),h=H[g];h&&(E(g,h,d,f?function(a){return u(a,c.N.ga,c.L.ha,{TYPE:"CSS",CSS_PROP:g},f)}:a),r.push(b+": "+d.join(" ")))}});l=0<r.length?r.join(" ; "):a;h&&s(h,b,m,n,l);break;case c.e.ID:case c.e.IDREF:case c.e.IDREFS:case c.e.GLOBAL_NAME:case c.e.LOCAL_NAME:case c.e.CLASSES:l=g?g(l):l;h&&s(h,b,m,n,l);break;case c.e.URI:l=u(l,y(c.J,b,m),y(c.I,b,m),{TYPE:"MARKUP",XML_ATTR:m,XML_TAG:b},f);h&&s(h,b,m,n,l);break;case c.e.URI_FRAGMENT:l&&"#"===l.charAt(0)?(l=l.substring(1),l=g?g(l):
l,l!==a&&void 0!==l&&(l="#"+l)):l=a;h&&s(h,b,m,n,l);break;default:l=a,h&&s(h,b,m,n,l)}else l=a,h&&s(h,b,m,n,l);d[k+1]=l}return d}function C(a,b,d){return function(f,g){if(c.f[f]&c.c.UNSAFE)d&&s(d,f,void 0,void 0,void 0);else return{attribs:A(f,g,a,b,d)}}}function D(a,b){var c=[];t(b)(a,c);return c.join("")}var B,E,H;"undefined"!==typeof window&&(B=window.parseCssDeclarations,E=window.sanitizeCssProperty,H=window.cssSchema);var G={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:"\u00a0"},
J=/^#(\d+)$/,O=/^#x([0-9A-Fa-f]+)$/,P=/^[A-Za-z][A-za-z0-9]+$/,L="undefined"!==typeof window&&window.document?window.document.createElement("textarea"):a,R=/\0/g,T=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,U=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,X=/&/g,Y=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,n=/[<]/g,W=/>/g,$=/\"/g,aa=/^\s*([-.:\w]+)(?:\s*(=)\s*((")[^"]*("|$)|(')[^']*('|$)|(?=[a-z][-\w]*\s*=)|[^"'\s]*))?/i,ba=3==="a,b".split(/(,)/).length,Z=c.c.CDATA|c.c.RCDATA,V={},da={},Q=/^(?:https?|mailto)$/i,
z={};z.la=z.escapeAttrib=k;z.ma=z.makeHtmlSanitizer=t;z.na=z.makeSaxParser=g;z.oa=z.makeTagPolicy=C;z.qa=z.normalizeRCData=m;z.ra=z.sanitize=function(a,b,c,d){return D(a,C(b,c,d))};z.sa=z.sanitizeAttribs=A;z.ta=z.sanitizeWithPolicy=D;z.ua=z.unescapeEntities=f;return z}(c),d=c.sanitize;"undefined"!==typeof window&&(window.html=c,window.html_sanitize=d)})();var fb=void 0,Bb=!1,wa="https://ultralink.me/",Aa="https:"==document.location.protocol?"https://":"http://",f=void 0,eb=void 0;y.sendExtensionMessage||
(y.sendExtensionMessage=function(a,b){var c=document.createElement("command");c.setAttribute("type",a);c.textContent=oa.stringify(b);var d=document.getElementsByTagName("ultralinkloaded");0<d.length&&d[0].appendChild(c)});var qa=!(!window.opera||!window.opera.version),ga="MozBoxSizing"in document.documentElement.style,Mb=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor"),Lb=!Mb&&!qa&&"WebkitTransform"in document.documentElement.style,na="msTransform"in document.documentElement.style,
dc=/webkit/.test(navigator.userAgent.toLowerCase()),nc={href:"Link",href2:"Link 2",href3:"Link 3",buy:"Buy",video:"Video",videoyoutube:"YouTube",wikipedia:"Wikipedia",mediawiki:"MediaWiki",freebase:"Freebase",angellist:"AngelList",annotation:"Annotation",map:"Map",mapgoogle:"Google Map",buylinkshareapple:"Buy",buyamazon:"Buy",buyebay:"Buy",imdb:"IMDB",manpage:"Documentation",appios:"iOS App",appmac:"Mac App",appwebos:"webOS App",appandroid:"Android App",appwindows:"Windows App",facebook:"Facebook",
twitter:"Twitter",linkedin:"LinkedIn",googleplus:"Google+",github:"GitHub",searchgoogle:"Google Search",searchyahoo:"Yahoo Search",searchbing:"Bing Search",search:"Search"},G=[];G["(.png|.jpeg|.jpg|.gif|.tiff|.svg)$"]="image";G["http.*gravatar.com/avatar/"]="image";G["http.*wikipedia.org/wiki/(?!(User|Wikipedia|File|MediaWiki|Template|Help|Category|Portal|Book|Education_Program|TimedText)(_talk)?:)"]="wikipedia";G["http.*freebase.com"]="freebase";G["http.*angel.co"]="angellist";G["http.*ultralink.me/annotation/"]=
"annotation";G["http.*www.amazon.com"]="buyamazon";G["http.*ebay.com"]="buyebay";G["http://click.linksynergy.com.*partnerId%253D30"]="buylinkshareapple";G["http://click.linksynergy.com"]="buy";G["http.*www.imdb.com"]="imdb";G["http.*developer.apple.com.*/Manpages/"]="manpage";G["http.*opengl.org.*/docs/man/"]="manpage";G["http.*developer.palm.com/appredirect"]="appwebos";G["http.*linkedin.com"]="linkedin";G["http.*facebook.com"]="facebook";G["http.*twitter.com"]="twitter";G["http.*plus.google.com"]=
"googleplus";G["http.*maps.google.com"]="mapgoogle";G["http.*youtube.com"]="videoyoutube";G["http.*google.com/search?"]="searchgoogle";G["http.*search.yahoo.com/search?"]="searchyahoo";G["http.*bing.com/search?"]="searchbing";var C=[];C.push({siteRegex:"http.*wikipedia\\.org",selector:"div.mw-content-ltr p, div.mw-content-ltr ul, div.mw-content-ltr dl"});C.push({siteRegex:"http.*economist\\.com",selector:"div.main-content p"});C.push({siteRegex:"http.*blogspot\\.com",selector:"div.entry-content"});
C.push({siteRegex:"http.*news\\.google\\.com/?$",selector:"div.esc-lead-snippet-wrapper"});C.push({siteRegex:"http.*daringfireball\\.net",selector:"div.article p, div.article ul, div.article dl, dl dd"});var Gc="en",Hc="US",vb=window.navigator.language;vb||(vb=window.navigator.browserLanguage);var Vb=vb.match(/([a-z,A-Z]{2})(-[a-z,A-Z]{2})?/);null!=Vb&&2<=Vb.length&&(Gc=Vb[1].toLowerCase());var Wb=vb.match(/[a-z,A-Z]{2}-([a-z,A-Z]{2})/);null!=Wb&&2<=Wb.length&&(Hc=Wb[1].toUpperCase());var k={failsafe:"true",
environment:"javascript",editorStyle:"false",associatedWebsite:window.location.protocol+"//"+window.location.host,imagesURL:Aa+"ultralink.me/ultralinkImages/",scanFirst:"true",UMAnalytics:"true",notLivePage:"false",noHover:"false",previewCallback:void 0,database:"",replaceHyperlinks:"false",cleanMode:"false",addSearch:"true",seperateSearch:"false",searchURL:"http://www.google.com/search?q=",newWindows:"false",proximityFade:"true",hoverTime:1E5,scanSelector:".ultralink",userLanguageOrder:[Gc],userCountryOrder:[Hc],
hoverRecoverTime:100,inlinePopups:"true",iconSide:"right",combineLikeButtons:"true"},$a=Aa+"ultralink.me/API/current/analytics/",ab="https://ultralink.me/API/current/",ma="ontouchstart"in window,H=[],Pa="",Ha=[],Ub=0,Tb=0,m=void 0,ua,La=!1,ta=0,sa=[],pa=void 0,Xa=!0,Xb,ra={},sb="wikipedia mediawiki angellist annotation videoyoutube mapgoogle ultralinkme".split(" "),xa=!1,Ia=10,Y=75,O=75,s=15,Z=30,Dc=3,jd="black",la=20,ka=15,Ec="#ddd",id=1,w=3,cd=0.5,Ya=22,Kb=0.6,Jb="#ccc",ya="#eee",gb,kc="#000",P,
E,Ba,ha,T,aa,J,Nb="#000",rc=0.12,Va,Wa,dd="#000",fd=0.06,ed=4,gd=0.5,hb,ib,oc="#bbb",qc="#fff",Wc=0.06,jb,sc=10,A,Ca,kb,R,ia,L,ba,Tc=0.8;yb();var Pc=/MSIE ([0-9]{1,}[.0-9]{0,})/;y.fragmentCallback=function(a){f('head script[src="https://ultralink.me'+a.URI+'"]').remove();var b=Ga.SHA1("https://ultralink.me"+a.URI);void 0!=y[b]&&(y[b](a),delete y[b])};var $c=RegExp("http.*wikipedia.org/wiki/(?!(User|Wikipedia|File|MediaWiki|Template|Help|Category|Portal|Book|Education_Program|TimedText)(_talk)?:)",
"i"),wc=!1;y.uwordScanPage=function(a){f("uword",a).each(function(){var a=f(this);if("true"!=this.alreadyScanned){this.alreadyScanned="true";var c=da(this,"data-ul");c&&(c.callout&&"normal"==c.callout&&Ma(this,1),c.status&&("hit"!=c.status&&"true"==k.editorStyle)&&this.setAttribute("title",c.status));na&&10>Ab()&&(this.ieSpan=f("<span>").text(this.textContent).css({position:"absolute",display:"none"})[0],this.parentNode.insertBefore(this.ieSpan,this));a.click(function(){if("true"==k.failsafe&&!1==
xa){ua=this;var a=da(this,"data-ul");tc(a.category,a.database,a.ID,this.textContent);rb(this)}});"true"!=k.noHover&&(ma||a.hover(function(){if("true"==k.failsafe&&!Ub&&!1==xa&&!0!=La){Ma(this,1);m!=this&&Ka();ua=this;var a=this;Xb=setTimeout(function(){tc(c.category,c.database,c.ID,this.textContent);rb(a)},k.hoverTime,a)}},function(){clearTimeout(Xb);Xb=void 0;c&&c.callout&&"normal"==c.callout||qb(this);ua=void 0}))}})};var $={};y.handleExtensionMessage=function(a,b){switch(a){case "overrideSettings":bc(b);
break;case "createultralink":y.createUltralinkFromSelection(b.messageSelected);break;case "Authenticated Types":sb="wikipedia mediawiki angellist annotation videoyoutube mapgoogle ultralinkme".split(" ");for(r=0;r<b.length;r++)sb.push(b[r]);break;case "Cache Clear":delete ra[b.service+b.URL];break;case "twitterResult":case "linkedinResult":case "facebookResult":case "googleplusResult":case "wikipediaResult":case "mediawikiResult":case "angellistResult":case "annotationResult":if(void 0!=m){var c=
m;if(void 0!=c.inlinePaper&&c.inlinePaper.linkType==b.type&&c.inlinePaper.URL==b.URL)if("success"==b.status)switch(a){case "wikipediaResult":case "mediawikiResult":switch(b.command){case "page":var d=b.data;d.pageURL=b.URL;ra[b.type+b.URL]=d;W(d,b.type,b.URL,c.currentInlineImage)}break;case "angellistResult":switch(b.command){case "profile":$=b.data;$.pageURL=b.URL;"users"==b.data.type?y.sendExtensionMessage("angellistQuery",{command:"userRoles",URL:b.URL,id:$.data.id}):(ra[b.type+b.URL]=$,W($,b.type,
b.URL,c.currentInlineImage));break;case "userRoles":$.startupRoles=b.data,ra[b.type+b.URL]=$,W($,b.type,b.URL,c.currentInlineImage)}break;case "annotationResult":d=b.data,ra[b.type+b.URL]=d,W(d,b.type,b.URL,c.currentInlineImage)}else Hb(c),U()}break;case "viewLoad":void 0!=m&&(void 0!=m.inlinePaper&&m.inlinePaper.linkType==b.message.type&&m.inlinePaper.URL==b.message.URL)&&(La=m.expanded=!0,ub(void 0,m,b.message.type,b.message.height));break;default:return!1}return!0};y.createUltralinkFromSelection=
function(a){var b=window.getSelection();b.anchorNode==b.focusNode&&"A"!=b.anchorNode.parentElement.nodeName&&64>b.toString().length&&ad(a,b.anchorNode.parentNode)};var bb=1E3;y.setOptions=function(a){for(var b in a)if(k[b]=a[b],"basePath"==b&&(wa=k.basePath),"hardcodedSites"==b)for(var c=0;c<k.hardcodedSites.length;c++)for(var d=0;d<C.length;d++){if(C[d].siteRegex==k.hardcodedSites[c].siteRegex){C[d].selector=k.hardcodedSites[c].selector;break}C.push(k.hardcodedSites[c])}"false"==k.failsafe&&Ib();
"true"==k.forceReload&&(Ka(),xa=!1,k.forceReload="false")};y.startUltralink=function(a){a?a.basePath&&(wa=a.basePath):a="";var b=!1;"undefined"!=typeof jQuery&&"undefined"!=typeof Raphael?(jQuery.isVersion=db,jQuery.isVersion("1.7",">")||(f=jQuery),void 0!=f?b=!0:fb=a):fb=a;b?$b(a):("undefined"==typeof jQuery?Ua(wa+"ultralinkLibraries/jquery+patch-min.js",xb):(jQuery.isVersion=db,jQuery.isVersion("1.7",">")&&(eb=jQuery,Ua(wa+"ultralinkLibraries/jquery+patch-min.js",xb))),"undefined"==typeof Raphael&&
Ua(wa+"ultralinkLibraries/raphael+patch-min.js",xb))};"undefined"!=typeof jQuery&&(jQuery.isVersion=db,jQuery.isVersion("1.7",">")||(f=jQuery,Fc()));y.loaded=!0;var Ra=document.getElementsByTagName("head")[0];if(Ra)for(var r=0;r<Ra.children.length;r++)"ultralinkloaded"==Ra.children[r].tagName.toLowerCase()&&(y.loaded=!1);else y.loaded=!1;if(y.loaded){Ra.appendChild(document.createElement("ultralinkloaded"));var Sa=0.25,Ta=0.4;qa&&(Sa*=2,Ta*=1.75);var cb=document.createElement("style");cb.id="ultralinkCSS";
cb.type="text/css";var Yb=6;if(ga||qa)Yb=4;var D="",D=D+("@font-face { font-family: 'Open Sans'; font-style: normal; font-weight: 700; src: local('Open Sans Bold'), local('OpenSans-Bold'), url("+k.imagesURL+"/OpenSans700.ttf) format('truetype'); src: url("+k.imagesURL+"/OpenSans700.eot); src: local('Open Sans Bold'), local('OpenSans-Bold'), url("+k.imagesURL+"/OpenSans700.eot) format('embedded-opentype'), url("+k.imagesURL+"/OpenSans700.woff) format('woff'); }"),D=D+"uword { white-space: nowrap; cursor: pointer; } ",
D=D+"span.ultralinkLink, div.ultralinkLinkImageBackPreview, div.ultralinkLinkImageBackNoPreview, a.ultralinkLinkImageLink, a.ultralinkLinkImageLink:hover, img.ultralinkLinkImage { float: none; margin: 0; padding: 0; border: 0; outline: 0; vertical-align: baseline; transition-delay: 0s; transition-duration: 0s; position: absolute; z-index: 2147483645; } ",D=D+("span.ultralinkLink { background:transparent; color: #fafafa; text-decoration: none; cursor: default; font-family: Open Sans, Arial; font-weight: bold; font-style: normal; text-shadow: "+
("rgba(0,0,0,0.4) 0 1px 12px, rgba(0,0,0,"+Ta+") -1px  0px 1px,rgba(0,0,0,"+Ta+") -1px  2px 1px,rgba(0,0,0,"+Ta+")  1px  2px 1px,rgba(0,0,0,"+Ta+")  1px  0px 1px,rgba(0,0,255,"+Sa+") -1px -1px 1px,rgba(0,0,255,"+Sa+") -1px  1px 1px,rgba(0,0,255,"+Sa+")  1px  1px 1px,rgba(0,0,255,"+Sa+")  1px -1px 1px")+";} "),D=D+("div.ultralinkLinkImageBackPreview { background: rgba(30,30,30,0.5); box-shadow: 0 0 "+Yb+"px rgb(30,30,30); } "),D=D+("div.ultralinkLinkImageBackNoPreview { background: rgba(0,0,192,0.5); box-shadow: 0 0 "+
Yb+"px rgb(0,0,192); } "),D=D+"a.ultralinkLinkImageLink, a.ultralinkLinkImageLink:hover { background:transparent; cursor: pointer; line-height: 0px; } ",D=D+"img.ultralinkLinkImage, img.ultralinkLinkImage:hover { background:transparent; cursor: pointer; } ",D=D+"div#ultralinkInlineContent { position:absolute; z-index:-2147483647; border:none; padding:0px; transition-delay:0s; transition-duration:0s; } ",D=D+"svg.ultralinkSVG { transition-delay:0s; transition-duration:0s; -webkit-font-smoothing: subpixel-antialiased; } ";
cb.textContent=D;Ra.appendChild(cb);var kd=0,Zb=function(){setTimeout(function(){"undefined"!=typeof f?(0==f("#ultralinkCSS").length&&Ra.appendChild(cb),30>kd++&&Zb()):Zb()},1E3)};Zb();var Ja=document.createElement("div");Ja.id="ultralinkFontLoader";Ja.style.setProperty("position","absolute");Ja.style.setProperty("top","-1000px");Ja.style.setProperty("left","-1000px");Ja.style.setProperty("font-family","Open Sans");Ja.textContent=".";var Ic=function(){document.body.appendChild(Ja);setTimeout(function(){var a=
document.getElementById("ultralinkFontLoader");a&&document.body.removeChild(a)},1)};if(document.body)Ic();else var Jc=0,Kc=setInterval(function(){document.body&&(Ic(),clearInterval(Kc));Jc++;100<Jc&&clearInterval(Kc)},100)}"undefined"==typeof window.Ultralink&&(window.Ultralink=y);var wb;"function"==typeof define?wb=define:"undefined"!=typeof CloudFlare&&CloudFlare.define&&(wb=CloudFlare.define);wb&&wb(["ultralinkLibraries/jquery+patch-min.js","ultralinkLibraries/raphael+patch-min.js"],function(){return y});
return y}})();
